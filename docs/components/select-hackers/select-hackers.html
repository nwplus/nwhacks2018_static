<html><head></head><body><div hidden="" by-polymer-bundler=""><dom-module id="paper-dialog-scrollable" assetpath="../../bower_components/paper-dialog-scrollable/"><template><style>:host{display:block;@apply --layout-relative;}:host(.is-scrolled:not(:first-child))::before{content:'';position:absolute;top:0;left:0;right:0;height:1px;background:var(--divider-color);}:host(.can-scroll:not(.scrolled-to-bottom):not(:last-child))::after{content:'';position:absolute;bottom:0;left:0;right:0;height:1px;background:var(--divider-color);}.scrollable{padding:0 24px;@apply --layout-scroll;@apply --paper-dialog-scrollable;}.fit{@apply --layout-fit;}</style><div id="scrollable" class="scrollable" on-scroll="updateScrollState"><slot></slot></div></template></dom-module><script>Polymer({is:"paper-dialog-scrollable",properties:{dialogElement:{type:Object}},get scrollTarget(){return this.$.scrollable},ready:function ready(){this._ensureTarget();this.classList.add("no-padding")},attached:function attached(){this._ensureTarget();requestAnimationFrame(this.updateScrollState.bind(this))},updateScrollState:function updateScrollState(){this.toggleClass("is-scrolled",0<this.scrollTarget.scrollTop);this.toggleClass("can-scroll",this.scrollTarget.offsetHeight<this.scrollTarget.scrollHeight);this.toggleClass("scrolled-to-bottom",this.scrollTarget.scrollTop+this.scrollTarget.offsetHeight>=this.scrollTarget.scrollHeight)},_ensureTarget:function _ensureTarget(){this.dialogElement=this.dialogElement||this.parentElement;if(this.dialogElement&&this.dialogElement.behaviors&&0<=this.dialogElement.behaviors.indexOf(Polymer.PaperDialogBehaviorImpl)){this.dialogElement.sizingTarget=this.scrollTarget;this.scrollTarget.classList.remove("fit")}else if(this.dialogElement){this.scrollTarget.classList.add("fit")}}});</script><dom-module id="paper-badge" assetpath="../../bower_components/paper-badge/"><template><style>:host{display:block;position:absolute;outline:none;}:host([hidden]), [hidden]{display:none !important;}iron-icon{--iron-icon-width:12px;--iron-icon-height:12px;}.badge{@apply --layout;@apply --layout-center-center;@apply --paper-font-common-base;font-weight:normal;font-size:11px;border-radius:50%;margin-left:var(--paper-badge-margin-left, 0px);margin-bottom:var(--paper-badge-margin-bottom, 0px);width:var(--paper-badge-width, 20px);height:var(--paper-badge-height, 20px);background-color:var(--paper-badge-background, var(--accent-color));opacity:var(--paper-badge-opacity, 1.0);color:var(--paper-badge-text-color, white);@apply --paper-badge;}</style><div class="badge"><iron-icon hidden$="{{!_computeIsIconBadge(icon)}}" icon="{{icon}}"></iron-icon><span id="badge-text" hidden$="{{_computeIsIconBadge(icon)}}">{{label}}</span></div></template><script>Polymer({is:"paper-badge",hostAttributes:{role:"status",tabindex:0},behaviors:[Polymer.IronResizableBehavior],listeners:{"iron-resize":"updatePosition"},properties:{for:{type:String,observer:"_forChanged"},label:{type:String,observer:"_labelChanged"},icon:{type:String,value:""},_boundNotifyResize:{type:Function,value:function value(){return this.notifyResize.bind(this)}},_boundUpdateTarget:{type:Function,value:function value(){return this._updateTarget.bind(this)}}},attached:function attached(){requestAnimationFrame(this._boundUpdateTarget)},attributeChanged:function attributeChanged(name){if("hidden"===name){this.updatePosition()}},_forChanged:function _forChanged(){if(!this.isAttached){return}this._updateTarget()},_labelChanged:function _labelChanged(){this.setAttribute("aria-label",this.label)},_updateTarget:function _updateTarget(){this._target=this.target;requestAnimationFrame(this._boundNotifyResize)},_computeIsIconBadge:function _computeIsIconBadge(icon){return 0<icon.length},get target(){var parentNode=Polymer.dom(this).parentNode,ownerRoot=Polymer.dom(this).getOwnerRoot(),target;if(this.for){target=Polymer.dom(ownerRoot).querySelector("#"+this.for)}else{target=parentNode.nodeType==Node.DOCUMENT_FRAGMENT_NODE?ownerRoot.host:parentNode}return target},updatePosition:function updatePosition(){if(!this._target||!this.offsetParent){return}var parentRect=this.offsetParent.getBoundingClientRect(),targetRect=this._target.getBoundingClientRect(),thisRect=this.getBoundingClientRect();this.style.left=targetRect.left-parentRect.left+(targetRect.width-thisRect.width/2)+"px";this.style.top=targetRect.top-parentRect.top-thisRect.height/2+"px"}});</script></dom-module><dom-module id="paper-toggle-button" assetpath="../../bower_components/paper-toggle-button/"><template strip-whitespace=""><style>:host{display:inline-block;@apply --layout-horizontal;@apply --layout-center;@apply --paper-font-common-base;}:host([disabled]){pointer-events:none;}:host(:focus){outline:none;}.toggle-bar{position:absolute;height:100%;width:100%;border-radius:8px;pointer-events:none;opacity:0.4;transition:background-color linear .08s;background-color:var(--paper-toggle-button-unchecked-bar-color, #000000);@apply --paper-toggle-button-unchecked-bar;}.toggle-button{position:absolute;top:-3px;left:0;height:20px;width:20px;border-radius:50%;box-shadow:0 1px 5px 0 rgba(0, 0, 0, 0.6);transition:-webkit-transform linear .08s, background-color linear .08s;transition:transform linear .08s, background-color linear .08s;will-change:transform;background-color:var(--paper-toggle-button-unchecked-button-color, var(--paper-grey-50));@apply --paper-toggle-button-unchecked-button;}.toggle-button.dragging{-webkit-transition:none;transition:none;}:host([checked]:not([disabled])) .toggle-bar{opacity:0.5;background-color:var(--paper-toggle-button-checked-bar-color, var(--primary-color));@apply --paper-toggle-button-checked-bar;}:host([disabled]) .toggle-bar{background-color:#000;opacity:0.12;}:host([checked]) .toggle-button{-webkit-transform:translate(16px, 0);transform:translate(16px, 0);}:host([checked]:not([disabled])) .toggle-button{background-color:var(--paper-toggle-button-checked-button-color, var(--primary-color));@apply --paper-toggle-button-checked-button;}:host([disabled]) .toggle-button{background-color:#bdbdbd;opacity:1;}.toggle-ink{position:absolute;top:-14px;left:-14px;right:auto;bottom:auto;width:48px;height:48px;opacity:0.5;pointer-events:none;color:var(--paper-toggle-button-unchecked-ink-color, var(--primary-text-color));@apply --paper-toggle-button-unchecked-ink;}:host([checked]) .toggle-ink{color:var(--paper-toggle-button-checked-ink-color, var(--primary-color));@apply --paper-toggle-button-checked-ink;}.toggle-container{display:inline-block;position:relative;width:36px;height:14px;margin:4px 1px;}.toggle-label{position:relative;display:inline-block;vertical-align:middle;padding-left:var(--paper-toggle-button-label-spacing, 8px);pointer-events:none;color:var(--paper-toggle-button-label-color, var(--primary-text-color));}:host([invalid]) .toggle-bar{background-color:var(--paper-toggle-button-invalid-bar-color, var(--error-color));}:host([invalid]) .toggle-button{background-color:var(--paper-toggle-button-invalid-button-color, var(--error-color));}:host([invalid]) .toggle-ink{color:var(--paper-toggle-button-invalid-ink-color, var(--error-color));}</style><div class="toggle-container"><div id="toggleBar" class="toggle-bar"></div><div id="toggleButton" class="toggle-button"></div></div><div class="toggle-label"><slot></slot></div></template><script>Polymer({is:"paper-toggle-button",behaviors:[Polymer.PaperCheckedElementBehavior],hostAttributes:{role:"button","aria-pressed":"false",tabindex:0},properties:{},listeners:{track:"_ontrack"},attached:function attached(){Polymer.RenderStatus.afterNextRender(this,function(){Polymer.Gestures.setTouchAction(this,"pan-y")})},_ontrack:function _ontrack(event){var track=event.detail;if("start"===track.state){this._trackStart(track)}else if("track"===track.state){this._trackMove(track)}else if("end"===track.state){this._trackEnd(track)}},_trackStart:function _trackStart(){this._width=this.$.toggleBar.offsetWidth/2;this._trackChecked=this.checked;this.$.toggleButton.classList.add("dragging")},_trackMove:function _trackMove(track){var dx=track.dx;this._x=Math.min(this._width,Math.max(0,this._trackChecked?this._width+dx:dx));this.translate3d(this._x+"px",0,0,this.$.toggleButton);this._userActivate(this._x>this._width/2)},_trackEnd:function _trackEnd(){this.$.toggleButton.classList.remove("dragging");this.transform("",this.$.toggleButton)},_createRipple:function _createRipple(){this._rippleContainer=this.$.toggleButton;var ripple=Polymer.PaperRippleBehavior._createRipple();ripple.id="ink";ripple.setAttribute("recenters","");ripple.classList.add("circle","toggle-ink");return ripple}});</script></dom-module><dom-module id="paper-range-slider" assetpath="../../bower_components/paper-range-slider/"><template><style>:host{@apply --layout;@apply --layout-justified;@apply --layout-center;--paper-range-slider-width:200px;--paper-range-slider-lower-color:var(--paper-grey-400);--paper-range-slider-active-color:var(--primary-color);--paper-range-slider-higher-color:var(--paper-grey-400);--paper-range-slider-knob-color:var(--primary-color);--paper-range-slider-pin-color:var(--primary-color);--paper-range-slider-pin-start-color:var(--paper-grey-400);--paper-range-slider-knob-start-color:transparent;--paper-range-slider-knob-start-border-color:var(--paper-grey-400);}#sliderOuterDiv_0{display:inline-block;width:var(--paper-range-slider-width);}#sliderOuterDiv_1{position:relative;height:calc(30px + var(--paper-single-range-slider-height, 2px));margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;}.sliderKnobMinMax{position:absolute;left:0;top:0;margin-left:calc(-15px - var(--paper-single-range-slider-height, 2px)/2);width:calc(30px + var(--paper-single-range-slider-height, 2px));height:calc(30px + var(--paper-single-range-slider-height, 2px));}.divSpanWidth{position:absolute;width:100%;display:block;top:0px;}#sliderMax{line-height:normal;--paper-single-range-slider-bar-color:transparent;--paper-single-range-slider-knob-color:var(--paper-range-slider-knob-color);--paper-single-range-slider-pin-color:var(--paper-range-slider-pin-color);--paper-single-range-slider-active-color:var(--paper-range-slider-active-color);--paper-single-range-slider-secondary-color:var(--paper-range-slider-higher-color);--paper-single-range-slider-pin-start-color:var(--paper-range-slider-pin-start-color);--paper-single-range-slider-knob-start-color:var(--paper-range-slider-knob-start-color);--paper-single-range-slider-knob-start-border-color:var(--paper-range-slider-knob-start-border-color);}#sliderMin{line-height:normal;--paper-single-range-slider-active-color:var(--paper-range-slider-lower-color);--paper-single-range-slider-secondary-color:transparent;--paper-single-range-slider-knob-color:var(--paper-range-slider-knob-color);--paper-single-range-slider-pin-color:var(--paper-range-slider-pin-color);--paper-single-range-slider-pin-start-color:var(--paper-range-slider-pin-start-color);--paper-single-range-slider-knob-start-color:var(--paper-range-slider-knob-start-color);--paper-single-range-slider-knob-start-border-color:var(--paper-range-slider-knob-start-border-color);}</style><div id="sliderOuterDiv_0" style="[[mainDivStyle]]"><div id="sliderOuterDiv_1"><div id="backDiv" class="divSpanWidth" on-down="_backDivDown" on-tap="_backDivTap" on-up="_backDivUp" on-track="_backDivOnTrack" on-transitionend="_backDivTransEnd"><div id="backDivInner_0" style="line-height:200%;"><br></div></div><div class="divSpanWidth" style="pointer-events: none;"><paper-single-range-slider id="sliderMax" display-function="[[displayFunction]]" disabled$="[[disabled]]" on-down="_sliderMaxDown" on-up="_sliderMaxUp" step="[[step]]" min="[[min]]" max="[[max]]" value="[[valueMax]]" secondary-progress="[[max]]" style="width:100%;"></paper-single-range-slider></div><div class="divSpanWidth" style="pointer-events: none;"><paper-single-range-slider id="sliderMin" display-function="[[displayFunction]]" disabled$="[[disabled]]" on-down="_sliderMinDown" on-up="_sliderMinUp" noink="" step="[[step]]" min="[[min]]" max="[[max]]" value="[[valueMin]]" style="width:100%;"></paper-single-range-slider></div><div id="backDivInner_1" style="line-height:100%;"><br></div></div></div></template><script>var PaperRangeSlider=function(_Polymer$GestureEvent){var _Mathmin=Math.min,_Mathmax=Math.max;babelHelpers.inherits(PaperRangeSlider,_Polymer$GestureEvent);function PaperRangeSlider(){babelHelpers.classCallCheck(this,PaperRangeSlider);return babelHelpers.possibleConstructorReturn(this,(PaperRangeSlider.__proto__||Object.getPrototypeOf(PaperRangeSlider)).apply(this,arguments))}babelHelpers.createClass(PaperRangeSlider,[{key:"ready",value:function ready(){babelHelpers.get(PaperRangeSlider.prototype.__proto__||Object.getPrototypeOf(PaperRangeSlider.prototype),"ready",this).call(this);this.inInit=!0;var this_=this,nInitTries=0,sliderMin=this.shadowRoot.querySelector("#sliderMin"),sliderMax=this.shadowRoot.querySelector("#sliderMax");function _ready(){if(sliderMin.isReady&&sliderMax.isReady){this_.init();sliderMin.addEventListener("immediate-value-change",function(){this_._setValueMinMax(this_._getValuesMinMax(this.immediateValue,null),"immediate-value-change")});sliderMax.addEventListener("immediate-value-change",function(){this_._setValueMinMax(this_._getValuesMinMax(null,this.immediateValue),"immediate-value-change")});sliderMin.addEventListener("change",function(){this_._setValueMinMax(this_._getValuesMinMax(this.immediateValue,null),"change");if(this_.alwaysShowPin){this_.$.sliderMin._expandKnob()}});sliderMax.addEventListener("change",function(){this_._setValueMinMax(this_._getValuesMinMax(null,this.immediateValue),"change");if(this_.alwaysShowPin){this_.$.sliderMax._expandKnob()}});this_.inInit=!1}else{if(1e3>nInitTries){setTimeout(function(){_ready()},10)}else{console.error("could not properly initialize the underlying paper-single-range-slider elements ...")}nInitTries++}}_ready()}},{key:"init",value:function init(){this.setSingleSlider(this.singleSlider);this.setDisabled(this.disabled);if(this.alwaysShowPin){this.pin=!0}this.shadowRoot.querySelector("#sliderMin").pin=this.pin;this.shadowRoot.querySelector("#sliderMax").pin=this.pin;this.shadowRoot.querySelector("#sliderMin").snaps=this.snaps;this.shadowRoot.querySelector("#sliderMax").snaps=this.snaps;if(""!=this.sliderWidth){this.updateStyles({"--paper-range-slider-width":this.sliderWidth})}var sliderBar=this.shadowRoot.querySelector("#sliderMin").getEle("#sliderBar");if(sliderBar){var progressContainer=sliderBar.$$("#progressContainer");if(progressContainer)progressContainer.style.background="transparent"}this._prevUpdateValues=[this.min,this.max];this._setValueDiff();this._setValueMinMax(this._getValuesMinMax(this.valueMin,this.valueMax),"init");if(this.alwaysShowPin){this.shadowRoot.querySelector("#sliderMin")._expandKnob();this.shadowRoot.querySelector("#sliderMax")._expandKnob()}}},{key:"_setValueDiff",value:function _setValueDiff(){this._valueDiffMax=_Mathmax(this.valueDiffMax,0);this._valueDiffMin=_Mathmax(this.valueDiffMin,0)}},{key:"_getValuesMinMax",value:function _getValuesMinMax(valueMin,valueMax){var hasMin=null!=valueMin&&valueMin>=this.min&&valueMin<=this.max,hasMax=null!=valueMax&&valueMax>=this.min&&valueMax<=this.max;if(!hasMin&&!hasMax){return[this.valueMin,this.valueMax]}var valueNowMin=hasMin?valueMin:this.valueMin,valueNowMax=hasMax?valueMax:this.valueMax;valueNowMin=_Mathmin(_Mathmax(valueNowMin,this.min),this.max);valueNowMax=_Mathmin(_Mathmax(valueNowMax,this.min),this.max);var diffNow=valueNowMax-valueNowMin;if(hasMin){if(diffNow<this._valueDiffMin){valueNowMax=_Mathmin(this.max,valueNowMin+this._valueDiffMin);diffNow=valueNowMax-valueNowMin;if(diffNow<this._valueDiffMin){valueNowMin=valueNowMax-this._valueDiffMin}}else if(diffNow>this._valueDiffMax&&0<this._valueDiffMax){valueNowMax=valueNowMin+this._valueDiffMax}}else{if(diffNow<this._valueDiffMin){valueNowMin=_Mathmax(this.min,valueNowMax-this._valueDiffMin);diffNow=valueNowMax-valueNowMin;if(diffNow<this._valueDiffMin){valueNowMax=valueNowMin+this._valueDiffMin}}else if(diffNow>this._valueDiffMax&&0<this._valueDiffMax){valueNowMin=valueNowMax-this._valueDiffMax}}return[valueNowMin,valueNowMax]}},{key:"_setValueMin",value:function _setValueMin(value){value=_Mathmax(value,this.min);this.shadowRoot.querySelector("#sliderMin").value=value;this.valueMin=value}},{key:"_setValueMax",value:function _setValueMax(value){value=_Mathmin(value,this.max);this.shadowRoot.querySelector("#sliderMax").value=value;this.valueMax=value}},{key:"_setValueMinMax",value:function _setValueMinMax(valuesMinMax,eventName){this._setValueMin(valuesMinMax[0]);this._setValueMax(valuesMinMax[1]);this.updateValues(eventName)}},{key:"_setValuesNoTrans",value:function _setValuesNoTrans(valueMin,valueMax,eventName){if(null!=valueMin){if(valueMin<this.min||valueMin>this.max)valueMin=null}if(null!=valueMax){if(valueMax<this.min||valueMax>this.max)valueMax=null}if(null!=valueMin&&null!=valueMax){valueMin=_Mathmin(valueMin,valueMax)}this._setValueMinMax(this._getValuesMinMax(valueMin,valueMax),eventName)}},{key:"_setValuesTrans",value:function _setValuesTrans(valueMin,valueMax,eventName){this.shadowRoot.querySelector("#sliderMin")._setTransiting(!0);this.shadowRoot.querySelector("#sliderMax")._setTransiting(!0);this._setValuesNoTrans(valueMin,valueMax,eventName);var this_=this;setTimeout(function(){this_.$.sliderMin._setTransiting(!1);this_.$.sliderMax._setTransiting(!1)},this_.transDuration)}},{key:"_backDivOnTrack",value:function _backDivOnTrack(event){event.stopPropagation();switch(event.detail.state){case"start":this._backDivTrackStart(event);break;case"track":this._backDivTrackDuring(event);break;case"end":this._backDivTrackEnd();break;}}},{key:"_backDivTrackStart",value:function _backDivTrackStart(){}},{key:"_backDivTrackDuring",value:function _backDivTrackDuring(e){var sliderMin=this.shadowRoot.querySelector("#sliderMin"),sliderMax=this.shadowRoot.querySelector("#sliderMax");this._x1_Min=this._x0_Min+e.detail.dx;var immediateValueMin=sliderMin._calcStep(this._getRatioPos(sliderMin,this._x1_Min/this._xWidth));this._x1_Max=this._x0_Max+e.detail.dx;var immediateValueMax=sliderMax._calcStep(this._getRatioPos(sliderMax,this._x1_Max/this._xWidth));if(immediateValueMin>=this.min&&immediateValueMax<=this.max){this._setValuesWithCurrentDiff(immediateValueMin,immediateValueMax,!1)}}},{key:"_setValuesWithCurrentDiff",value:function _setValuesWithCurrentDiff(valueMin,valueMax,useTrans){var diffMin=this._valueDiffMin,diffMax=this._valueDiffMax;this._valueDiffMin=this.valueMax-this.valueMin;this._valueDiffMax=this.valueMax-this.valueMin;if(useTrans)this._setValuesTrans(valueMin,valueMax,"_setValuesWithCurrentDiff");else this._setValuesNoTrans(valueMin,valueMax,"_setValuesWithCurrentDiff");this._valueDiffMin=diffMin;this._valueDiffMax=diffMax}},{key:"_backDivTrackEnd",value:function _backDivTrackEnd(){}},{key:"_sliderMinDown",value:function _sliderMinDown(){this.shadowRoot.querySelector("#sliderMax")._expandKnob()}},{key:"_sliderMaxDown",value:function _sliderMaxDown(event){if(!this.singleSlider){this.shadowRoot.querySelector("#sliderMin")._expandKnob()}else{this._setValuesNoTrans(null,this._getEventValue(event),"_sliderMaxDown")}}},{key:"_sliderMinUp",value:function _sliderMinUp(){if(this.alwaysShowPin)this.shadowRoot.querySelector("#sliderMin")._expandKnob();else this.shadowRoot.querySelector("#sliderMax")._resetKnob()}},{key:"_sliderMaxUp",value:function _sliderMaxUp(){if(this.alwaysShowPin)this.shadowRoot.querySelector("#sliderMax")._expandKnob();else{this.shadowRoot.querySelector("#sliderMin")._resetKnob();if(this.singleSlider)this.shadowRoot.querySelector("#sliderMax")._resetKnob()}}},{key:"_getEventValue",value:function _getEventValue(event){var width=this.shadowRoot.querySelector("#sliderMax").getEle("#sliderContainer").offsetWidth,rect=this.shadowRoot.querySelector("#sliderMax").getEle("#sliderContainer").getBoundingClientRect(),ratio=(event.detail.x-rect.left)/width,value=this.min+ratio*(this.max-this.min);return value}},{key:"_backDivTap",value:function _backDivTap(event){this._setValueNow=function(valueMin,valueMax){if(this.tapValueMove){this._setValuesWithCurrentDiff(valueMin,valueMax,!0)}else{this._setValuesTrans(valueMin,valueMax,"_backDivTap")}};var value=this._getEventValue(event);if(value>this.valueMin&&value<this.valueMax){if(this.tapValueReduce){var isLow=value<this.valueMin+(this.valueMax-this.valueMin)/2;if(isLow){this._setValueNow(value,null)}else{this._setValueNow(null,value)}}}else if(this.tapValueExtend||this.tapValueMove){if(value<this.valueMin){this._setValueNow(value,null)}if(value>this.valueMax){this._setValueNow(null,value)}}}},{key:"_backDivDown",value:function _backDivDown(){this._sliderMinDown();this._sliderMaxDown();this._xWidth=this.shadowRoot.querySelector("#sliderMin").getEle("#sliderBar").offsetWidth;this._x0_Min=this.shadowRoot.querySelector("#sliderMin").ratio/100*this._xWidth;this._x0_Max=this.shadowRoot.querySelector("#sliderMax").ratio/100*this._xWidth}},{key:"_backDivUp",value:function _backDivUp(){this._sliderMinUp();this._sliderMaxUp()}},{key:"_backDivTransEnd",value:function _backDivTransEnd(){}},{key:"_getRatioPos",value:function _getRatioPos(slider,ratio){return _Mathmax(slider.min,_Mathmin(slider.max,(slider.max-slider.min)*ratio+slider.min))}},{key:"_toBool",value:function _toBool(valIn){return"false"===valIn||"0"===valIn?!1:!!valIn}},{key:"setValues",value:function setValues(valueMin,valueMax,eventName){var eventNameNow=eventName?eventName:"setValues";this._setValuesTrans(valueMin,valueMax,eventNameNow)}},{key:"updateValues",value:function updateValues(eventName){var isNewMin=this._prevUpdateValues[0]!=this.valueMin,isNewMax=this._prevUpdateValues[1]!=this.valueMax;if(isNewMin||isNewMax){this._prevUpdateValues=[this.valueMin,this.valueMax];if(!this.inInit){this.dispatchEvent(new CustomEvent("updateValues",{bubbles:!0,composed:!0,detail:{this:this,eventName:eventName}}));if(isNewMin){this.dispatchEvent(new CustomEvent("value-min-changed",{bubbles:!0,composed:!0,detail:{this:this,value:this.valueMin,eventName:eventName}}))}if(isNewMax){this.dispatchEvent(new CustomEvent("value-max-changed",{bubbles:!0,composed:!0,detail:{this:this,value:this.valueMax,eventName:eventName}}))}}}}},{key:"setMin",value:function setMin(minIn){if(this.max<minIn)this.max=minIn;this.min=minIn;this._prevUpdateValues=[this.min,this.max];if(this.valueMin<this.min)this._setValuesNoTrans(this.min,null,"setMin")}},{key:"setMax",value:function setMax(maxIn){if(this.min>maxIn)this.min=maxIn;this.max=maxIn;this._prevUpdateValues=[this.min,this.max];if(this.valueMax>this.max)this._setValuesNoTrans(null,this.max,"setMax")}},{key:"setStep",value:function setStep(stepIn){this.step=stepIn}},{key:"getRatio",value:function getRatio(){var ratioMin=this.shadowRoot.querySelector("#sliderMin").ratio/100,ratioMax=this.shadowRoot.querySelector("#sliderMax").ratio/100;return[ratioMin,ratioMax]}},{key:"setValueDiffMin",value:function setValueDiffMin(valueDiffMin){this._valueDiffMin=valueDiffMin}},{key:"setValueDiffMax",value:function setValueDiffMax(valueDiffMax){this._valueDiffMax=valueDiffMax}},{key:"setTapValueExtend",value:function setTapValueExtend(isTapValueExtend){this.tapValueExtend=this._toBool(isTapValueExtend)}},{key:"setTapValueReduce",value:function setTapValueReduce(isTapValueReduce){this.tapValueReduce=this._toBool(isTapValueReduce)}},{key:"setTapValueMove",value:function setTapValueMove(isTapValueMove){this.tapValueMove=this._toBool(isTapValueMove)}},{key:"setDisabled",value:function setDisabled(isDisabled){this.disabled=this._toBool(isDisabled);var pointEvt=this.disabled?"none":"auto";this.shadowRoot.querySelector("#sliderMax").getEle("#sliderKnob").style.pointerEvents=pointEvt;this.shadowRoot.querySelector("#sliderMin").getEle("#sliderKnob").style.pointerEvents=pointEvt;this.shadowRoot.querySelector("#sliderOuterDiv_1").style.pointerEvents=pointEvt}},{key:"setSingleSlider",value:function setSingleSlider(isSingle){this.singleSlider=this._toBool(isSingle);var sliderMin=this.shadowRoot.querySelector("#sliderMin"),sliderMax=this.shadowRoot.querySelector("#sliderMax"),backDiv=this.shadowRoot.querySelector("#backDiv"),knobMin=sliderMin.getEle("#sliderKnob"),knobMax=sliderMax.getEle("#sliderKnob");if(isSingle){backDiv.style.display="none";sliderMax.style.pointerEvents="auto";sliderMax.style.display="";sliderMin.style.display="none";backDiv.style.cursor="default";knobMax.style.cursor="default";knobMin.style.cursor="default"}else{backDiv.style.display="block";sliderMax.style.pointerEvents="none";sliderMax.style.display="";sliderMin.style.display="";backDiv.style.cursor="ew-resize";knobMax.style.cursor="col-resize";knobMin.style.cursor="col-resize"}sliderMax.getEle("#sliderContainer").style.pointerEvents=this.singleSlider?"auto":"none";sliderMin.getEle("#sliderContainer").style.pointerEvents="none"}}],[{key:"is",get:function get(){return"paper-range-slider"}},{key:"properties",get:function get(){return{displayFunction:{type:Function,value:function value(){return function(value){return value}}},sliderWidth:{type:String,value:"",notify:!0,reflectToAttribute:!0},mainDivStyle:{type:Object,value:function value(){return{}},notify:!0,reflectToAttribute:!0},min:{type:Number,value:0,notify:!0,reflectToAttribute:!0},max:{type:Number,value:100,notify:!0,reflectToAttribute:!0},valueMin:{type:Number,value:0,notify:!1,reflectToAttribute:!0},valueMax:{type:Number,value:100,notify:!1,reflectToAttribute:!0},step:{type:Number,value:1,notify:!0,reflectToAttribute:!0},valueDiffMin:{type:Number,value:0,notify:!0,reflectToAttribute:!0},valueDiffMax:{type:Number,value:0,notify:!0,reflectToAttribute:!0},alwaysShowPin:{type:Boolean,value:!1,notify:!0},pin:{type:Boolean,value:!1,notify:!0},snaps:{type:Boolean,value:!1,notify:!0},disabled:{type:Boolean,value:!1,notify:!0},singleSlider:{type:Boolean,value:!1,notify:!0},transDuration:{type:Number,value:250},tapValueExtend:{type:Boolean,value:!0,notify:!0},tapValueReduce:{type:Boolean,value:!1,notify:!0},tapValueMove:{type:Boolean,value:!1,notify:!0}}}}]);return PaperRangeSlider}(Polymer.GestureEventListeners(Polymer.Element));customElements.define(PaperRangeSlider.is,PaperRangeSlider);</script></dom-module><dom-module id="paper-single-range-slider" assetpath="../../bower_components/paper-range-slider/"><template strip-whitespace=""><style>:host{@apply --layout;@apply --layout-justified;@apply --layout-center;width:200px;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-tap-highlight-color:rgba(0, 0, 0, 0);--paper-progress-active-color:var(--paper-single-range-slider-active-color, var(--google-blue-700));--paper-progress-secondary-color:var(--paper-single-range-slider-secondary-color, var(--google-blue-300));--paper-progress-disabled-active-color:var(--paper-single-range-slider-disabled-active-color, var(--paper-grey-400));--paper-progress-disabled-secondary-color:var(--paper-single-range-slider-disabled-secondary-color, var(--paper-grey-400));--calculated-paper-single-range-slider-height:var(--paper-single-range-slider-height, 2px);}:host(:focus){outline:none;}:host-context([dir="rtl"]) #sliderContainer{-webkit-transform:scaleX(-1);transform:scaleX(-1);}:host([dir="rtl"]) #sliderContainer{-webkit-transform:scaleX(-1);transform:scaleX(-1);}:host([dir="ltr"]) #sliderContainer{-webkit-transform:scaleX(1);transform:scaleX(1);}#sliderContainer{position:relative;width:100%;height:calc(30px + var(--calculated-paper-single-range-slider-height));margin-left:calc(15px + var(--calculated-paper-single-range-slider-height)/2);margin-right:calc(15px + var(--calculated-paper-single-range-slider-height)/2);}#sliderContainer:focus{outline:0;}#sliderContainer.editable{margin-top:12px;margin-bottom:12px;}.bar-container{position:absolute;top:0;bottom:0;left:0;right:0;overflow:hidden;}.ring > .bar-container{left:calc(5px + var(--calculated-paper-single-range-slider-height)/2);transition:left 0.18s ease;}.ring.expand.dragging > .bar-container{transition:none;}.ring.expand:not(.pin) > .bar-container{left:calc(8px + var(--calculated-paper-single-range-slider-height)/2);}#sliderBar{padding:15px 0;width:100%;background-color:var(--paper-single-range-slider-bar-color, transparent);--paper-progress-container-color:var(--paper-single-range-slider-container-color, var(--paper-grey-400));--paper-progress-height:var(--calculated-paper-single-range-slider-height);}.slider-markers{position:absolute;top:calc(14px + var(--paper-single-range-slider-height,2px)/2);height:var(--calculated-paper-single-range-slider-height);left:0;right:-1px;box-sizing:border-box;pointer-events:none;@apply --layout-horizontal;}.slider-marker{@apply --layout-flex;}.slider-markers::after,
      .slider-marker::after{content:"";display:block;margin-left:-1px;width:2px;height:var(--calculated-paper-single-range-slider-height);border-radius:50%;background-color:var(--paper-single-range-slider-markers-color, #000);}.slider-knob{position:absolute;left:0;top:0;margin-left:calc(-15px - var(--calculated-paper-single-range-slider-height)/2);width:calc(30px + var(--calculated-paper-single-range-slider-height));height:calc(30px + var(--calculated-paper-single-range-slider-height));}.transiting > .slider-knob{transition:left 0.08s ease;}.slider-knob:focus{outline:none;}.slider-knob.dragging{transition:none;}.snaps > .slider-knob.dragging{transition:-webkit-transform 0.08s ease;transition:transform 0.08s ease;}.slider-knob-inner{margin:10px;width:calc(100% - 20px);height:calc(100% - 20px);background-color:var(--paper-single-range-slider-knob-color, var(--google-blue-700));border:2px solid var(--paper-single-range-slider-knob-color, var(--google-blue-700));border-radius:50%;-moz-box-sizing:border-box;box-sizing:border-box;transition-property:-webkit-transform, background-color, border;transition-property:transform, background-color, border;transition-duration:0.18s;transition-timing-function:ease;}.expand:not(.pin) > .slider-knob > .slider-knob-inner{-webkit-transform:scale(1.5);transform:scale(1.5);}.ring > .slider-knob > .slider-knob-inner{background-color:var(--paper-single-range-slider-knob-start-color, transparent);border:2px solid var(--paper-single-range-slider-knob-start-border-color, var(--paper-grey-400));}.slider-knob-inner::before{background-color:var(--paper-single-range-slider-pin-color, var(--google-blue-700));}.pin > .slider-knob > .slider-knob-inner::before{content:"";position:absolute;top:0;left:50%;margin-left:-13px;width:26px;height:26px;border-radius:50% 50% 50% 0;-webkit-transform:rotate(-45deg) scale(0) translate(0);transform:rotate(-45deg) scale(0) translate(0);}.slider-knob-inner::before,
      .slider-knob-inner::after{transition:-webkit-transform .18s ease, background-color .18s ease;transition:transform .18s ease, background-color .18s ease;}.pin.ring > .slider-knob > .slider-knob-inner::before{background-color:var(--paper-single-range-slider-pin-start-color, var(--paper-grey-400));}.pin.expand > .slider-knob > .slider-knob-inner::before{-webkit-transform:rotate(-45deg) scale(1) translate(17px, -17px);transform:rotate(-45deg) scale(1) translate(17px, -17px);}.pin > .slider-knob > .slider-knob-inner::after{content:attr(value);position:absolute;top:0;left:50%;margin-left:-16px;width:32px;height:26px;text-align:center;color:var(--paper-single-range-slider-font-color, #fff);font-size:10px;-webkit-transform:scale(0) translate(0);transform:scale(0) translate(0);@apply paper-single-range-slider-knob-inner-text;}.pin.expand > .slider-knob > .slider-knob-inner::after{-webkit-transform:scale(1) translate(0, -17px);transform:scale(1) translate(0, -17px);}.slider-input{width:50px;overflow:hidden;--paper-input-container-input:{text-align:center;};@apply --paper-single-range-slider-input;}#sliderContainer.disabled{pointer-events:none;}.disabled > .slider-knob > .slider-knob-inner{background-color:var(--paper-single-range-slider-disabled-knob-color, var(--paper-grey-400));border:2px solid var(--paper-single-range-slider-disabled-knob-color, var(--paper-grey-400));-webkit-transform:scale3d(0.75, 0.75, 1);transform:scale3d(0.75, 0.75, 1);}.disabled.ring > .slider-knob > .slider-knob-inner{background-color:var(--paper-single-range-slider-knob-start-color, transparent);border:2px solid var(--paper-single-range-slider-knob-start-border-color, var(--paper-grey-400));}paper-ripple{color:var(--paper-single-range-slider-knob-color, var(--google-blue-700));}</style><div id="sliderContainer" class$="[[_getClassNames(disabled, pin, snaps, immediateValue, min, expand, dragging, transiting, editable)]]"><div class="bar-container"><paper-progress disabled$="[[disabled]]" id="sliderBar" aria-hidden="true" min="[[min]]" max="[[max]]" step="[[step]]" value="[[immediateValue]]" secondary-progress="[[secondaryProgress]]" on-down="_bardown" on-up="_resetKnob" on-track="_onTrack"></paper-progress></div><template is="dom-if" if="[[snaps]]"><div class="slider-markers"><template is="dom-repeat" items="[[markers]]"><div class="slider-marker"></div></template></div></template><div id="sliderKnob" class="slider-knob" on-down="_knobdown" on-up="_resetKnob" on-track="_onTrack" on-transitionend="_knobTransitionEnd"><div class="slider-knob-inner" value$="[[displayFunction(immediateValue)]]"></div></div></div><template is="dom-if" if="[[editable]]"><paper-input id="input" type="number" step="[[step]]" min="[[min]]" max="[[max]]" class="slider-input" disabled$="[[disabled]]" value="[[immediateValue]]" on-change="_changeValue" on-keydown="_inputKeyDown" no-label-float=""></paper-input></template></template><script>Polymer({is:"paper-single-range-slider",behaviors:[Polymer.IronA11yKeysBehavior,Polymer.IronFormElementBehavior,Polymer.PaperInkyFocusBehavior,Polymer.IronRangeBehavior],properties:{displayFunction:{type:Function,value:function value(){return function(value){return value}}},snaps:{type:Boolean,value:!1,notify:!0},pin:{type:Boolean,value:!1,notify:!0},secondaryProgress:{type:Number,value:0,notify:!0,observer:"_secondaryProgressChanged"},editable:{type:Boolean,value:!1},immediateValue:{type:Number,value:0,readOnly:!0,notify:!0},maxMarkers:{type:Number,value:0,notify:!0},expand:{type:Boolean,value:!1,readOnly:!0},dragging:{type:Boolean,value:!1,readOnly:!0},transiting:{type:Boolean,value:!1,readOnly:!0},markers:{type:Array,readOnly:!0,value:function value(){return[]}}},observers:["_updateKnob(value, min, max, snaps, step)","_valueChanged(value)","_immediateValueChanged(immediateValue)","_updateMarkers(maxMarkers, min, max, snaps)"],hostAttributes:{role:"slider",tabindex:0},keyBindings:{left:"_leftKey",right:"_rightKey","down pagedown home":"_decrementKey","up pageup end":"_incrementKey"},ready:function ready(){this.isReady=!0},increment:function increment(){this.value=this._clampValue(this.value+this.step)},decrement:function decrement(){this.value=this._clampValue(this.value-this.step)},_updateKnob:function _updateKnob(value,min,max){this.setAttribute("aria-valuemin",min);this.setAttribute("aria-valuemax",max);this.setAttribute("aria-valuenow",value);this._positionKnob(100*this._calcRatio(value))},_valueChanged:function _valueChanged(){this.fire("value-change",{composed:!0})},_immediateValueChanged:function _immediateValueChanged(){if(this.dragging){this.fire("immediate-value-change",{composed:!0})}else{this.value=this.immediateValue}},_secondaryProgressChanged:function _secondaryProgressChanged(){this.secondaryProgress=this._clampValue(this.secondaryProgress)},_expandKnob:function _expandKnob(){this._setExpand(!0)},_resetKnob:function _resetKnob(){this.cancelDebouncer("expandKnob");this._setExpand(!1)},_positionKnob:function _positionKnob(ratio){this._setImmediateValue(this._calcStep(this._calcKnobPosition(ratio)));this._setRatio(100*this._calcRatio(this.immediateValue));this.$.sliderKnob.style.left=this.ratio+"%";if(this.dragging){this._knobstartx=this.ratio*this._w/100;this.translate3d(0,0,0,this.$.sliderKnob)}},_calcKnobPosition:function _calcKnobPosition(ratio){return(this.max-this.min)*ratio/100+this.min},_onTrack:function _onTrack(event){event.stopPropagation();switch(event.detail.state){case"start":this._trackStart(event);break;case"track":this._trackX(event);break;case"end":this._trackEnd();break;}},_trackStart:function _trackStart(){this._setTransiting(!1);this._w=this.$.sliderBar.offsetWidth;this._x=this.ratio*this._w/100;this._startx=this._x;this._knobstartx=this._startx;this._minx=-this._startx;this._maxx=this._w-this._startx;this.$.sliderKnob.classList.add("dragging");this._setDragging(!0)},_trackX:function _trackX(event){if(!this.dragging){this._trackStart(event)}var direction=this._isRTL?-1:1,dx=Math.min(this._maxx,Math.max(this._minx,event.detail.dx*direction));this._x=this._startx+dx;var immediateValue=this._calcStep(this._calcKnobPosition(100*(this._x/this._w)));this._setImmediateValue(immediateValue);var translateX=this._calcRatio(this.immediateValue)*this._w-this._knobstartx;this.translate3d(translateX+"px",0,0,this.$.sliderKnob)},_trackEnd:function _trackEnd(){var s=this.$.sliderKnob.style;this.$.sliderKnob.classList.remove("dragging");this._setDragging(!1);this._resetKnob();this.value=this.immediateValue;s.transform=s.webkitTransform="";this.fire("change",{composed:!0})},_knobdown:function _knobdown(event){this._expandKnob();event.preventDefault();this.focus()},_bardown:function _bardown(event){this._w=this.$.sliderBar.offsetWidth;var rect=this.$.sliderBar.getBoundingClientRect(),ratio=100*((event.detail.x-rect.left)/this._w);if(this._isRTL){ratio=100-ratio}var prevRatio=this.ratio;this._setTransiting(!0);this._positionKnob(ratio);this.debounce("expandKnob",this._expandKnob,60);if(prevRatio===this.ratio){this._setTransiting(!1)}this.async(function(){this.fire("change",{composed:!0})});event.preventDefault();this.focus()},_knobTransitionEnd:function _knobTransitionEnd(event){if(event.target===this.$.sliderKnob){this._setTransiting(!1)}},_updateMarkers:function _updateMarkers(maxMarkers,min,max,snaps){if(!snaps){this._setMarkers([])}var steps=Math.round((max-min)/this.step);if(steps>maxMarkers){steps=maxMarkers}if(0>steps||!isFinite(steps)){steps=0}this._setMarkers(Array(steps))},_mergeClasses:function _mergeClasses(classes){return Object.keys(classes).filter(function(className){return classes[className]}).join(" ")},_getClassNames:function _getClassNames(){return this._mergeClasses({disabled:this.disabled,pin:this.pin,snaps:this.snaps,ring:this.immediateValue<=this.min,expand:this.expand,dragging:this.dragging,transiting:this.transiting,editable:this.editable})},get _isRTL(){if(this.__isRTL===void 0){this.__isRTL="rtl"===window.getComputedStyle(this).direction}return this.__isRTL},_leftKey:function _leftKey(event){if(this._isRTL)this._incrementKey(event);else this._decrementKey(event)},_rightKey:function _rightKey(event){if(this._isRTL)this._decrementKey(event);else this._incrementKey(event)},_incrementKey:function _incrementKey(event){if(!this.disabled){if("end"===event.detail.key){this.value=this.max}else{this.increment()}this.fire("change");event.preventDefault()}},_decrementKey:function _decrementKey(event){if(!this.disabled){if("home"===event.detail.key){this.value=this.min}else{this.decrement()}this.fire("change");event.preventDefault()}},_changeValue:function _changeValue(event){this.value=event.target.value;this.fire("change",{composed:!0})},_inputKeyDown:function _inputKeyDown(event){event.stopPropagation()},_createRipple:function _createRipple(){this._rippleContainer=this.$.sliderKnob;return Polymer.PaperInkyFocusBehaviorImpl._createRipple.call(this)},_focusedChanged:function _focusedChanged(receivedFocusFromKeyboard){if(receivedFocusFromKeyboard){this.ensureRipple()}if(this.hasRipple()){if(receivedFocusFromKeyboard){this._ripple.style.display=""}else{this._ripple.style.display="none"}this._ripple.holdDown=receivedFocusFromKeyboard}},getEle:function getEle(tag){return this.shadowRoot.querySelector(tag)}});</script></dom-module><script>Polymer({is:"iron-a11y-keys",behaviors:[Polymer.IronA11yKeysBehavior],properties:{target:{type:Object,observer:"_targetChanged"},keys:{type:String,reflectToAttribute:!0,observer:"_keysChanged"}},attached:function attached(){if(!this.target){this.target=this.parentNode}},_targetChanged:function _targetChanged(target){this.keyEventTarget=target},_keysChanged:function _keysChanged(){this.removeOwnKeyBindings();this.addOwnKeyBinding(this.keys,"_fireKeysPressed")},_fireKeysPressed:function _fireKeysPressed(event){this.fire("keys-pressed",event.detail,{})}});</script><script>var saveAs=saveAs||function(e){"use strict";if(!("undefined"==typeof e||"undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent))){var t=e.document,n=function(){return e.URL||e.webkitURL||e},o=t.createElementNS("http://www.w3.org/1999/xhtml","a"),r="download"in o,a=function(e){var t=new MouseEvent("click");e.dispatchEvent(t)},i=/constructor/i.test(e.HTMLElement)||e.safari,d=/CriOS\/[\d]+/.test(navigator.userAgent),f=function(t){(e.setImmediate||e.setTimeout)(function(){throw t},0)},c=function(e){setTimeout(function t(){"string"==typeof e?n().revokeObjectURL(e):e.remove()},4e4)},l=function(e,t,n){t=[].concat(t);for(var o=t.length,r;o--;){r=e["on"+t[o]];if("function"==typeof r)try{r.call(e,n||e)}catch(a){f(a)}}},v=function(e){return /^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\uFEFF",e],{type:e.type}):e},p=function(t,f,u){u||(t=v(t));var p,w=this,m=t.type,y=m==="application/octet-stream",S=function(){l(w,"writestart progress write writeend".split(" "))},h=function(){if((d||y&&i)&&e.FileReader){var o=new FileReader;return o.onloadend=function(){var t=d?o.result:o.result.replace(/^data:[^;]*;/,"data:attachment/file;"),n=e.open(t,"_blank");n||(e.location.href=t),t=void 0,w.readyState=w.DONE,S()},o.readAsDataURL(t),void(w.readyState=w.INIT)}if(p||(p=n().createObjectURL(t)),y)e.location.href=p;else{var r=e.open(p,"_blank");r||(e.location.href=p)}w.readyState=w.DONE,S(),c(p)};return w.readyState=w.INIT,r?(p=n().createObjectURL(t),void setTimeout(function(){o.href=p,o.download=f,a(o),S(),c(p),w.readyState=w.DONE})):void h()},w=p.prototype,m=function(e,t,n){return new p(e,t||e.name||"download",n)};return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(e,t,n){return t=t||e.name||"download",n||(e=v(e)),navigator.msSaveOrOpenBlob(e,t)}:(w.abort=function(){},w.readyState=w.INIT=0,w.WRITING=1,w.DONE=2,w.error=w.onwritestart=w.onprogress=w.onwrite=w.onabort=w.onerror=w.onwriteend=null,m)}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this);"undefined"!=typeof module&&module.exports?module.exports.saveAs=saveAs:"undefined"!=typeof define&&null!==define&&null!==define.amd&&define("FileSaver.js",function(){return saveAs});</script><dom-module id="nw-comments" assetpath="../"><template><style include="shared-styles">:host{display:flex;flex-direction:column;}#input{flex-grow:0;display:flex;align-items:center;}paper-textarea{flex-grow:10000;}#comments{flex-grow:10000;}.comment p{border-left:2px solid var(--primary-color);padding:5px;padding-left:10px;margin-top:5px;}.comment .time{color:var(--secondary-text-color);font-size:0.75em;}</style><div id="comments"><template is="dom-repeat" items="[[arrayFrom(comments)]]"><div class="comment"><a target="_blank" href="mailto:[[item.email]]">[[item.name]]</a> <span class="time" hidden$="[[!item.time]]">[[time(item.time)]]</span><p>[[item.body]]</p><div></div></div></template></div><div id="input"><paper-textarea label="Comment" type="text" stop-keyboard-event-propagation="" value="{{value}}"></paper-textarea><paper-button on-tap="comment" class="register" disabled="[[!value]]">Comment</paper-button></div></template><script>var NWComments=function(_Polymer$Element){babelHelpers.inherits(NWComments,_Polymer$Element);function NWComments(){babelHelpers.classCallCheck(this,NWComments);return babelHelpers.possibleConstructorReturn(this,(NWComments.__proto__||Object.getPrototypeOf(NWComments)).apply(this,arguments))}babelHelpers.createClass(NWComments,[{key:"comment",value:function comment(){if(0===this.value.length){return}if(!this.comments){this.comments={}}var id=""+ +new Date;this.set(["comments",id],{name:this.name,email:this.email,body:this.value,time:firebase.database.ServerValue.TIMESTAMP});this.value=""}},{key:"arrayFrom",value:function arrayFrom(obj){if(!obj){return}return Object.values(obj)}},{key:"time",value:function time(_time){return moment(_time).fromNow()}}],[{key:"is",get:function get(){return"nw-comments"}},{key:"properties",get:function get(){return{comments:{type:Object,notify:!0},name:{type:String},email:{type:String},value:{type:String,value:""}}}}]);return NWComments}(Polymer.Element);customElements.define(NWComments.is,NWComments);</script></dom-module><iron-iconset-svg name="hardware" size="24"><svg><defs><g id="cast"><path d="M21 3H3c-1.1 0-2 .9-2 2v3h2V5h18v14h-7v2h7c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM1 18v3h3c0-1.66-1.34-3-3-3zm0-4v2c2.76 0 5 2.24 5 5h2c0-3.87-3.13-7-7-7zm0-4v2c4.97 0 9 4.03 9 9h2c0-6.08-4.93-11-11-11z"></path></g><g id="cast-connected"><path d="M1 18v3h3c0-1.66-1.34-3-3-3zm0-4v2c2.76 0 5 2.24 5 5h2c0-3.87-3.13-7-7-7zm18-7H5v1.63c3.96 1.28 7.09 4.41 8.37 8.37H19V7zM1 10v2c4.97 0 9 4.03 9 9h2c0-6.08-4.93-11-11-11zm20-7H3c-1.1 0-2 .9-2 2v3h2V5h18v14h-7v2h7c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"></path></g><g id="computer"><path d="M20 18c1.1 0 1.99-.9 1.99-2L22 6c0-1.1-.9-2-2-2H4c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2H0v2h24v-2h-4zM4 6h16v10H4V6z"></path></g><g id="desktop-mac"><path d="M21 2H3c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h7l-2 3v1h8v-1l-2-3h7c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 12H3V4h18v10z"></path></g><g id="desktop-windows"><path d="M21 2H3c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h7v2H8v2h8v-2h-2v-2h7c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 14H3V4h18v12z"></path></g><g id="developer-board"><path d="M22 9V7h-2V5c0-1.1-.9-2-2-2H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-2h2v-2h-2v-2h2v-2h-2V9h2zm-4 10H4V5h14v14zM6 13h5v4H6zm6-6h4v3h-4zM6 7h5v5H6zm6 4h4v6h-4z"></path></g><g id="device-hub"><path d="M17 16l-4-4V8.82C14.16 8.4 15 7.3 15 6c0-1.66-1.34-3-3-3S9 4.34 9 6c0 1.3.84 2.4 2 2.82V12l-4 4H3v5h5v-3.05l4-4.2 4 4.2V21h5v-5h-4z"></path></g><g id="devices-other"><path d="M3 6h18V4H3c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h4v-2H3V6zm10 6H9v1.78c-.61.55-1 1.33-1 2.22s.39 1.67 1 2.22V20h4v-1.78c.61-.55 1-1.34 1-2.22s-.39-1.67-1-2.22V12zm-2 5.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zM22 8h-6c-.5 0-1 .5-1 1v10c0 .5.5 1 1 1h6c.5 0 1-.5 1-1V9c0-.5-.5-1-1-1zm-1 10h-4v-8h4v8z"></path></g><g id="dock"><path d="M8 23h8v-2H8v2zm8-21.99L8 1c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V3c0-1.1-.9-1.99-2-1.99zM16 15H8V5h8v10z"></path></g><g id="gamepad"><path d="M15 7.5V2H9v5.5l3 3 3-3zM7.5 9H2v6h5.5l3-3-3-3zM9 16.5V22h6v-5.5l-3-3-3 3zM16.5 9l-3 3 3 3H22V9h-5.5z"></path></g><g id="headset"><path d="M12 1c-4.97 0-9 4.03-9 9v7c0 1.66 1.34 3 3 3h3v-8H5v-2c0-3.87 3.13-7 7-7s7 3.13 7 7v2h-4v8h3c1.66 0 3-1.34 3-3v-7c0-4.97-4.03-9-9-9z"></path></g><g id="headset-mic"><path d="M12 1c-4.97 0-9 4.03-9 9v7c0 1.66 1.34 3 3 3h3v-8H5v-2c0-3.87 3.13-7 7-7s7 3.13 7 7v2h-4v8h4v1h-7v2h6c1.66 0 3-1.34 3-3V10c0-4.97-4.03-9-9-9z"></path></g><g id="keyboard"><path d="M20 5H4c-1.1 0-1.99.9-1.99 2L2 17c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm-9 3h2v2h-2V8zm0 3h2v2h-2v-2zM8 8h2v2H8V8zm0 3h2v2H8v-2zm-1 2H5v-2h2v2zm0-3H5V8h2v2zm9 7H8v-2h8v2zm0-4h-2v-2h2v2zm0-3h-2V8h2v2zm3 3h-2v-2h2v2zm0-3h-2V8h2v2z"></path></g><g id="keyboard-arrow-down"><path d="M7.41 7.84L12 12.42l4.59-4.58L18 9.25l-6 6-6-6z"></path></g><g id="keyboard-arrow-left"><path d="M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"></path></g><g id="keyboard-arrow-right"><path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path></g><g id="keyboard-arrow-up"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path></g><g id="keyboard-backspace"><path d="M21 11H6.83l3.58-3.59L9 6l-6 6 6 6 1.41-1.41L6.83 13H21z"></path></g><g id="keyboard-capslock"><path d="M12 8.41L16.59 13 18 11.59l-6-6-6 6L7.41 13 12 8.41zM6 18h12v-2H6v2z"></path></g><g id="keyboard-hide"><path d="M20 3H4c-1.1 0-1.99.9-1.99 2L2 15c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-9 3h2v2h-2V6zm0 3h2v2h-2V9zM8 6h2v2H8V6zm0 3h2v2H8V9zm-1 2H5V9h2v2zm0-3H5V6h2v2zm9 7H8v-2h8v2zm0-4h-2V9h2v2zm0-3h-2V6h2v2zm3 3h-2V9h2v2zm0-3h-2V6h2v2zm-7 15l4-4H8l4 4z"></path></g><g id="keyboard-return"><path d="M19 7v4H5.83l3.58-3.59L8 6l-6 6 6 6 1.41-1.41L5.83 13H21V7z"></path></g><g id="keyboard-tab"><path d="M11.59 7.41L15.17 11H1v2h14.17l-3.59 3.59L13 18l6-6-6-6-1.41 1.41zM20 6v12h2V6h-2z"></path></g><g id="keyboard-voice"><path d="M12 15c1.66 0 2.99-1.34 2.99-3L15 6c0-1.66-1.34-3-3-3S9 4.34 9 6v6c0 1.66 1.34 3 3 3zm5.3-3c0 3-2.54 5.1-5.3 5.1S6.7 15 6.7 12H5c0 3.42 2.72 6.23 6 6.72V22h2v-3.28c3.28-.48 6-3.3 6-6.72h-1.7z"></path></g><g id="laptop"><path d="M20 18c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2H4c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2H0v2h24v-2h-4zM4 6h16v10H4V6z"></path></g><g id="laptop-chromebook"><path d="M22 18V3H2v15H0v2h24v-2h-2zm-8 0h-4v-1h4v1zm6-3H4V5h16v10z"></path></g><g id="laptop-mac"><path d="M20 18c1.1 0 1.99-.9 1.99-2L22 5c0-1.1-.9-2-2-2H4c-1.1 0-2 .9-2 2v11c0 1.1.9 2 2 2H0c0 1.1.9 2 2 2h20c1.1 0 2-.9 2-2h-4zM4 5h16v11H4V5zm8 14c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1z"></path></g><g id="laptop-windows"><path d="M20 18v-1c1.1 0 1.99-.9 1.99-2L22 5c0-1.1-.9-2-2-2H4c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2v1H0v2h24v-2h-4zM4 5h16v10H4V5z"></path></g><g id="memory"><path d="M15 9H9v6h6V9zm-2 4h-2v-2h2v2zm8-2V9h-2V7c0-1.1-.9-2-2-2h-2V3h-2v2h-2V3H9v2H7c-1.1 0-2 .9-2 2v2H3v2h2v2H3v2h2v2c0 1.1.9 2 2 2h2v2h2v-2h2v2h2v-2h2c1.1 0 2-.9 2-2v-2h2v-2h-2v-2h2zm-4 6H7V7h10v10z"></path></g><g id="mouse"><path d="M13 1.07V9h7c0-4.08-3.05-7.44-7-7.93zM4 15c0 4.42 3.58 8 8 8s8-3.58 8-8v-4H4v4zm7-13.93C7.05 1.56 4 4.92 4 9h7V1.07z"></path></g><g id="phone-android"><path d="M16 1H8C6.34 1 5 2.34 5 4v16c0 1.66 1.34 3 3 3h8c1.66 0 3-1.34 3-3V4c0-1.66-1.34-3-3-3zm-2 20h-4v-1h4v1zm3.25-3H6.75V4h10.5v14z"></path></g><g id="phone-iphone"><path d="M15.5 1h-8C6.12 1 5 2.12 5 3.5v17C5 21.88 6.12 23 7.5 23h8c1.38 0 2.5-1.12 2.5-2.5v-17C18 2.12 16.88 1 15.5 1zm-4 21c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zm4.5-4H7V4h9v14z"></path></g><g id="phonelink"><path d="M4 6h18V4H4c-1.1 0-2 .9-2 2v11H0v3h14v-3H4V6zm19 2h-6c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h6c.55 0 1-.45 1-1V9c0-.55-.45-1-1-1zm-1 9h-4v-7h4v7z"></path></g><g id="phonelink-off"><path d="M22 6V4H6.82l2 2H22zM1.92 1.65L.65 2.92l1.82 1.82C2.18 5.08 2 5.52 2 6v11H0v3h17.73l2.35 2.35 1.27-1.27L3.89 3.62 1.92 1.65zM4 6.27L14.73 17H4V6.27zM23 8h-6c-.55 0-1 .45-1 1v4.18l2 2V10h4v7h-2.18l3 3H23c.55 0 1-.45 1-1V9c0-.55-.45-1-1-1z"></path></g><g id="power-input"><path d="M2 9v2h19V9H2zm0 6h5v-2H2v2zm7 0h5v-2H9v2zm7 0h5v-2h-5v2z"></path></g><g id="router"><path d="M20.2 5.9l.8-.8C19.6 3.7 17.8 3 16 3s-3.6.7-5 2.1l.8.8C13 4.8 14.5 4.2 16 4.2s3 .6 4.2 1.7zm-.9.8c-.9-.9-2.1-1.4-3.3-1.4s-2.4.5-3.3 1.4l.8.8c.7-.7 1.6-1 2.5-1 .9 0 1.8.3 2.5 1l.8-.8zM19 13h-2V9h-2v4H5c-1.1 0-2 .9-2 2v4c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-4c0-1.1-.9-2-2-2zM8 18H6v-2h2v2zm3.5 0h-2v-2h2v2zm3.5 0h-2v-2h2v2z"></path></g><g id="scanner"><path d="M19.8 10.7L4.2 5l-.7 1.9L17.6 12H5c-1.1 0-2 .9-2 2v4c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-5.5c0-.8-.5-1.6-1.2-1.8zM7 17H5v-2h2v2zm12 0H9v-2h10v2z"></path></g><g id="security"><path d="M12 1L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4zm0 10.99h7c-.53 4.12-3.28 7.79-7 8.94V12H5V6.3l7-3.11v8.8z"></path></g><g id="sim-card"><path d="M19.99 4c0-1.1-.89-2-1.99-2h-8L4 8v12c0 1.1.9 2 2 2h12.01c1.1 0 1.99-.9 1.99-2l-.01-16zM9 19H7v-2h2v2zm8 0h-2v-2h2v2zm-8-4H7v-4h2v4zm4 4h-2v-4h2v4zm0-6h-2v-2h2v2zm4 2h-2v-4h2v4z"></path></g><g id="smartphone"><path d="M17 1.01L7 1c-1.1 0-2 .9-2 2v18c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2V3c0-1.1-.9-1.99-2-1.99zM17 19H7V5h10v14z"></path></g><g id="speaker"><path d="M17 2H7c-1.1 0-2 .9-2 2v16c0 1.1.9 1.99 2 1.99L17 22c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-5 2c1.1 0 2 .9 2 2s-.9 2-2 2c-1.11 0-2-.9-2-2s.89-2 2-2zm0 16c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"></path></g><g id="speaker-group"><path d="M18.2 1H9.8C8.81 1 8 1.81 8 2.8v14.4c0 .99.81 1.79 1.8 1.79l8.4.01c.99 0 1.8-.81 1.8-1.8V2.8c0-.99-.81-1.8-1.8-1.8zM14 3c1.1 0 2 .89 2 2s-.9 2-2 2-2-.89-2-2 .9-2 2-2zm0 13.5c-2.21 0-4-1.79-4-4s1.79-4 4-4 4 1.79 4 4-1.79 4-4 4z"></path><circle cx="14" cy="12.5" r="2.5"></circle><path d="M6 5H4v16c0 1.1.89 2 2 2h10v-2H6V5z"></path></g><g id="tablet"><path d="M21 4H3c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h18c1.1 0 1.99-.9 1.99-2L23 6c0-1.1-.9-2-2-2zm-2 14H5V6h14v12z"></path></g><g id="tablet-android"><path d="M18 0H6C4.34 0 3 1.34 3 3v18c0 1.66 1.34 3 3 3h12c1.66 0 3-1.34 3-3V3c0-1.66-1.34-3-3-3zm-4 22h-4v-1h4v1zm5.25-3H4.75V3h14.5v16z"></path></g><g id="tablet-mac"><path d="M18.5 0h-14C3.12 0 2 1.12 2 2.5v19C2 22.88 3.12 24 4.5 24h14c1.38 0 2.5-1.12 2.5-2.5v-19C21 1.12 19.88 0 18.5 0zm-7 23c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zm7.5-4H4V3h15v16z"></path></g><g id="toys"><path d="M12 12c0-3 2.5-5.5 5.5-5.5S23 9 23 12H12zm0 0c0 3-2.5 5.5-5.5 5.5S1 15 1 12h11zm0 0c-3 0-5.5-2.5-5.5-5.5S9 1 12 1v11zm0 0c3 0 5.5 2.5 5.5 5.5S15 23 12 23V12z"></path></g><g id="tv"><path d="M21 3H3c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h5v2h8v-2h5c1.1 0 1.99-.9 1.99-2L23 5c0-1.1-.9-2-2-2zm0 14H3V5h18v12z"></path></g><g id="videogame-asset"><path d="M21 6H3c-1.1 0-2 .9-2 2v8c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zm-10 7H8v3H6v-3H3v-2h3V8h2v3h3v2zm4.5 2c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zm4-3c-.83 0-1.5-.67-1.5-1.5S18.67 9 19.5 9s1.5.67 1.5 1.5-.67 1.5-1.5 1.5z"></path></g><g id="watch"><path d="M20 12c0-2.54-1.19-4.81-3.04-6.27L16 0H8l-.95 5.73C5.19 7.19 4 9.45 4 12s1.19 4.81 3.05 6.27L8 24h8l.96-5.73C18.81 16.81 20 14.54 20 12zM6 12c0-3.31 2.69-6 6-6s6 2.69 6 6-2.69 6-6 6-6-2.69-6-6z"></path></g></defs></svg></iron-iconset-svg><script>!function(a){function b(a,d){if(a=a?a:"",d=d||{},babelHelpers.instanceof(a,b))return a;if(!babelHelpers.instanceof(this,b))return new b(a,d);var e=c(a);this._originalInput=a,this._r=e.r,this._g=e.g,this._b=e.b,this._a=e.a,this._roundA=P(100*this._a)/100,this._format=d.format||e.format,this._gradientType=d.gradientType,1>this._r&&(this._r=P(this._r)),1>this._g&&(this._g=P(this._g)),1>this._b&&(this._b=P(this._b)),this._ok=e.ok,this._tc_id=O++}function c(a){var b={r:0,g:0,b:0},c=1,e=null,g=null,i=null,j=!1,k=!1;return"string"==typeof a&&(a=K(a)),"object"==babelHelpers.typeof(a)&&(J(a.r)&&J(a.g)&&J(a.b)?(b=d(a.r,a.g,a.b),j=!0,k="%"===(a.r+"").substr(-1)?"prgb":"rgb"):J(a.h)&&J(a.s)&&J(a.v)?(e=G(a.s),g=G(a.v),b=h(a.h,e,g),j=!0,k="hsv"):J(a.h)&&J(a.s)&&J(a.l)&&(e=G(a.s),i=G(a.l),b=f(a.h,e,i),j=!0,k="hsl"),a.hasOwnProperty("a")&&(c=a.a)),c=z(c),{ok:j,format:a.format||k,r:Q(255,R(b.r,0)),g:Q(255,R(b.g,0)),b:Q(255,R(b.b,0)),a:c}}function d(a,b,c){return{r:255*A(a,255),g:255*A(b,255),b:255*A(c,255)}}function e(a,b,c){a=A(a,255),b=A(b,255),c=A(c,255);var d,e,f=R(a,b,c),g=Q(a,b,c),h=(f+g)/2;if(f==g)d=e=0;else{var i=f-g;switch(e=.5<h?i/(2-f-g):i/(f+g),f){case a:d=(b-c)/i+(c>b?6:0);break;case b:d=(c-a)/i+2;break;case c:d=(a-b)/i+4;}d/=6}return{h:d,s:e,l:h}}function f(a,b,c){function d(a,b,c){return 0>c&&(c+=1),1<c&&(c-=1),1/6>c?a+6*(b-a)*c:.5>c?b:2/3>c?a+6*(b-a)*(2/3-c):a}var e,f,g;if(a=A(a,360),b=A(b,100),c=A(c,100),0===b)e=f=g=c;else{var h=.5>c?c*(1+b):c+b-c*b,i=2*c-h;e=d(i,h,a+1/3),f=d(i,h,a),g=d(i,h,a-1/3)}return{r:255*e,g:255*f,b:255*g}}function g(a,b,c){a=A(a,255),b=A(b,255),c=A(c,255);var d,e,f=R(a,b,c),g=Q(a,b,c),i=f-g;if(e=0===f?0:i/f,f==g)d=0;else{switch(f){case a:d=(b-c)/i+(c>b?6:0);break;case b:d=(c-a)/i+2;break;case c:d=(a-b)/i+4;}d/=6}return{h:d,s:e,v:f}}function h(b,c,d){b=6*A(b,360),c=A(c,100),d=A(d,100);var e=a.floor(b),f=b-e,g=d*(1-c),h=d*(1-f*c),i=d*(1-(1-f)*c),j=e%6,k=[d,h,g,g,i,d][j],l=[i,d,d,h,g,g][j],m=[g,g,i,d,d,h][j];return{r:255*k,g:255*l,b:255*m}}function i(a,b,c,d){var e=[F(P(a).toString(16)),F(P(b).toString(16)),F(P(c).toString(16))];return d&&e[0].charAt(0)==e[0].charAt(1)&&e[1].charAt(0)==e[1].charAt(1)&&e[2].charAt(0)==e[2].charAt(1)?e[0].charAt(0)+e[1].charAt(0)+e[2].charAt(0):e.join("")}function j(a,b,c,d,e){var f=[F(P(a).toString(16)),F(P(b).toString(16)),F(P(c).toString(16)),F(H(d))];return e&&f[0].charAt(0)==f[0].charAt(1)&&f[1].charAt(0)==f[1].charAt(1)&&f[2].charAt(0)==f[2].charAt(1)&&f[3].charAt(0)==f[3].charAt(1)?f[0].charAt(0)+f[1].charAt(0)+f[2].charAt(0)+f[3].charAt(0):f.join("")}function k(a,b,c,d){var e=[F(H(d)),F(P(a).toString(16)),F(P(b).toString(16)),F(P(c).toString(16))];return e.join("")}function l(a,c){c=0===c?0:c||10;var d=b(a).toHsl();return d.s-=c/100,d.s=B(d.s),b(d)}function m(a,c){c=0===c?0:c||10;var d=b(a).toHsl();return d.s+=c/100,d.s=B(d.s),b(d)}function n(a){return b(a).desaturate(100)}function o(a,c){c=0===c?0:c||10;var d=b(a).toHsl();return d.l+=c/100,d.l=B(d.l),b(d)}function p(a,c){c=0===c?0:c||10;var d=b(a).toRgb();return d.r=R(0,Q(255,d.r-P(255*-(c/100)))),d.g=R(0,Q(255,d.g-P(255*-(c/100)))),d.b=R(0,Q(255,d.b-P(255*-(c/100)))),b(d)}function q(a,c){c=0===c?0:c||10;var d=b(a).toHsl();return d.l-=c/100,d.l=B(d.l),b(d)}function r(a,c){var d=b(a).toHsl(),e=(d.h+c)%360;return d.h=0>e?360+e:e,b(d)}function s(a){var c=b(a).toHsl();return c.h=(c.h+180)%360,b(c)}function t(a){var c=b(a).toHsl(),d=c.h;return[b(a),b({h:(d+120)%360,s:c.s,l:c.l}),b({h:(d+240)%360,s:c.s,l:c.l})]}function u(a){var c=b(a).toHsl(),d=c.h;return[b(a),b({h:(d+90)%360,s:c.s,l:c.l}),b({h:(d+180)%360,s:c.s,l:c.l}),b({h:(d+270)%360,s:c.s,l:c.l})]}function v(a){var c=b(a).toHsl(),d=c.h;return[b(a),b({h:(d+72)%360,s:c.s,l:c.l}),b({h:(d+216)%360,s:c.s,l:c.l})]}function w(a,c,d){c=c||6,d=d||30;var e=b(a).toHsl(),f=360/d,g=[b(a)];for(e.h=(e.h-(f*c>>1)+720)%360;--c;){e.h=(e.h+f)%360,g.push(b(e))}return g}function x(a,c){c=c||6;for(var d=b(a).toHsv(),e=d.h,f=d.s,g=d.v,h=[],i=1/c;c--;){h.push(b({h:e,s:f,v:g})),g=(g+i)%1}return h}function z(a){return a=parseFloat(a),(isNaN(a)||0>a||1<a)&&(a=1),a}function A(b,c){D(b)&&(b="100%");var d=E(b);return b=Q(c,R(0,parseFloat(b))),d&&(b=parseInt(b*c,10)/100),1e-6>a.abs(b-c)?1:b%c/parseFloat(c)}function B(a){return Q(1,R(0,a))}function C(a){return parseInt(a,16)}function D(a){return"string"==typeof a&&-1!=a.indexOf(".")&&1===parseFloat(a)}function E(a){return"string"==typeof a&&-1!=a.indexOf("%")}function F(a){return 1==a.length?"0"+a:""+a}function G(a){return 1>=a&&(a=100*a+"%"),a}function H(b){return a.round(255*parseFloat(b)).toString(16)}function I(a){return C(a)/255}function J(a){return!!V.CSS_UNIT.exec(a)}function K(a){a=a.replace(M,"").replace(N,"").toLowerCase();var b=!1;if(T[a])a=T[a],b=!0;else if("transparent"==a)return{r:0,g:0,b:0,a:0,format:"name"};var c;return(c=V.rgb.exec(a))?{r:c[1],g:c[2],b:c[3]}:(c=V.rgba.exec(a))?{r:c[1],g:c[2],b:c[3],a:c[4]}:(c=V.hsl.exec(a))?{h:c[1],s:c[2],l:c[3]}:(c=V.hsla.exec(a))?{h:c[1],s:c[2],l:c[3],a:c[4]}:(c=V.hsv.exec(a))?{h:c[1],s:c[2],v:c[3]}:(c=V.hsva.exec(a))?{h:c[1],s:c[2],v:c[3],a:c[4]}:(c=V.hex8.exec(a))?{r:C(c[1]),g:C(c[2]),b:C(c[3]),a:I(c[4]),format:b?"name":"hex8"}:(c=V.hex6.exec(a))?{r:C(c[1]),g:C(c[2]),b:C(c[3]),format:b?"name":"hex"}:(c=V.hex4.exec(a))?{r:C(c[1]+""+c[1]),g:C(c[2]+""+c[2]),b:C(c[3]+""+c[3]),a:I(c[4]+""+c[4]),format:b?"name":"hex8"}:(c=V.hex3.exec(a))?{r:C(c[1]+""+c[1]),g:C(c[2]+""+c[2]),b:C(c[3]+""+c[3]),format:b?"name":"hex"}:!1}function L(a){var b,c;return a=a||{level:"AA",size:"small"},b=(a.level||"AA").toUpperCase(),c=(a.size||"small").toLowerCase(),"AA"!==b&&"AAA"!==b&&(b="AA"),"small"!==c&&"large"!==c&&(c="small"),{level:b,size:c}}var M=/^\s+/,N=/\s+$/,O=0,P=a.round,Q=a.min,R=a.max,S=a.random;b.prototype={isDark:function isDark(){return 128>this.getBrightness()},isLight:function isLight(){return!this.isDark()},isValid:function isValid(){return this._ok},getOriginalInput:function getOriginalInput(){return this._originalInput},getFormat:function getFormat(){return this._format},getAlpha:function getAlpha(){return this._a},getBrightness:function getBrightness(){var a=this.toRgb();return(299*a.r+587*a.g+114*a.b)/1e3},getLuminance:function getLuminance(){var b,c,d,e,f,g,h=this.toRgb();return b=h.r/255,c=h.g/255,d=h.b/255,e=.03928>=b?b/12.92:a.pow((b+.055)/1.055,2.4),f=.03928>=c?c/12.92:a.pow((c+.055)/1.055,2.4),g=.03928>=d?d/12.92:a.pow((d+.055)/1.055,2.4),.2126*e+.7152*f+.0722*g},setAlpha:function setAlpha(a){return this._a=z(a),this._roundA=P(100*this._a)/100,this},toHsv:function toHsv(){var a=g(this._r,this._g,this._b);return{h:360*a.h,s:a.s,v:a.v,a:this._a}},toHsvString:function toHsvString(){var a=g(this._r,this._g,this._b),b=P(360*a.h),c=P(100*a.s),d=P(100*a.v);return 1==this._a?"hsv("+b+", "+c+"%, "+d+"%)":"hsva("+b+", "+c+"%, "+d+"%, "+this._roundA+")"},toHsl:function toHsl(){var a=e(this._r,this._g,this._b);return{h:360*a.h,s:a.s,l:a.l,a:this._a}},toHslString:function toHslString(){var a=e(this._r,this._g,this._b),b=P(360*a.h),c=P(100*a.s),d=P(100*a.l);return 1==this._a?"hsl("+b+", "+c+"%, "+d+"%)":"hsla("+b+", "+c+"%, "+d+"%, "+this._roundA+")"},toHex:function toHex(a){return i(this._r,this._g,this._b,a)},toHexString:function toHexString(a){return"#"+this.toHex(a)},toHex8:function toHex8(a){return j(this._r,this._g,this._b,this._a,a)},toHex8String:function toHex8String(a){return"#"+this.toHex8(a)},toRgb:function toRgb(){return{r:P(this._r),g:P(this._g),b:P(this._b),a:this._a}},toRgbString:function toRgbString(){return 1==this._a?"rgb("+P(this._r)+", "+P(this._g)+", "+P(this._b)+")":"rgba("+P(this._r)+", "+P(this._g)+", "+P(this._b)+", "+this._roundA+")"},toPercentageRgb:function toPercentageRgb(){return{r:P(100*A(this._r,255))+"%",g:P(100*A(this._g,255))+"%",b:P(100*A(this._b,255))+"%",a:this._a}},toPercentageRgbString:function toPercentageRgbString(){return 1==this._a?"rgb("+P(100*A(this._r,255))+"%, "+P(100*A(this._g,255))+"%, "+P(100*A(this._b,255))+"%)":"rgba("+P(100*A(this._r,255))+"%, "+P(100*A(this._g,255))+"%, "+P(100*A(this._b,255))+"%, "+this._roundA+")"},toName:function toName(){return 0===this._a?"transparent":1>this._a?!1:U[i(this._r,this._g,this._b,!0)]||!1},toFilter:function toFilter(a){var c="#"+k(this._r,this._g,this._b,this._a),d=c,e=this._gradientType?"GradientType = 1, ":"";if(a){var f=b(a);d="#"+k(f._r,f._g,f._b,f._a)}return"progid:DXImageTransform.Microsoft.gradient("+e+"startColorstr="+c+",endColorstr="+d+")"},toString:function toString(a){var b=!!a;a=a||this._format;var c=!1,d=1>this._a&&0<=this._a,e=!b&&d&&("hex"===a||"hex6"===a||"hex3"===a||"hex4"===a||"hex8"===a||"name"===a);return e?"name"===a&&0===this._a?this.toName():this.toRgbString():("rgb"===a&&(c=this.toRgbString()),"prgb"===a&&(c=this.toPercentageRgbString()),("hex"===a||"hex6"===a)&&(c=this.toHexString()),"hex3"===a&&(c=this.toHexString(!0)),"hex4"===a&&(c=this.toHex8String(!0)),"hex8"===a&&(c=this.toHex8String()),"name"===a&&(c=this.toName()),"hsl"===a&&(c=this.toHslString()),"hsv"===a&&(c=this.toHsvString()),c||this.toHexString())},clone:function clone(){return b(this.toString())},_applyModification:function _applyModification(a,b){var c=a.apply(null,[this].concat([].slice.call(b)));return this._r=c._r,this._g=c._g,this._b=c._b,this.setAlpha(c._a),this},lighten:function lighten(){return this._applyModification(o,arguments)},brighten:function brighten(){return this._applyModification(p,arguments)},darken:function darken(){return this._applyModification(q,arguments)},desaturate:function desaturate(){return this._applyModification(l,arguments)},saturate:function saturate(){return this._applyModification(m,arguments)},greyscale:function greyscale(){return this._applyModification(n,arguments)},spin:function spin(){return this._applyModification(r,arguments)},_applyCombination:function _applyCombination(a,b){return a.apply(null,[this].concat([].slice.call(b)))},analogous:function analogous(){return this._applyCombination(w,arguments)},complement:function complement(){return this._applyCombination(s,arguments)},monochromatic:function monochromatic(){return this._applyCombination(x,arguments)},splitcomplement:function splitcomplement(){return this._applyCombination(v,arguments)},triad:function triad(){return this._applyCombination(t,arguments)},tetrad:function tetrad(){return this._applyCombination(u,arguments)}},b.fromRatio=function(a,c){if("object"==babelHelpers.typeof(a)){var d={};for(var e in a){a.hasOwnProperty(e)&&(d[e]="a"===e?a[e]:G(a[e]))}a=d}return b(a,c)},b.equals=function(a,c){return a&&c?b(a).toRgbString()==b(c).toRgbString():!1},b.random=function(){return b.fromRatio({r:S(),g:S(),b:S()})},b.mix=function(a,c,d){d=0===d?0:d||50;var e=b(a).toRgb(),f=b(c).toRgb(),g=d/100,h={r:(f.r-e.r)*g+e.r,g:(f.g-e.g)*g+e.g,b:(f.b-e.b)*g+e.b,a:(f.a-e.a)*g+e.a};return b(h)},b.readability=function(c,d){var e=b(c),f=b(d);return(a.max(e.getLuminance(),f.getLuminance())+.05)/(a.min(e.getLuminance(),f.getLuminance())+.05)},b.isReadable=function(a,c,d){var e,f,g=b.readability(a,c);switch(f=!1,e=L(d),e.level+e.size){case"AAsmall":case"AAAlarge":f=4.5<=g;break;case"AAlarge":f=3<=g;break;case"AAAsmall":f=7<=g;}return f},b.mostReadable=function(a,c,d){var e,f,g,h,i=null,j=0;d=d||{},f=d.includeFallbackColors,g=d.level,h=d.size;for(var k=0;k<c.length;k++){e=b.readability(a,c[k]),e>j&&(j=e,i=b(c[k]))}return b.isReadable(a,i,{level:g,size:h})||!f?i:(d.includeFallbackColors=!1,b.mostReadable(a,["#fff","#000"],d))};var T=b.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},U=b.hexNames=function(a){var b={};for(var c in a){a.hasOwnProperty(c)&&(b[a[c]]=c)}return b}(T),V=function(){var c="(?:"+"[-\\+]?\\d*\\.\\d+%?"+")|(?:"+"[-\\+]?\\d+%?"+")";return{CSS_UNIT:/(?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?)/,rgb:/rgb[\s|\(]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))[,|\s]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))[,|\s]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))\s*\)?/,rgba:/rgba[\s|\(]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))[,|\s]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))[,|\s]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))[,|\s]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))\s*\)?/,hsl:/hsl[\s|\(]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))[,|\s]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))[,|\s]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))\s*\)?/,hsla:/hsla[\s|\(]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))[,|\s]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))[,|\s]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))[,|\s]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))\s*\)?/,hsv:/hsv[\s|\(]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))[,|\s]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))[,|\s]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))\s*\)?/,hsva:/hsva[\s|\(]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))[,|\s]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))[,|\s]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))[,|\s]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))\s*\)?/,hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();"undefined"!=typeof module&&module.exports?module.exports=b:"function"==typeof define&&define.amd?define(function(){return b}):window.tinycolor=b}(Math);</script><script>!function(a,b){"undefined"!=typeof module&&module.exports?module.exports=b(require("tinycolor2")):"function"==typeof define&&define.amd?define(["tinycolor"],b):a.tinygradient=b(a.tinycolor)}(this,function(a){"use strict";var b={rgba_max:{r:256,g:256,b:256,a:1},hsva_max:{h:360,s:1,v:1,a:1},stepize:function stepize(a,b,c){var d={};for(var e in a){a.hasOwnProperty(e)&&(d[e]=(b[e]-a[e])/c)}return d},interpolate:function interpolate(a,b,c,d){var e={};for(var f in b){b.hasOwnProperty(f)&&(e[f]=a[f]*c+b[f],e[f]=0>e[f]?e[f]+d[f]:1!=d[f]?e[f]%d[f]:e[f])}return e},rgb:function rgb(c,d,e){for(var f,g=c.color.toRgb(),h=d.color.toRgb(),i=[c.color],j=b.stepize(g,h,e),k=1;e>k;k++){f=b.interpolate(j,g,k,b.rgba_max),i.push(a(f))}return i},hsv:function hsv(c,d,e,f){var g,h,i=c.color.toHsv(),j=d.color.toHsv(),k=[c.color],l=b.stepize(i,j,e);g=i.h<=j.h&&!f||i.h>=j.h&&f?j.h-i.h:f?360-j.h+i.h:360-i.h+j.h,l.h=1*(Math.pow(-1,f)*Math.abs(g))/e;for(var m=1;e>m;m++){h=b.interpolate(l,i,m,b.hsva_max),k.push(a(h))}return k},substeps:function substeps(a,b){var _Mathmax=Math.max,c=a.length;if(b=parseInt(b),isNaN(b)||2>b)throw new Error("Invalid number of steps (< 2)");if(c>b)throw new Error("Number of steps cannot be inferior to number of stops");for(var d=[],e=1,f;c>e;e++){f=(b-1)*(a[e].pos-a[e-1].pos);d.push(_Mathmax(1,Math.round(f)))}for(var g=1,h=c-1;h--;){g+=d[h]}for(;g!=b;){if(b>g){var i=Math.min.apply(null,d);d[d.indexOf(i)]++,g++}else{var j=_Mathmax.apply(null,d);d[d.indexOf(j)]--,g--}}return d}},c=function(b){if(1==arguments.length){if(!babelHelpers.instanceof(arguments[0],Array))throw new Error("\"stops\" is not an array");b=arguments[0]}else b=Array.prototype.slice.call(arguments);if(!babelHelpers.instanceof(this,c))return new c(b);if(2>b.length)throw new Error("Invalid number of stops (< 2)");var d=void 0!==b[0].pos,e=b.length,f=-1;this.stops=b.map(function(b,c){var g=void 0!==b.pos;if(d^g)throw new Error("Cannot mix positionned and not posionned color stops");if(g){if(b={color:a(b.color),pos:b.pos},0>b.pos||1<b.pos)throw new Error("Color stops positions must be between 0 and 1");if(b.pos<=f)throw new Error("Color stops positions are not ordered");f=b.pos}else b={color:a(b),pos:c/(e-1)};return b}),0!==this.stops[0].pos&&this.stops.unshift({color:this.stops[0].color,pos:0}),1!==this.stops[this.stops.length-1].pos&&this.stops.push({color:this.stops[this.stops.length-1].color,pos:1})};return c.prototype.reverse=function(){var a=[];return this.stops.forEach(function(b){a.push({color:b.color,pos:1-b.pos})}),new c(a.reverse())},c.prototype.rgb=function(a){for(var c=b.substeps(this.stops,a),d=[],e=0,f=this.stops.length;f-1>e;e++){d=d.concat(b.rgb(this.stops[e],this.stops[e+1],c[e]))}return d.push(this.stops[f-1].color),d},c.prototype.hsv=function(a,c){for(var d,e,f,g=b.substeps(this.stops,a),i="string"==typeof c,j=[],k=0,l=this.stops.length;l-1>k;k++){d=this.stops[k].color.toHsv(),e=this.stops[k+1].color.toHsv(),i&&(f=d.h<e.h&&180>e.h-d.h||d.h>e.h&&180<d.h-e.h),j=0===d.s||0===e.s?j.concat(b.rgb(this.stops[k],this.stops[k+1],g[k])):j.concat(b.hsv(this.stops[k],this.stops[k+1],g[k],"long"===c&&f||"short"===c&&!f||!i&&!0===c))}return j.push(this.stops[l-1].color),j},c.prototype.css=function(a,b){a=a||"linear",b=b||("linear"==a?"to right":"ellipse at center");var c=a+"-gradient("+b;return this.stops.forEach(function(a){c+=", "+a.color.toRgbString()+" "+100*a.pos+"%"}),c+=")"},c.rgb=function(a,b){return a=Array.prototype.slice.call(arguments),b=a.pop(),c.apply(null,a).rgb(b)},c.hsv=function(a,b,d){return a=Array.prototype.slice.call(arguments),d=a.pop(),b=a.pop(),c.apply(null,a).hsv(b,d)},c.css=function(a,b,d){return a=Array.prototype.slice.call(arguments),d=a.pop(),b=a.pop(),c.apply(null,a).css(b,d)},c});</script><dom-module id="nw-score" assetpath="../"><template><style>:host{display:inline-block;color:var(--secondary-text-color);font-weight:normal;}span{min-width:0.6em;display:inline-block;text-align:center;}</style><span>[[_score]]</span>/<span>[[_total]]</span></template><script>var gradient=tinygradient("red","orange","rgb(195, 195, 8)","#27AE60").hsv(20,"short"),NWScore=function(_Polymer$Element){babelHelpers.inherits(NWScore,_Polymer$Element);function NWScore(){babelHelpers.classCallCheck(this,NWScore);return babelHelpers.possibleConstructorReturn(this,(NWScore.__proto__||Object.getPrototypeOf(NWScore)).apply(this,arguments))}babelHelpers.createClass(NWScore,[{key:"computeScore",value:function computeScore(score){if(score===void 0||null===score){return"-"}return score}},{key:"updateColor",value:function updateColor(score,total){if(score===void 0||null===score||total===void 0||null===total){this.style.color="";return}var i=Math.round(Math.min(score/total,1)*(gradient.length-1)),grad=gradient[i];if(!grad){this.style.color="";return}this.style.color=grad.toRgbString()}}],[{key:"is",get:function get(){return"nw-score"}},{key:"properties",get:function get(){return{score:{type:Number},total:{type:Number},_total:{type:Number,value:"-",computed:"computeScore(total)"},_score:{type:Number,value:"-",computed:"computeScore(score)"}}}},{key:"observers",get:function get(){return["updateColor(score, total)"]}}]);return NWScore}(Polymer.Element);customElements.define(NWScore.is,NWScore);</script></dom-module><dom-module id="nw-criteria" assetpath="../"><template><style include="shared-styles">:host{display:flex;flex-direction:column;}#question, #criteria{padding:15px;}#question{background-color:var(--primary-color);color:var(--dark-text-color);font-weight:bold;}#buttons{white-space:nowrap;}#question paper-button{color:var(--dark-text-color);border:2px solid var(--dark-text-color);width:36px;padding:5px;text-align:center;border-radius:2px;}#criteria{flex-grow:10000;overflow:auto;padding-top:0;}#summary{background-color:#eee;padding:0 15px;display:flex;justify-content:space-between;align-items:center;overflow:hidden;}paper-button{min-width:0;}.question{cursor:pointer;color:var(--secondary-text-color);display:flex;}.question[filled]{color:var(--light-text-color);}.weight{font-weight:normal;color:var(--secondary-text-color);}.question[selected]{color:var(--primary-color);font-weight:bold;}h4{margin-bottom:10px;}nw-score{margin:0 10px;flex-shrink:0;}#secondaryControls{display:flex;align-items:center;}</style><div id="question"><p>[[selected.name]]</p><div id="buttons"><template is="dom-repeat" items="[[levels(selected.worth)]]"><span><paper-button on-tap="handleScore">[[item]]</paper-button><paper-tooltip> [[item]]</paper-tooltip></span></template></div></div><div id="criteria"><template is="dom-if" if="[[criteriaUrl]]"><p><a target="_blank" href="[[criteriaUrl]]">View Criteria Descriptions</a></p></template><template is="dom-repeat" items="[[questions]]" as="category"><h4>[[category.name]]<template is="dom-if" if="[[displayWeight(category, category.weight, criteria.*)]]"><span class="weight">[[displayWeight(category, category.weight, criteria.*)]]</span></template></h4><template is="dom-repeat" items="[[category.questions]]"><a on-tap="handleScroll"><div class="question" on-tap="handleSelect" filled$="[[isSet(item.score)]]" selected$="[[isSelected(selected, item)]]"><nw-score score="[[criteriaScore(criteria, item.slug, criteria.*)]]" total="[[item.worth]]"></nw-score><div class="label">[[item.name]]</div></div></a></template></template></div><div id="summary"><span>Total<nw-score score="[[criteria.score]]" total="[[criteria.total]]"></nw-score></span><span id="secondaryControls"><paper-button id="clearCriteria" on-tap="clearCriteria">Clear</paper-button><paper-tooltip for="clearCriteria" position="top">Resets Criteria</paper-tooltip><paper-icon-button id="viewShortcuts" on-tap="handleViewShortcuts" icon="hardware:keyboard"></paper-icon-button><paper-tooltip for="viewShortcuts" position="top">Keyboard Shortcuts</paper-tooltip></span></div><paper-dialog id="keyboardShortcuts" modal=""><h2>Keyboard Shortcuts</h2><paper-dialog-scrollable><div><ul><li><p><code>?</code> - View this help.</p></li><li><p><code>0-9</code> - Score the current criteria and advance to the next.</p></li><li><p><code>n</code> - Next criteria.</p></li><li><p><code>p</code> - Previous criteria.</p></li><li><p><code>j</code> - Next hacker.</p></li><li><p><code>k</code> - Previous hacker.</p></li></ul></div></paper-dialog-scrollable><div class="buttons"><paper-button dialog-confirm="" autofocus="">close</paper-button></div></paper-dialog><iron-a11y-keys target="[[target]]" keys="0 1 2 3 4 5 6 7 8 9 -" on-keys-pressed="handleKeyScore"></iron-a11y-keys><iron-a11y-keys target="[[target]]" keys="n" on-keys-pressed="handleNext"></iron-a11y-keys><iron-a11y-keys target="[[target]]" keys="p" on-keys-pressed="handlePrev"></iron-a11y-keys><iron-a11y-keys target="[[target]]" keys="?" on-keys-pressed="handleViewShortcuts"></iron-a11y-keys></template><script>var pastExperienceName="Past Experience";function experienceWeight(category){var total=this.categoryTotal(pastExperienceName);if(!total){return}var weight;if(5>=total){weight=.8}else if(8>=total){weight=.85}else if(10>=total){weight=.9}if(!weight){return}if(category.name!==pastExperienceName){weight=1-weight}return weight}var questions=[{name:pastExperienceName,questions:[{name:"Github/Personal Website",worth:5,field:"github"},{name:"Linkedin/Resume",worth:5,field:"linkedin"}],weight:experienceWeight},{name:"Written Response",questions:[{name:"What do you want to get out of nwHacks?",worth:5,field:"reason"},{name:"Tell us about a recent project you've worked on that excites you!",worth:5,field:"project"}],weight:experienceWeight},{name:"Bonus",questions:[{name:"If you were a piece of technology, what would you be?",worth:1,bonus:!0,field:"technology"}],weight:experienceWeight}],NWCriteria=function(_Polymer$Element){babelHelpers.inherits(NWCriteria,_Polymer$Element);function NWCriteria(){babelHelpers.classCallCheck(this,NWCriteria);return babelHelpers.possibleConstructorReturn(this,(NWCriteria.__proto__||Object.getPrototypeOf(NWCriteria)).apply(this,arguments))}babelHelpers.createClass(NWCriteria,[{key:"connectedCallback",value:function connectedCallback(){babelHelpers.get(NWCriteria.prototype.__proto__||Object.getPrototypeOf(NWCriteria.prototype),"connectedCallback",this).call(this);this.target=document.body}},{key:"displayWeight",value:function displayWeight(category){var weight=this.weight(category);if(weight){return weight.toFixed(2)}return weight}},{key:"weight",value:function weight(category){if(!category.weight){return}return category.weight.call(this,category)}},{key:"categoryTotal",value:function categoryTotal(label){if(!this.criteria){return}var _iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _iterator=this.questions[Symbol.iterator](),_step,cat;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){cat=_step.value;if(cat.name!==label){continue}var total=0,_iteratorNormalCompletion2=!0,_didIteratorError2=!1,_iteratorError2=void 0;try{for(var _iterator2=cat.questions[Symbol.iterator](),_step2,q;!(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done);_iteratorNormalCompletion2=!0){q=_step2.value;total+=this.criteria[q.slug]}}catch(err){_didIteratorError2=!0;_iteratorError2=err}finally{try{if(!_iteratorNormalCompletion2&&null!=_iterator2.return){_iterator2.return()}}finally{if(_didIteratorError2){throw _iteratorError2}}}return total}}catch(err){_didIteratorError=!0;_iteratorError=err}finally{try{if(!_iteratorNormalCompletion&&null!=_iterator.return){_iterator.return()}}finally{if(_didIteratorError){throw _iteratorError}}}}},{key:"handleViewShortcuts",value:function handleViewShortcuts(){this.$.keyboardShortcuts.open()}},{key:"handleNext",value:function handleNext(){this.moveSelected(1)}},{key:"handlePrev",value:function handlePrev(){this.moveSelected(-1)}},{key:"handleKeyScore",value:function handleKeyScore(e){var key=e.detail.keyboardEvent.key,val=key;if("-"!==key){val=parseInt(key)}this.setScore(val)}},{key:"handleScroll",value:function handleScroll(e){this.qid=e.model.item.field}},{key:"reset",value:function reset(questions){if(!this.isSet(this.selected)){this.setSelected(questions[0]);this.qid=questions[0].field}if(this.isSet(this.search)){this.selectDefault(questions)}}},{key:"selectDefault",value:function selectDefault(questions){for(var i=0;i<questions.length;i++){if(questions[i].field==this.search){this.setSelected(questions[i]);this.qid=this.search}}}},{key:"or",value:function or(a,b){return a||b}},{key:"isSet",value:function isSet(v){return v!==void 0&&null!==v}},{key:"clearCriteria",value:function clearCriteria(){this.criteria={}}},{key:"flattenQuestions",value:function flattenQuestions(questions){var flat=[],_iteratorNormalCompletion3=!0,_didIteratorError3=!1,_iteratorError3=void 0;try{for(var _iterator3=questions[Symbol.iterator](),_step3;!(_iteratorNormalCompletion3=(_step3=_iterator3.next()).done);_iteratorNormalCompletion3=!0){var cat=_step3.value,_iteratorNormalCompletion4=!0,_didIteratorError4=!1,_iteratorError4=void 0;try{for(var _iterator4=cat.questions[Symbol.iterator](),_step4,q;!(_iteratorNormalCompletion4=(_step4=_iterator4.next()).done);_iteratorNormalCompletion4=!0){q=_step4.value;q.slug=this.slugify(q.name);q.index=flat.length;q.category=cat;flat.push(q)}}catch(err){_didIteratorError4=!0;_iteratorError4=err}finally{try{if(!_iteratorNormalCompletion4&&null!=_iterator4.return){_iterator4.return()}}finally{if(_didIteratorError4){throw _iteratorError4}}}}}catch(err){_didIteratorError3=!0;_iteratorError3=err}finally{try{if(!_iteratorNormalCompletion3&&null!=_iterator3.return){_iterator3.return()}}finally{if(_didIteratorError3){throw _iteratorError3}}}return flat}},{key:"levels",value:function levels(max){var l=[],first=0;if(1<max){first=1}for(var i=first;i<=max;i++){l.push(i)}l.push("-");return l}},{key:"handleSelect",value:function handleSelect(e){this.setSelected(e.model.item)}},{key:"setSelected",value:function setSelected(selected){this.selected=selected}},{key:"handleScore",value:function handleScore(e){var score=e.model.item;this.setScore(score)}},{key:"setScore",value:function setScore(score){if(!this.criteria){this.criteria={}}if("-"===score){this.set(["criteria",this.selected.slug],null)}else{if(-1===this.levels(this.selected.worth).indexOf(score)){return}this.set(["criteria",this.selected.slug],score)}this.computeScore()}},{key:"moveSelected",value:function moveSelected(rel){var i=this.selected.index+rel,q=this._questions[i];if(q){this.setSelected(q)}}},{key:"computeScore",value:function computeScore(){var _this=this;if(!this._questions){return}var finished=!0,started=!1,score=0,total=0,_iteratorNormalCompletion5=!0,_didIteratorError5=!1,_iteratorError5=void 0;try{for(var _iterator5=this._questions[Symbol.iterator](),_step5;!(_iteratorNormalCompletion5=(_step5=_iterator5.next()).done);_iteratorNormalCompletion5=!0){var q=_step5.value,weight=this.weight(q.category)||1;if(!q.bonus){total+=weight*q.worth}if(!this.criteria||!this.criteria.hasOwnProperty(q.slug)||this.criteria[q.slug]===void 0||null===this.criteria[q.slug]){finished=!1;continue}started=!0;score+=weight*this.criteria[q.slug]}}catch(err){_didIteratorError5=!0;_iteratorError5=err}finally{try{if(!_iteratorNormalCompletion5&&null!=_iterator5.return){_iterator5.return()}}finally{if(_didIteratorError5){throw _iteratorError5}}}if(started){setTimeout(function(){if(!_this.criteria){_this.criteria={}}_this.set("criteria.total",total)},1)}if(!finished){this.set("criteria.score",null);return}if(!this.criteria){this.criteria={}}this.set("criteria.score",this.roundNumber(score,4))}},{key:"roundNumber",value:function roundNumber(number,digits){var multiple=Math.pow(10,digits),rndedNum=Math.round(number*multiple)/multiple;return rndedNum}},{key:"criteriaScore",value:function criteriaScore(criteria,slug){if(!criteria){return}return criteria[slug]}},{key:"isSelected",value:function isSelected(selected,item){return selected===item}},{key:"slugify",value:function slugify(str){return str.replace(/[^a-zA-Z]+/g," ").trim().replace(/ /g,"-").toLowerCase()}}],[{key:"is",get:function get(){return"nw-criteria"}},{key:"properties",get:function get(){return{criteriaUrl:{type:String,value:"https://docs.google.com/document/d/1Rb3VcuFiI33MgC-BTnUHqSZOBMGZ5z2tQZTmnqP0p1Y/edit"},questions:{value:questions},_questions:{notify:!0,computed:"flattenQuestions(questions)"},criteria:{notify:!0,type:Object},sid:{type:String},qid:{notify:!0,type:String},search:{type:String}}}},{key:"observers",get:function get(){return["computeScore(_questions, criteria, criteria.*)","selectDefault(_questions, search)","reset(_questions, sid)"]}}]);return NWCriteria}(Polymer.Element);customElements.define(NWCriteria.is,NWCriteria);</script></dom-module><dom-module id="document-viewer" assetpath="../"><template><style>:host{display:flex;}iframe{border:none;flex-grow:10000;}</style><iframe src="[[embed(src)]]"></iframe></template><script>var whitelist=["pdf"],DocumentViewer=function(_Polymer$Element){babelHelpers.inherits(DocumentViewer,_Polymer$Element);function DocumentViewer(){babelHelpers.classCallCheck(this,DocumentViewer);return babelHelpers.possibleConstructorReturn(this,(DocumentViewer.__proto__||Object.getPrototypeOf(DocumentViewer)).apply(this,arguments))}babelHelpers.createClass(DocumentViewer,[{key:"embed",value:function embed(src){if(!src||0===src.length){return""}var parser=document.createElement("a");parser.href=src;var parts=parser.pathname.split("."),ext=parts[parts.length-1];if(-1!==whitelist.indexOf(ext)){return src}return"https://docs.google.com/gview?url="+encodeURIComponent(src)+"&embedded=true"}}],[{key:"is",get:function get(){return"document-viewer"}},{key:"properties",get:function get(){return{src:{type:String}}}}]);return DocumentViewer}(Polymer.Element);customElements.define(DocumentViewer.is,DocumentViewer);</script></dom-module><dom-module id="review-submission" assetpath="../"><template><style include="shared-styles">:host{display:flex;overflow:hidden;}:host([hidden]){display:none;}#tabs{display:flex;flex-direction:column;flex-grow:10000;overflow:hidden;}paper-tabs{flex-shrink:0;}#content{flex-grow:10000;overflow:auto;display:flex;flex-direction:column;}nw-comments{flex-grow:10000;padding:16px 16px 0;}.pad{padding:16px;}document-viewer{flex-grow:10000;}#actions{padding:16px;border-top:1px;}#criteria{flex-grow:0;flex-shrink:0;flex-basis:337px;border-right:1px solid #eee;}.right{float:right;}</style><template is="dom-if" if="[[!hacker.rsvp]]"><nw-criteria id="criteria" sid="[[sid]]" criteria="{{hacker.criteria}}" qid="{{qid}}" _questions="{{_questions}}" search="[[search]]"></nw-criteria></template><div id="tabs"><paper-tabs selected="{{selected}}" attr-for-selected="text-content" scrollable=""><paper-tab>Info</paper-tab><template is="dom-if" if="[[hacker.rsvp]]"><paper-tab>RSVP</paper-tab></template><template is="dom-if" if="[[hacker.resume]]"><paper-tab>Resume</paper-tab></template><paper-tab><span id="comments">Comments &nbsp;&nbsp;</span><template is="dom-if" if="[[numComments(hacker.comments, hacker.comments.*)]]"><paper-badge for="comments" label="[[numComments(hacker.comments, hacker.comments.*)]]"></paper-badge></template></paper-tab><paper-tab>Email</paper-tab></paper-tabs><div id="content"><template is="dom-if" if="[[eq(selected, 'Info')]]"><div id="info" class="pad"><template is="dom-repeat" items="[[questions]]"><template is="dom-if" if="[[has(hacker, item.name)]]"><paper-input-container id="[[item.name]]" always-float-label=""><label slot="label">[[item.label]]</label> <span slot="input" class="paper-input-input"><template is="dom-if" if="[[linkField(hacker, item.name, hacker.*)]]"><a target="_blank" href="[[linkField(hacker, item.name, hacker.*)]]">[[get(hacker, item.name, hacker.*)]]</a></template><template is="dom-if" if="[[!linkField(hacker, item.name, hacker.*)]]"><template is="dom-if" if="[[markdownField(item.type)]]"><marked-element markdown="[[get(hacker, item.name, hacker.*)]]" breaks="" smartypants="" on-marked-render-complete="handleRender" sanitize=""><div slot="markdown-html"></div></marked-element></template><template is="dom-if" if="[[!markdownField(item.type)]]">[[get(hacker, item.name, hacker.*)]]</template></template></span></paper-input-container></template></template></div></template><template is="dom-if" if="[[eq(selected, 'RSVP')]]"><div class="pad"><code><pre>[[stringify(hacker.rsvp)]]</pre></code></div></template><template is="dom-if" if="[[eq(selected, 'Resume')]]"><document-viewer src="[[resumeLink(hacker.resume)]]"></document-viewer></template><template is="dom-if" if="[[eq(selected, 'Comments')]]"><nw-comments comments="{{hacker.comments}}" name="[[name]]" email="[[email]]"></nw-comments></template><template is="dom-if" if="[[eq(selected, 'Email')]]"><div class="pad"><nw-email disabled="[[disabled]]" args="[[emailArgs(sid, hacker)]]"></nw-email></div></template></div><div id="actions"><template is="dom-if" if="[[!hacker.acceptance_sent]]"><select on-change="onSelect"><template is="dom-repeat" items="[[categories]]"><option selected$="[[eq(item, hacker.status)]]">[[item]]</option></template></select></template><paper-checkbox checked="{{hacker.checked_in}}" on-change="checkIn">Checked In</paper-checkbox><a href="/rsvp/{{sid}}" target="_blank">RSVP</a> <span class="right"><nw-tags disabled="[[disabled]]" tags="{{hacker.tags}}"></nw-tags><span title="[[hacker.submitted]]">[[time(hacker.submitted)]]</span> <a target="_blank" href="[[firebaseLink(form, sid)]]">Firebase</a><nw-viewing viewing="" viewers="{{hacker.viewers}}" position="left" disabled="[[!hacker.first_name]]" name="[[name]]" email="[[email]]"></nw-viewing></span></div></div><firebase-document path="[[submissionPath(form, sid)]]" disabled="[[disabled]]" sequential-transactions="" data="{{hacker}}"></firebase-document></template><script>var ReviewSubmission=function(_Polymer$Element){babelHelpers.inherits(ReviewSubmission,_Polymer$Element);function ReviewSubmission(){babelHelpers.classCallCheck(this,ReviewSubmission);return babelHelpers.possibleConstructorReturn(this,(ReviewSubmission.__proto__||Object.getPrototypeOf(ReviewSubmission)).apply(this,arguments))}babelHelpers.createClass(ReviewSubmission,[{key:"reset",value:function reset(){this.selected="Info"}},{key:"stringify",value:function stringify(obj){return JSON.stringify(obj,"","  ")}},{key:"handleRender",value:function handleRender(e){for(var _arr=Array.from(e.target.querySelectorAll("a")),_i=0,elem;_i<_arr.length;_i++){elem=_arr[_i];elem.target="_blank"}}},{key:"eq",value:function eq(a,b){return(a||"").trim()===(b||"").trim()}},{key:"has",value:function has(hacker,name){return hacker.hasOwnProperty(name)}},{key:"get",value:function get(hacker,name){return hacker[name]}},{key:"submissionPath",value:function submissionPath(form,sid){if(!form||!sid){return}return"/form/"+form+"/"+sid}},{key:"linkField",value:function linkField(hacker,field){if("github"===field){return this.githubLink(hacker.github)}else if("resume"===field){return this.resumeLink(hacker.resume)}else if("linkedin"===field){return this.linkedinLink(hacker.linkedin)}else if("personalsite"===field){return hacker.personalsite}}},{key:"markdownField",value:function markdownField(type){return"paper-textarea"===type}},{key:"firebaseLink",value:function firebaseLink(form,id){if(!id||!form){return}return"https://console.firebase.google.com/project/nwhacks-2018/database/data/form/"+form+"/"+id}},{key:"resumeLink",value:function resumeLink(resume){if(!resume){return}return"https://firebasestorage.googleapis.com/v0/b/nwhacks-2018.appspot.com/o/"+encodeURIComponent(resume)+"?alt=media"}},{key:"time",value:function time(_time){if(!_time){return"never"}return moment(_time).fromNow()}},{key:"githubLink",value:function githubLink(username){if(!username){return}if(0<username.indexOf("github.com")){return username}return"https://github.com/"+username}},{key:"linkedinLink",value:function linkedinLink(username){if(!username){return}if(0<username.indexOf("linkedin.com")){return username}return"https://linkedin.com/in/"+username}},{key:"acceptanceSent",value:function acceptanceSent(hacker){return hacker.acceptance_sent&&"accepted"===hacker.status}},{key:"numComments",value:function numComments(comments){return Object.keys(comments||{}).length}},{key:"emailArgs",value:function emailArgs(sid,hacker){return{to:hacker.email,first_name:hacker.first_name,last_name:hacker.last_name,id:sid}}},{key:"scrollSubmission",value:function scrollSubmission(){var _this=this;if(!this.qid){return}setTimeout(function(){var ele=_this.shadowRoot.querySelector("#"+_this.qid);if(null!=ele){ele.scrollIntoView()}},1)}}],[{key:"is",get:function get(){return"review-submission"}},{key:"properties",get:function get(){return{form:{type:String},sid:{type:String},selected:{type:String},hacker:{type:Object,notify:!0},disabled:{type:Boolean,value:!1},qid:{type:String},search:{type:String},_questions:{type:Array,notify:!0}}}},{key:"observers",get:function get(){return["reset(sid)","scrollSubmission(sid, qid, hacker)"]}}]);return ReviewSubmission}(Polymer.Element);customElements.define(ReviewSubmission.is,ReviewSubmission);</script></dom-module><script>function compileExpression(expression,extraFunctions){var functions={abs:Math.abs,ceil:Math.ceil,floor:Math.floor,log:Math.log,max:Math.max,min:Math.min,random:Math.random,round:Math.round,sqrt:Math.sqrt};if(extraFunctions){for(var name in extraFunctions){if(extraFunctions.hasOwnProperty(name)){functions[name]=extraFunctions[name]}}}if(!compileExpression.parser){compileExpression.parser=filtrexParser()}var tree=compileExpression.parser.parse(expression),js=[];js.push("return ");function toJs(node){if(Array.isArray(node)){node.forEach(toJs)}else{js.push(node)}}tree.forEach(toJs);js.push(";");function unknown(funcName){throw"Unknown function: "+funcName+"()"}var func=new Function("functions","data","unknown",js.join(""));return function(data){return func(functions,data,unknown)}}function filtrexParser(){var Jison=require("jison"),bnf=require("jison/bnf");function code(args,skipParentheses){var argsJs=args.map(function(a){return"number"==typeof a?"$"+a:JSON.stringify(a)}).join(",");return skipParentheses?"$$ = ["+argsJs+"];":"$$ = [\"(\", "+argsJs+", \")\"];"}var grammar={lex:{rules:[["\\*","return \"*\";"],["\\/","return \"/\";"],["-","return \"-\";"],["\\+","return \"+\";"],["\\^","return \"^\";"],["\\%","return \"%\";"],["\\(","return \"(\";"],["\\)","return \")\";"],["\\,","return \",\";"],["==","return \"==\";"],["\\!=","return \"!=\";"],["\\~=","return \"~=\";"],[">=","return \">=\";"],["<=","return \"<=\";"],["<","return \"<\";"],[">","return \">\";"],["\\?","return \"?\";"],["\\:","return \":\";"],["and[^\\w]","return \"and\";"],["or[^\\w]","return \"or\";"],["not[^\\w]","return \"not\";"],["in[^\\w]","return \"in\";"],["\\s+",""],["[0-9]+(?:\\.[0-9]+)?\\b","return \"NUMBER\";"],["[a-zA-Z][\\.a-zA-Z0-9_]*","return \"SYMBOL\";"],["'(?:[^'])*'","yytext = yytext.substr(1, yyleng-2); return \"SYMBOL\";"],["\"(?:[^\"])*\"","yytext = yytext.substr(1, yyleng-2); return \"STRING\";"],["$","return \"EOF\";"]]},operators:[["left","?",":"],["left","or"],["left","and"],["left","in"],["left","==","!=","~="],["left","<","<=",">",">="],["left","+","-"],["left","*","/","%"],["left","^"],["left","not"],["left","UMINUS"]],bnf:{expressions:[["e EOF","return $1;"]],e:[["e + e",code([1,"+",3])],["e - e",code([1,"-",3])],["e * e",code([1,"*",3])],["e / e",code([1,"/",3])],["e % e",code([1,"%",3])],["e ^ e",code(["Math.pow(",1,",",3,")"])],["- e",code(["-",2]),{prec:"UMINUS"}],["e and e",code(["Number(",1,"&&",3,")"])],["e or e",code(["Number(",1,"||",3,")"])],["not e",code(["Number(!",2,")"])],["e == e",code(["Number(",1,"==",3,")"])],["e != e",code(["Number(",1,"!=",3,")"])],["e ~= e",code(["RegExp(",3,").test(",1,")"])],["e < e",code(["Number(",1,"<",3,")"])],["e <= e",code(["Number(",1,"<=",3,")"])],["e > e",code(["Number(",1,"> ",3,")"])],["e >= e",code(["Number(",1,">=",3,")"])],["e ? e : e",code([1,"?",3,":",5])],["( e )",code([2])],["NUMBER",code([1])],["STRING",code(["\"",1,"\""])],["SYMBOL",code(["data[\"",1,"\"]"])],["SYMBOL ( )",code(["(functions.hasOwnProperty(\"",1,"\") ? functions.",1,"() : unknown(\"",1,"\"))"])],["SYMBOL ( argsList )",code(["(functions.hasOwnProperty(\"",1,"\") ? functions.",1,"(",3,") : unknown(\"",1,"\"))"])],["e in ( inSet )",code([1," in (function(o) { ",4,"return o; })({})"])],["e not in ( inSet )",code(["!(",1," in (function(o) { ",5,"return o; })({}))"])]],argsList:[["e",code([1],!0)],["argsList , e",code([1,",",3],!0)]],inSet:[["e",code(["o[",1,"] = true; "],!0)],["inSet , e",code([1,"o[",3,"] = true; "],!0)]]}};return new Jison.Parser(grammar)}var require=function(){var require=function(){var modules={},factories={},r=function(id){if(!modules[id]){modules[id]={};factories[id](r,modules[id],{id:id})}return modules[id]};r.def=function(id,params){factories[id]=params.factory};return r}();require.def("jison",{factory:function factory(require,exports){var typal=require("jison/util/typal").typal,Set=require("jison/util/set").Set,RegExpLexer=require("jison/lexer").RegExpLexer,Jison=exports.Jison=exports;Jison.print=function(){};Jison.Parser=function(){function each(obj,func){if(obj.forEach){obj.forEach(func)}else{for(var p in obj){if(obj.hasOwnProperty(p)){func.call(obj,obj[p],p,obj)}}}}var Nonterminal=typal.construct({constructor:function(symbol){this.symbol=symbol;this.productions=new Set;this.first=[];this.follows=[];this.nullable=!1},toString:function(){var str=this.symbol+"\n";str+=this.nullable?"nullable":"not nullable";str+="\nFirsts: "+this.first.join(", ");str+="\nFollows: "+this.first.join(", ");str+="\nProductions:\n  "+this.productions.join("\n  ");return str}}),Production=typal.construct({constructor:function(symbol,handle,id){this.symbol=symbol;this.handle=handle;this.nullable=!1;this.id=id;this.first=[];this.precedence=0},toString:function(){return this.symbol+" -> "+this.handle.join(" ")}}),generator=typal.beget();generator.constructor=function(grammar,opt){if("string"===typeof grammar){grammar=require("jison/bnf").parse(grammar)}var options=typal.mix.call({},grammar.options,opt);this.terms={};this.operators={};this.productions=[];this.conflicts=0;this.resolutions=[];this.options=options;this.yy={};if(grammar.actionInclude){if("function"===typeof grammar.actionInclude){grammar.actionInclude=(grammar.actionInclude+"").replace(/^\s*function \(\) \{/,"").replace(/\}\s*$/,"")}this.actionInclude=grammar.actionInclude}this.moduleInclude=grammar.moduleInclude||"";this.DEBUG=options.debug||!1;if(this.DEBUG)this.mix(generatorDebug);this.processGrammar(grammar);if(grammar.lex){this.lexer=new RegExpLexer(grammar.lex,null,this.terminals_)}};generator.processGrammar=function(grammar){var bnf=grammar.bnf,tokens=grammar.tokens,nonterminals=this.nonterminals={},productions=this.productions,self=this;if(!grammar.bnf&&grammar.ebnf){bnf=grammar.bnf=require("jison/ebnf").transform(grammar.ebnf)}if(tokens){if("string"===typeof tokens){tokens=tokens.trim().split(" ")}else{tokens=tokens.slice(0)}}var symbols=this.symbols=[],operators=this.operators=processOperators(grammar.operators);this.buildProductions(grammar.bnf,productions,nonterminals,symbols,operators);if(tokens&&this.terminals.length!==tokens.length){self.trace("Warning: declared tokens differ from tokens found in rules.");self.trace(this.terminals);self.trace(tokens)}this.augmentGrammar(grammar)};generator.augmentGrammar=function(grammar){this.startSymbol=grammar.start||grammar.startSymbol||this.productions[0].symbol;if(!this.nonterminals[this.startSymbol]){throw new Error("Grammar error: startSymbol must be a non-terminal found in your grammar.")}this.EOF="$end";var acceptProduction=new Production("$accept",[this.startSymbol,"$end"],0);this.productions.unshift(acceptProduction);this.symbols.unshift("$accept",this.EOF);this.symbols_.$accept=0;this.symbols_[this.EOF]=1;this.terminals.unshift(this.EOF);this.nonterminals.$accept=new Nonterminal("$accept");this.nonterminals.$accept.productions.push(acceptProduction);this.nonterminals[this.startSymbol].follows.push(this.EOF)};function processOperators(ops){if(!ops)return{};for(var operators={},i=0,k,prec;prec=ops[i];i++){for(k=1;k<prec.length;k++){operators[prec[k]]={precedence:i+1,assoc:prec[0]}}}return operators}generator.buildProductions=function(bnf,productions,nonterminals,symbols,operators){var actions=[this.actionInclude||"","var $0 = $$.length - 1;","switch (yystate) {"],prods,symbol,productions_=[0],symbolId=1,symbols_={},her=!1;function addSymbol(s){if(s&&!symbols_[s]){symbols_[s]=++symbolId;symbols.push(s)}}addSymbol("error");for(symbol in bnf){if(!bnf.hasOwnProperty(symbol))continue;addSymbol(symbol);nonterminals[symbol]=new Nonterminal(symbol);if("string"===typeof bnf[symbol]){prods=bnf[symbol].split(/\s*\|\s*/g)}else{prods=bnf[symbol].slice(0)}prods.forEach(buildProduction)}var terms=[],terms_={};each(symbols_,function(id,sym){if(!nonterminals[sym]){terms.push(sym);terms_[id]=sym}});this.hasErrorRecovery=her;this.terminals=terms;this.terminals_=terms_;this.symbols_=symbols_;this.productions_=productions_;actions.push("}");this.performAction=Function("yytext,yyleng,yylineno,yy,yystate,$$,_$",actions.join("\n"));function buildProduction(handle){var r,rhs,i;if(handle.constructor===Array){rhs="string"===typeof handle[0]?handle[0].trim().split(" "):handle[0].slice(0);for(i=0;i<rhs.length;i++){if("error"===rhs[i])her=!0;if(!symbols_[rhs[i]]){addSymbol(rhs[i])}}if("string"===typeof handle[1]||3==handle.length){var action="case "+(productions.length+1)+":"+handle[1]+"\nbreak;";if(action.match(/[$@][a-zA-Z][a-zA-Z0-9_]*/)){var count={},names={};for(i=0;i<rhs.length;i++){if(names[rhs[i]]){names[rhs[i]+ ++count[rhs[i]]]=i+1}else{names[rhs[i]]=i+1;names[rhs[i]+"1"]=i+1;count[rhs[i]]=1}}action=action.replace(/\$([a-zA-Z][a-zA-Z0-9_]*)/g,function(str,pl){return names[pl]?"$"+names[pl]:pl}).replace(/@([a-zA-Z][a-zA-Z0-9_]*)/g,function(str,pl){return names[pl]?"@"+names[pl]:pl})}action=action.replace(/([^'"])\$\$|^\$\$/g,"$1this.$").replace(/@[0$]/g,"this._$").replace(/\$(\d+)/g,function(_,n){return"$$[$0"+(n-rhs.length||"")+"]"}).replace(/@(\d+)/g,function(_,n){return"_$[$0"+(n-rhs.length||"")+"]"});actions.push(action);r=new Production(symbol,rhs,productions.length+1);if(handle[2]&&operators[handle[2].prec]){r.precedence=operators[handle[2].prec].precedence}}else{r=new Production(symbol,rhs,productions.length+1);if(operators[handle[1].prec]){r.precedence=operators[handle[1].prec].precedence}}}else{rhs=handle.trim().split(" ");for(i=0;i<rhs.length;i++){if("error"===rhs[i])her=!0;if(!symbols_[rhs[i]]){addSymbol(rhs[i])}}r=new Production(symbol,rhs,productions.length+1)}if(0===r.precedence){for(i=r.handle.length-1;0<=i;i--){if(!(r.handle[i]in nonterminals)&&r.handle[i]in operators){r.precedence=operators[r.handle[i]].precedence}}}productions.push(r);productions_.push([symbols_[r.symbol],""===r.handle[0]?0:r.handle.length]);nonterminals[symbol].productions.push(r)}};generator.createParser=function(){throw new Error("Calling abstract method.")};generator.trace=function(){};generator.warn=function(){var args=Array.prototype.slice.call(arguments,0);console.warn("Jison Warning",args)};generator.error=function(msg){throw new Error(msg)};var generatorDebug={trace:function(){Jison.print.apply(null,arguments)},beforeprocessGrammar:function beforeprocessGrammar(){this.trace("Processing grammar.")},afteraugmentGrammar:function afteraugmentGrammar(){var trace=this.trace;each(this.symbols,function(sym,i){trace(sym+"("+i+")")})}},lookaheadMixin={};lookaheadMixin.computeLookaheads=function(){if(this.DEBUG)this.mix(lookaheadDebug);this.computeLookaheads=function(){};this.nullableSets();this.firstSets();this.followSets()};lookaheadMixin.followSets=function(){var productions=this.productions,nonterminals=this.nonterminals,self=this,cont=!0;while(cont){cont=!1;productions.forEach(function(production){for(var q,ctx=!!self.go_,set=[],oldcount,i=0,t;t=production.handle[i];++i){if(!nonterminals[t])continue;if(ctx)q=self.go_(production.symbol,production.handle.slice(0,i));var bool=!ctx||q===parseInt(self.nterms_[t],10);if(i===production.handle.length+1&&bool){set=nonterminals[production.symbol].follows}else{var part=production.handle.slice(i+1);set=self.first(part);if(self.nullable(part)&&bool){set.push.apply(set,nonterminals[production.symbol].follows)}}oldcount=nonterminals[t].follows.length;Set.union(nonterminals[t].follows,set);if(oldcount!==nonterminals[t].follows.length){cont=!0}}})}};lookaheadMixin.first=function(symbol){if(""===symbol){return[]}else if(babelHelpers.instanceof(symbol,Array)){for(var firsts=[],i=0,t;t=symbol[i];++i){if(!this.nonterminals[t]){if(-1===firsts.indexOf(t))firsts.push(t)}else{Set.union(firsts,this.nonterminals[t].first)}if(!this.nullable(t))break}return firsts}else if(!this.nonterminals[symbol]){return[symbol]}else{return this.nonterminals[symbol].first}};lookaheadMixin.firstSets=function(){var productions=this.productions,nonterminals=this.nonterminals,self=this,cont=!0,symbol,firsts;while(cont){cont=!1;productions.forEach(function(production){var firsts=self.first(production.handle);if(firsts.length!==production.first.length){production.first=firsts;cont=!0}});for(symbol in nonterminals){firsts=[];nonterminals[symbol].productions.forEach(function(production){Set.union(firsts,production.first)});if(firsts.length!==nonterminals[symbol].first.length){nonterminals[symbol].first=firsts;cont=!0}}}};lookaheadMixin.nullableSets=function(){var firsts=this.firsts={},nonterminals=this.nonterminals,self=this,cont=!0;while(cont){cont=!1;this.productions.forEach(function(production){if(!production.nullable){for(var i=0,n=0,t;t=production.handle[i];++i){if(self.nullable(t))n++}if(n===i){production.nullable=cont=!0}}});for(var symbol in nonterminals){if(!this.nullable(symbol)){for(var i=0,production;production=nonterminals[symbol].productions.item(i);i++){if(production.nullable)nonterminals[symbol].nullable=cont=!0}}}}};lookaheadMixin.nullable=function(symbol){if(""===symbol){return!0}else if(babelHelpers.instanceof(symbol,Array)){for(var i=0,t;t=symbol[i];++i){if(!this.nullable(t))return!1}return!0}else if(!this.nonterminals[symbol]){return!1}else{return this.nonterminals[symbol].nullable}};var lookaheadDebug={beforenullableSets:function beforenullableSets(){this.trace("Computing Nullable sets.")},beforefirstSets:function beforefirstSets(){this.trace("Computing First sets.")},beforefollowSets:function beforefollowSets(){this.trace("Computing Follow sets.")},afterfollowSets:function afterfollowSets(){var trace=this.trace;each(this.nonterminals,function(nt){trace(nt,"\n")})}},lrGeneratorMixin={};lrGeneratorMixin.buildTable=function(){if(this.DEBUG)this.mix(lrGeneratorDebug);this.states=this.canonicalCollection();this.table=this.parseTable(this.states);this.defaultActions=findDefaults(this.table)};lrGeneratorMixin.Item=typal.construct({constructor:function(production,dot,f,predecessor){this.production=production;this.dotPosition=dot||0;this.follows=f||[];this.predecessor=predecessor;this.id=parseInt(production.id+"a"+this.dotPosition,36);this.markedSymbol=this.production.handle[this.dotPosition]},remainingHandle:function remainingHandle(){return this.production.handle.slice(this.dotPosition+1)},eq:function eq(e){return e.id===this.id},handleToString:function handleToString(){var handle=this.production.handle.slice(0);handle[this.dotPosition]="."+(handle[this.dotPosition]||"");return handle.join(" ")},toString:function toString(){var temp=this.production.handle.slice(0);temp[this.dotPosition]="."+(temp[this.dotPosition]||"");return this.production.symbol+" -> "+temp.join(" ")+(0===this.follows.length?"":" #lookaheads= "+this.follows.join(" "))}});lrGeneratorMixin.ItemSet=Set.prototype.construct({afterconstructor:function afterconstructor(){this.reductions=[];this.goes={};this.edges={};this.shifts=!1;this.inadequate=!1;this.hash_={};for(var i=this._items.length-1;0<=i;i--){this.hash_[this._items[i].id]=!0}},concat:function(set){for(var a=set._items||set,i=a.length-1;0<=i;i--){this.hash_[a[i].id]=!0}this._items.push.apply(this._items,a);return this},push:function push(item){this.hash_[item.id]=!0;return this._items.push(item)},contains:function contains(item){return this.hash_[item.id]},valueOf:function(){var v=this._items.map(function(a){return a.id}).sort().join("|");this.valueOf=function(){return v};return v}});lrGeneratorMixin.closureOperation=function(itemSet){var closureSet=new this.ItemSet,self=this,set=itemSet,itemQueue,syms={};do{itemQueue=new Set;closureSet.concat(set);set.forEach(function(item){var symbol=item.markedSymbol;if(symbol&&self.nonterminals[symbol]){if(!syms[symbol]){self.nonterminals[symbol].productions.forEach(function(production){var newItem=new self.Item(production,0);if(!closureSet.contains(newItem))itemQueue.push(newItem)});syms[symbol]=!0}}else if(!symbol){closureSet.reductions.push(item);closureSet.inadequate=1<closureSet.reductions.length||closureSet.shifts}else{closureSet.shifts=!0;closureSet.inadequate=0<closureSet.reductions.length}});set=itemQueue}while(!itemQueue.isEmpty());return closureSet};lrGeneratorMixin.gotoOperation=function(itemSet,symbol){var gotoSet=new this.ItemSet,self=this;itemSet.forEach(function(item,n){if(item.markedSymbol===symbol){gotoSet.push(new self.Item(item.production,item.dotPosition+1,item.follows,n))}});return gotoSet.isEmpty()?gotoSet:this.closureOperation(gotoSet)};lrGeneratorMixin.canonicalCollection=function(){var item1=new this.Item(this.productions[0],0,[this.EOF]),firstState=this.closureOperation(new this.ItemSet(item1)),states=new Set(firstState),marked=0,self=this,itemSet;states.has={};states.has[firstState]=0;while(marked!==states.size()){itemSet=states.item(marked);marked++;itemSet.forEach(function(item){if(item.markedSymbol&&item.markedSymbol!==self.EOF)self.canonicalCollectionInsert(item.markedSymbol,itemSet,states,marked-1)})}return states};lrGeneratorMixin.canonicalCollectionInsert=function(symbol,itemSet,states,stateNum){var g=this.gotoOperation(itemSet,symbol);if(!g.predecessors)g.predecessors={};if(!g.isEmpty()){var gv=g.valueOf(),i=states.has[gv];if(-1===i||"undefined"===typeof i){states.has[gv]=states.size();itemSet.edges[symbol]=states.size();states.push(g);g.predecessors[symbol]=[stateNum]}else{itemSet.edges[symbol]=i;states.item(i).predecessors[symbol].push(stateNum)}}};lrGeneratorMixin.parseTable=function(itemSets){var states=[],nonterminals=this.nonterminals,operators=this.operators,conflictedStates={},self=this,r=2;itemSets.forEach(function(itemSet,k){var state=states[k]={},action,stackSymbol;for(stackSymbol in itemSet.edges){itemSet.forEach(function(item){if(item.markedSymbol==stackSymbol){var gotoState=itemSet.edges[stackSymbol];if(nonterminals[stackSymbol]){state[self.symbols_[stackSymbol]]=gotoState}else{state[self.symbols_[stackSymbol]]=[1,gotoState]}}})}itemSet.forEach(function(item){if(item.markedSymbol==self.EOF){state[self.symbols_[self.EOF]]=[3]}});var allterms=self.lookAheads?!1:self.terminals;itemSet.reductions.forEach(function(item){var terminals=allterms||self.lookAheads(itemSet,item);terminals.forEach(function(stackSymbol){action=state[self.symbols_[stackSymbol]];var op=operators[stackSymbol];if(action||action&&action.length){var sol=resolveConflict(item.production,op,[r,item.production.id],babelHelpers.instanceof(action[0],Array)?action[0]:action);self.resolutions.push([k,stackSymbol,sol]);if(sol.bydefault){self.conflicts++;if(!self.DEBUG){self.warn("Conflict in grammar: multiple actions possible when lookahead token is ",stackSymbol," in state ",k,"\n- ",printAction(sol.r,self),"\n- ",printAction(sol.s,self));conflictedStates[k]=!0}if(self.options.noDefaultResolve){if(!babelHelpers.instanceof(action[0],Array))action=[action];action.push(sol.r)}}else{action=sol.action}}else{action=[r,item.production.id]}if(action&&action.length){state[self.symbols_[stackSymbol]]=action}else if(action===0){state[self.symbols_[stackSymbol]]=void 0}})})});if(!self.DEBUG&&0<self.conflicts){self.warn("\nStates with conflicts:");each(conflictedStates,function(val,state){self.warn("State "+state);self.warn("  ",itemSets.item(state).join("\n  "))})}return states};function findDefaults(states){var defaults={};states.forEach(function(state,k){var i=0;for(var act in state){if({}.hasOwnProperty.call(state,act))i++}if(1===i&&2===state[act][0]){defaults[k]=state[act]}});return defaults}function resolveConflict(production,op,reduce,shift){var sln={production:production,operator:op,r:reduce,s:shift};if(shift[0]===2){sln.msg="Resolve R/R conflict (use first production declared in grammar.)";sln.action=shift[1]<reduce[1]?shift:reduce;if(shift[1]!==reduce[1])sln.bydefault=!0;return sln}if(0===production.precedence||!op){sln.msg="Resolve S/R conflict (shift by default.)";sln.bydefault=!0;sln.action=shift}else if(production.precedence<op.precedence){sln.msg="Resolve S/R conflict (shift for higher precedent operator.)";sln.action=shift}else if(production.precedence===op.precedence){if("right"===op.assoc){sln.msg="Resolve S/R conflict (shift for right associative operator.)";sln.action=shift}else if("left"===op.assoc){sln.msg="Resolve S/R conflict (reduce for left associative operator.)";sln.action=reduce}else if("nonassoc"===op.assoc){sln.msg="Resolve S/R conflict (no action for non-associative operator.)";sln.action=0}}else{sln.msg="Resolve conflict (reduce for higher precedent production.)";sln.action=reduce}return sln}lrGeneratorMixin.generate=function(opt){opt=typal.mix.call({},this.options,opt);var code="";if(!opt.moduleName||!opt.moduleName.match(/^[A-Za-z_$][A-Za-z0-9_$]*$/)){opt.moduleName="parser"}switch(opt.moduleType){case"js":code=this.generateModule(opt);break;case"amd":code=this.generateAMDModule(opt);break;default:code=this.generateCommonJSModule(opt);}return code};lrGeneratorMixin.generateAMDModule=function(opt){opt=typal.mix.call({},this.options,opt);var out="define([], function(){"+"\nvar parser = "+this.generateModule_(opt)+(this.lexer&&this.lexer.generateModule?"\n"+this.lexer.generateModule()+"\nparser.lexer = lexer;":"")+"\nreturn parser;"+"\n});";return out};lrGeneratorMixin.generateCommonJSModule=function(opt){opt=typal.mix.call({},this.options,opt);var moduleName=opt.moduleName||"parser",out=this.generateModule(opt)+"\nif (typeof require !== 'undefined' && typeof exports !== 'undefined') {"+"\nexports.parser = "+moduleName+";"+"\nexports.Parser = "+moduleName+".Parser;"+"\nexports.parse = function () { return "+moduleName+".parse.apply("+moduleName+", arguments); }"+"\nexports.main = "+((opt.moduleMain||commonjsMain)+"")+"\nif (typeof module !== 'undefined' && require.main === module) {\n"+"  exports.main(typeof process !== 'undefined' ? process.argv.slice(1) : require(\"system\").args);\n}"+"\n}";return out};lrGeneratorMixin.generateModule=function(opt){opt=typal.mix.call({},this.options,opt);var moduleName=opt.moduleName||"parser",out="/* Jison generated parser */\n";out+=(moduleName.match(/\./)?moduleName:"var "+moduleName)+" = (function(){";out+="\nvar parser = "+this.generateModule_();out+="\n"+this.moduleInclude;if(this.lexer&&this.lexer.generateModule){out+=this.lexer.generateModule();out+="\nparser.lexer = lexer;"}out+="\nfunction Parser () { this.yy = {}; }"+"Parser.prototype = parser;"+"parser.Parser = Parser;"+"\nreturn new Parser;\n})();";return out};function removeErrorRecovery(fn){var parseFn=fn+"";try{var JSONSelect=require("JSONSelect"),Reflect=require("reflect"),ast=Reflect.parse(parseFn),labeled=JSONSelect.match(":has(:root > .label > .name:val(\"_handle_error\"))",ast);labeled[0].body.consequent.body=[labeled[0].body.consequent.body[0],labeled[0].body.consequent.body[1]];return Reflect.stringify(ast).replace(/_handle_error:\s?/,"").replace(/\\\\n/g,"\\n")}catch(e){return parseFn}}lrGeneratorMixin.generateModule_=function(){var parseFn=(this.hasErrorRecovery?String:removeErrorRecovery)(parser.parse),out="{";out+=["trace: "+((this.trace||parser.trace)+""),"yy: {}","symbols_: "+JSON.stringify(this.symbols_),"terminals_: "+JSON.stringify(this.terminals_).replace(/"([0-9]+)":/g,"$1:"),"productions_: "+JSON.stringify(this.productions_),"performAction: "+(this.performAction+""),"table: "+JSON.stringify(this.table).replace(/"([0-9]+)":/g,"$1:"),"defaultActions: "+JSON.stringify(this.defaultActions).replace(/"([0-9]+)":/g,"$1:"),"parseError: "+((this.parseError||(this.hasErrorRecovery?traceParseError:parser.parseError))+""),"parse: "+parseFn].join(",\n");out+="};";return out};function commonjsMain(args){if(!args[1])throw new Error("Usage: "+args[0]+" FILE");var source;if("undefined"!==typeof process){source=require("fs").readFileSync(require("path").resolve(args[1]),"utf8")}else{source=require("file").path(require("file").cwd()).join(args[1]).read({charset:"utf-8"})}return exports.parser.parse(source)}function printAction(a,gen){var s=1==a[0]?"shift token (then go to state "+a[1]+")":2==a[0]?"reduce by rule: "+gen.productions[a[1]]:"accept";return s}var lrGeneratorDebug={beforeparseTable:function beforeparseTable(){this.trace("Building parse table.")},afterparseTable:function afterparseTable(){var self=this;if(0<this.conflicts){this.resolutions.forEach(function(r){if(r[2].bydefault){self.warn("Conflict at state: ",r[0],", token: ",r[1],"\n  ",printAction(r[2].r,self),"\n  ",printAction(r[2].s,self))}});this.trace("\n"+this.conflicts+" Conflict(s) found in grammar.")}this.trace("Done.")},aftercanonicalCollection:function aftercanonicalCollection(states){var trace=this.trace;trace("\nItem sets\n------");states.forEach(function(state,i){trace("\nitem set",i,"\n"+state.join("\n"),"\ntransitions -> ",JSON.stringify(state.edges))})}},parser=typal.beget();lrGeneratorMixin.createParser=function(){var p=parser.beget();p.yy={};p.init({table:this.table,defaultActions:this.defaultActions,productions_:this.productions_,symbols_:this.symbols_,terminals_:this.terminals_,performAction:this.performAction});if(this.hasErrorRecovery){p.parseError=traceParseError;p.recover=!0}p.productions=this.productions;p.generate=this.generate;p.lexer=this.lexer;p.generateModule=this.generateModule;p.generateCommonJSModule=this.generateCommonJSModule;p.generateModule_=this.generateModule_;var gen=this;p.Parser=function(){return gen.createParser()};return p};parser.trace=generator.trace;parser.warn=generator.warn;parser.error=generator.error;function traceParseError(err){this.trace(err)}parser.parseError=lrGeneratorMixin.parseError=function(str){throw new Error(str)};parser.parse=function(input){var self=this,stack=[0],vstack=[null],lstack=[],table=this.table,yytext="",yylineno=0,yyleng=0,recovering=0,TERROR=2;this.lexer.setInput(input);this.lexer.yy=this.yy;this.yy.lexer=this.lexer;this.yy.parser=this;if("undefined"==typeof this.lexer.yylloc)this.lexer.yylloc={};var yyloc=this.lexer.yylloc;lstack.push(yyloc);var ranges=this.lexer.options&&this.lexer.options.ranges;if("function"===typeof this.yy.parseError)this.parseError=this.yy.parseError;function popStack(n){stack.length=stack.length-2*n;vstack.length=vstack.length-n;lstack.length=lstack.length-n}function lex(){var token=self.lexer.lex()||1;if("number"!==typeof token){token=self.symbols_[token]||token}return token}var symbol,preErrorSymbol,state,action,r,yyval={},p,len,newState,expected;while(!0){state=stack[stack.length-1];if(this.defaultActions[state]){action=this.defaultActions[state]}else{if(null===symbol||"undefined"==typeof symbol){symbol=lex()}action=table[state]&&table[state][symbol]}_handle_error:if("undefined"===typeof action||!action.length||!action[0]){var errStr="";if(!recovering){expected=[];for(p in table[state]){if(this.terminals_[p]&&2<p){expected.push("'"+this.terminals_[p]+"'")}}if(this.lexer.showPosition){errStr="Parse error on line "+(yylineno+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+expected.join(", ")+", got '"+(this.terminals_[symbol]||symbol)+"'"}else{errStr="Parse error on line "+(yylineno+1)+": Unexpected "+(1==symbol?"end of input":"'"+(this.terminals_[symbol]||symbol)+"'")}this.parseError(errStr,{text:this.lexer.match,token:this.terminals_[symbol]||symbol,line:this.lexer.yylineno,loc:yyloc,expected:expected})}if(3==recovering){if(symbol==1){throw new Error(errStr||"Parsing halted.")}yyleng=this.lexer.yyleng;yytext=this.lexer.yytext;yylineno=this.lexer.yylineno;yyloc=this.lexer.yylloc;symbol=lex()}while(1){if(TERROR.toString()in table[state]){break}if(0===state){throw new Error(errStr||"Parsing halted.")}popStack(1);state=stack[stack.length-1]}preErrorSymbol=2==symbol?null:symbol;symbol=TERROR;state=stack[stack.length-1];action=table[state]&&table[state][TERROR];recovering=3}if(babelHelpers.instanceof(action[0],Array)&&1<action.length){throw new Error("Parse Error: multiple actions possible at state: "+state+", token: "+symbol)}switch(action[0]){case 1:stack.push(symbol);vstack.push(this.lexer.yytext);lstack.push(this.lexer.yylloc);stack.push(action[1]);symbol=null;if(!preErrorSymbol){yyleng=this.lexer.yyleng;yytext=this.lexer.yytext;yylineno=this.lexer.yylineno;yyloc=this.lexer.yylloc;if(0<recovering)recovering--}else{symbol=preErrorSymbol;preErrorSymbol=null}break;case 2:len=this.productions_[action[1]][1];yyval.$=vstack[vstack.length-len];yyval._$={first_line:lstack[lstack.length-(len||1)].first_line,last_line:lstack[lstack.length-1].last_line,first_column:lstack[lstack.length-(len||1)].first_column,last_column:lstack[lstack.length-1].last_column};if(ranges){yyval._$.range=[lstack[lstack.length-(len||1)].range[0],lstack[lstack.length-1].range[1]]}r=this.performAction.call(yyval,yytext,yyleng,yylineno,this.yy,action[1],vstack,lstack);if("undefined"!==typeof r){return r}if(len){stack=stack.slice(0,2*(-1*len));vstack=vstack.slice(0,-1*len);lstack=lstack.slice(0,-1*len)}stack.push(this.productions_[action[1]][0]);vstack.push(yyval.$);lstack.push(yyval._$);newState=table[stack[stack.length-2]][stack[stack.length-1]];stack.push(newState);break;case 3:return!0;}}return!0};parser.init=function(dict){this.table=dict.table;this.defaultActions=dict.defaultActions;this.performAction=dict.performAction;this.productions_=dict.productions_;this.symbols_=dict.symbols_;this.terminals_=dict.terminals_};var lr0=generator.beget(lookaheadMixin,lrGeneratorMixin,{type:"LR(0)",afterconstructor:function(){this.buildTable()}}),LR0Generator=exports.LR0Generator=lr0.construct(),lalr=generator.beget(lookaheadMixin,lrGeneratorMixin,{type:"LALR(1)",afterconstructor:function afterconstructor(grammar,options){if(this.DEBUG)this.mix(lrGeneratorDebug,lalrGeneratorDebug);options=options||{};this.states=this.canonicalCollection();this.terms_={};var newg=this.newg=typal.beget(lookaheadMixin,{oldg:this,trace:this.trace,nterms_:{},DEBUG:!1,go_:function go_(r,B){r=r.split(":")[0];B=B.map(function(b){return b.slice(b.indexOf(":")+1)});return this.oldg.go(r,B)}});newg.nonterminals={};newg.productions=[];this.inadequateStates=[];this.onDemandLookahead=options.onDemandLookahead||!1;this.buildNewGrammar();newg.computeLookaheads();this.unionLookaheads();this.table=this.parseTable(this.states);this.defaultActions=findDefaults(this.table)},lookAheads:function(state,item){return!!this.onDemandLookahead&&!state.inadequate?this.terminals:item.follows},go:function(p,w){for(var q=parseInt(p,10),i=0;i<w.length;i++){q=this.states.item(q).edges[w[i]]||q}return q},goPath:function(p,w){for(var q=parseInt(p,10),t,path=[],i=0;i<w.length;i++){t=w[i]?q+":"+w[i]:"";if(t)this.newg.nterms_[t]=q;path.push(t);q=this.states.item(q).edges[w[i]]||q;this.terms_[t]=w[i]}return{path:path,endState:q}},buildNewGrammar:function(){var self=this,newg=this.newg;this.states.forEach(function(state,i){state.forEach(function(item){if(0===item.dotPosition){var symbol=i+":"+item.production.symbol;self.terms_[symbol]=item.production.symbol;newg.nterms_[symbol]=i;if(!newg.nonterminals[symbol])newg.nonterminals[symbol]=new Nonterminal(symbol);var pathInfo=self.goPath(i,item.production.handle),p=new Production(symbol,pathInfo.path,newg.productions.length);newg.productions.push(p);newg.nonterminals[symbol].productions.push(p);var handle=item.production.handle.join(" "),goes=self.states.item(pathInfo.endState).goes;if(!goes[handle])goes[handle]=[];goes[handle].push(symbol)}});if(state.inadequate)self.inadequateStates.push(i)})},unionLookaheads:function(){var self=this,newg=this.newg,states=!!this.onDemandLookahead?this.inadequateStates:this.states;states.forEach(function(i){var state="number"===typeof i?self.states.item(i):i;if(state.reductions.length)state.reductions.forEach(function(item){for(var follows={},k=0;k<item.follows.length;k++){follows[item.follows[k]]=!0}state.goes[item.production.handle.join(" ")].forEach(function(symbol){newg.nonterminals[symbol].follows.forEach(function(symbol){var terminal=self.terms_[symbol];if(!follows[terminal]){follows[terminal]=!0;item.follows.push(terminal)}})})})})}}),LALRGenerator=exports.LALRGenerator=lalr.construct(),lalrGeneratorDebug={trace:function(){Jison.print.apply(null,arguments)},beforebuildNewGrammar:function beforebuildNewGrammar(){this.trace(this.states.size()+" states.");this.trace("Building lookahead grammar.")},beforeunionLookaheads:function beforeunionLookaheads(){this.trace("Computing lookaheads.")}},lrLookaheadGenerator=generator.beget(lookaheadMixin,lrGeneratorMixin,{afterconstructor:function(){this.computeLookaheads();this.buildTable()}}),SLRGenerator=exports.SLRGenerator=lrLookaheadGenerator.construct({type:"SLR(1)",lookAheads:function(state,item){return this.nonterminals[item.production.symbol].follows}}),lr1=lrLookaheadGenerator.beget({type:"Canonical LR(1)",lookAheads:function(state,item){return item.follows},Item:lrGeneratorMixin.Item.prototype.construct({afterconstructor:function afterconstructor(){this.id=this.production.id+"a"+this.dotPosition+"a"+this.follows.sort().join(",")},eq:function eq(e){return e.id===this.id}}),closureOperation:function(itemSet){var closureSet=new this.ItemSet,self=this,set=itemSet,itemQueue;do{itemQueue=new Set;closureSet.concat(set);set.forEach(function(item){var symbol=item.markedSymbol,b;if(symbol&&self.nonterminals[symbol]){b=self.first(item.remainingHandle());if(0===b.length||item.production.nullable)b=b.concat(item.follows);self.nonterminals[symbol].productions.forEach(function(production){var newItem=new self.Item(production,0,b);if(!closureSet.contains(newItem)&&!itemQueue.contains(newItem)){itemQueue.push(newItem)}})}else if(!symbol){closureSet.reductions.push(item)}});set=itemQueue}while(!itemQueue.isEmpty());return closureSet}}),LR1Generator=exports.LR1Generator=lr1.construct(),ll=generator.beget(lookaheadMixin,{type:"LL(1)",afterconstructor:function(){this.computeLookaheads();this.table=this.parseTable(this.productions)},parseTable:function(productions){var table={},self=this;productions.forEach(function(production,i){var row=table[production.symbol]||{},tokens=production.first;if(self.nullable(production.handle)){Set.union(tokens,self.nonterminals[production.symbol].follows)}tokens.forEach(function(token){if(row[token]){row[token].push(i);self.conflicts++}else{row[token]=[i]}});table[production.symbol]=row});return table}}),LLGenerator=exports.LLGenerator=ll.construct();Jison.Generator=function(g,options){var opt=typal.mix.call({},g.options,options);switch(opt.type){case"lr0":return new LR0Generator(g,opt);case"slr":return new SLRGenerator(g,opt);case"lr":return new LR1Generator(g,opt);case"ll":return new LLGenerator(g,opt);default:return new LALRGenerator(g,opt);}};return function(g,options){var opt=typal.mix.call({},g.options,options),gen;switch(opt.type){case"lr0":gen=new LR0Generator(g,opt);break;case"slr":gen=new SLRGenerator(g,opt);break;case"lr":gen=new LR1Generator(g,opt);break;case"ll":gen=new LLGenerator(g,opt);break;default:gen=new LALRGenerator(g,opt);}return gen.createParser()}}()},requires:["jison/util/typal","jison/util/set","jison/lexer","jison/bnf","jison/ebnf","JSONSelect","reflect","fs","path","file","file"]});require.def("jison/lexer",{factory:function factory(require,exports){var RegExpLexer=function(){function prepareRules(rules,macros,actions,tokens,startConditions,caseless){var m,i,k,action,conditions,newRules=[];if(macros){macros=prepareMacros(macros)}function tokenNumberReplacement(str,token){return"return "+(tokens[token]||"'"+token+"'")}actions.push("switch($avoiding_name_collisions) {");for(i=0;i<rules.length;i++){if("[object Array]"!==Object.prototype.toString.apply(rules[i][0])){for(k in startConditions){if(startConditions[k].inclusive){startConditions[k].rules.push(i)}}}else if("*"===rules[i][0][0]){for(k in startConditions){startConditions[k].rules.push(i)}rules[i].shift()}else{conditions=rules[i].shift();for(k=0;k<conditions.length;k++){startConditions[conditions[k]].rules.push(i)}}m=rules[i][0];if("string"===typeof m){for(k in macros){if(macros.hasOwnProperty(k)){m=m.split("{"+k+"}").join("("+macros[k]+")")}}m=new RegExp("^(?:"+m+")",caseless?"i":"")}newRules.push(m);if("function"===typeof rules[i][1]){rules[i][1]=(rules[i][1]+"").replace(/^\s*function \(\)\s?\{/,"").replace(/\}\s*$/,"")}action=rules[i][1];if(tokens&&action.match(/return '[^']+'/)){action=action.replace(/return '([^']+)'/,tokenNumberReplacement)}actions.push("case "+i+":"+action+"\nbreak;")}actions.push("}");return newRules}function prepareMacros(macros){var cont=!0,m,i,k,mnew;while(cont){cont=!1;for(i in macros){if(macros.hasOwnProperty(i)){m=macros[i];for(k in macros){if(macros.hasOwnProperty(k)&&i!==k){mnew=m.split("{"+k+"}").join("("+macros[k]+")");if(mnew!==m){cont=!0;macros[i]=mnew}}}}}}return macros}function prepareStartConditions(conditions){var sc,hash={};for(sc in conditions){if(conditions.hasOwnProperty(sc)){hash[sc]={rules:[],inclusive:!!!conditions[sc]}}}return hash}function buildActions(dict,tokens){var actions=[dict.actionInclude||"","var YYSTATE=YY_START"],tok,toks={};for(tok in tokens){toks[tokens[tok]]=tok}if(dict.options&&dict.options.flex){dict.rules.push([".","console.log(yytext);"])}this.rules=prepareRules(dict.rules,dict.macros,actions,tokens&&toks,this.conditions,this.options["case-insensitive"]);var fun=actions.join("\n");"yytext yyleng yylineno".split(" ").forEach(function(yy){fun=fun.replace(new RegExp("("+yy+")","g"),"yy_.$1")});return Function("yy,yy_,$avoiding_name_collisions,YY_START",fun)}function RegExpLexer(dict,input,tokens){if("string"===typeof dict){dict=require("jison/jisonlex").parse(dict)}dict=dict||{};this.options=dict.options||{};this.conditions=prepareStartConditions(dict.startConditions);this.conditions.INITIAL={rules:[],inclusive:!0};this.performAction=buildActions.call(this,dict,tokens);this.conditionStack=["INITIAL"];this.moduleInclude=dict.moduleInclude;this.yy={};if(input){this.setInput(input)}}RegExpLexer.prototype={EOF:1,parseError:function(str,hash){if(this.yy.parser){this.yy.parser.parseError(str,hash)}else{throw new Error(str)}},setInput:function setInput(input){this._input=input;this._more=this._less=this.done=!1;this.yylineno=this.yyleng=0;this.yytext=this.matched=this.match="";this.conditionStack=["INITIAL"];this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0};if(this.options.ranges)this.yylloc.range=[0,0];this.offset=0;return this},input:function input(){var ch=this._input[0];this.yytext+=ch;this.yyleng++;this.offset++;this.match+=ch;this.matched+=ch;var lines=ch.match(/(?:\r\n?|\n).*/g);if(lines){this.yylineno++;this.yylloc.last_line++}else{this.yylloc.last_column++}if(this.options.ranges)this.yylloc.range[1]++;this._input=this._input.slice(1);return ch},unput:function unput(ch){var len=ch.length,lines=ch.split(/(?:\r\n?|\n)/g);this._input=ch+this._input;this.yytext=this.yytext.substr(0,this.yytext.length-len-1);this.offset-=len;var oldLines=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1);this.matched=this.matched.substr(0,this.matched.length-1);if(lines.length-1)this.yylineno-=lines.length-1;var r=this.yylloc.range;this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:lines?(lines.length===oldLines.length?this.yylloc.first_column:0)+oldLines[oldLines.length-lines.length].length-lines[0].length:this.yylloc.first_column-len};if(this.options.ranges){this.yylloc.range=[r[0],r[0]+this.yyleng-len]}return this},more:function more(){this._more=!0;return this},less:function less(n){this.unput(this.match.slice(n))},pastInput:function pastInput(){var past=this.matched.substr(0,this.matched.length-this.match.length);return(20<past.length?"...":"")+past.substr(-20).replace(/\n/g,"")},upcomingInput:function upcomingInput(){var next=this.match;if(20>next.length){next+=this._input.substr(0,20-next.length)}return(next.substr(0,20)+(20<next.length?"...":"")).replace(/\n/g,"")},showPosition:function showPosition(){var pre=this.pastInput(),c=Array(pre.length+1).join("-");return pre+this.upcomingInput()+"\n"+c+"^"},next:function next(){if(this.done){return this.EOF}if(!this._input)this.done=!0;var token,match,tempMatch,index,lines;if(!this._more){this.yytext="";this.match=""}for(var rules=this._currentRules(),i=0;i<rules.length;i++){tempMatch=this._input.match(this.rules[rules[i]]);if(tempMatch&&(!match||tempMatch[0].length>match[0].length)){match=tempMatch;index=i;if(!this.options.flex)break}}if(match){lines=match[0].match(/(?:\r\n?|\n).*/g);if(lines)this.yylineno+=lines.length;this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:lines?lines[lines.length-1].length-lines[lines.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+match[0].length};this.yytext+=match[0];this.match+=match[0];this.matches=match;this.yyleng=this.yytext.length;if(this.options.ranges){this.yylloc.range=[this.offset,this.offset+=this.yyleng]}this._more=!1;this._input=this._input.slice(match[0].length);this.matched+=match[0];token=this.performAction.call(this,this.yy,this,rules[index],this.conditionStack[this.conditionStack.length-1]);if(this.done&&this._input)this.done=!1;if(token)return token;else return}if(""===this._input){return this.EOF}else{return this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})}},lex:function(){var r=this.next();if("undefined"!==typeof r){return r}else{return this.lex()}},begin:function(condition){this.conditionStack.push(condition)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function topState(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(condition){this.begin(condition)},generate:function(opt){var code="";if(opt.commonjs)code=this.generateCommonJSModule(opt);else code=this.generateModule(opt);return code},generateModule:function(opt){opt=opt||{};var out="/* Jison generated lexer */",moduleName=opt.moduleName||"lexer";out+="\nvar "+moduleName+" = (function(){\nvar lexer = ({";var p=[];for(var k in RegExpLexer.prototype){if(RegExpLexer.prototype.hasOwnProperty(k)&&-1===k.indexOf("generate"))p.push(k+":"+(RegExpLexer.prototype[k].toString()||"\"\""))}out+=p.join(",\n");out+="})";if(this.options){out+=";\nlexer.options = "+JSON.stringify(this.options)}out+=";\nlexer.performAction = "+(this.performAction+"");out+=";\nlexer.rules = ["+this.rules+"]";out+=";\nlexer.conditions = "+JSON.stringify(this.conditions);if(this.moduleInclude)out+=";\n"+this.moduleInclude;out+=";\nreturn lexer;})()";return out},generateCommonJSModule:function(opt){opt=opt||{};var out="/* Jison generated lexer as commonjs module */",moduleName=opt.moduleName||"lexer";out+=this.generateModule(opt);out+="\nexports.lexer = "+moduleName;out+=";\nexports.lex = function () { return "+moduleName+".lex.apply(lexer, arguments); };";return out}};return RegExpLexer}();if("undefined"!==typeof exports)exports.RegExpLexer=RegExpLexer},requires:["jison/jisonlex"]});require.def("jison/bnf",{factory:function factory(require,exports){var bnf=require("jison/util/bnf-parser").parser,jisonlex=require("jison/jisonlex");exports.parse=function(){return bnf.parse.apply(bnf,arguments)};bnf.yy.addDeclaration=function(grammar,decl){if(decl.start){grammar.start=decl.start}else if(decl.lex){grammar.lex=parseLex(decl.lex)}else if(decl.operator){if(!grammar.operators){grammar.operators=[]}grammar.operators.push(decl.operator)}else if(decl.include){if(!grammar.moduleInclude)grammar.moduleInclude="";grammar.moduleInclude+=decl.include}};bnf.yy.lexComment=function(lexer){var ch=lexer.input();if("/"===ch){lexer.yytext=lexer.yytext.replace(/\*(.|\s)\/\*/,"*$1")}else{lexer.unput("/*");lexer.more()}};var parseLex=function(text){return jisonlex.parse(text.replace(/(?:^%lex)|(?:\/lex$)/g,""))}},requires:["jison/util/bnf-parser","jison/jisonlex"]});require.def("jison/jisonlex",{factory:function factory(require,exports){var jisonlex=require("jison/util/lex-parser").parser,parse_=jisonlex.parse;jisonlex.parse=exports.parse=function(){jisonlex.yy.ruleSection=!1;return parse_.apply(jisonlex,arguments)};function encodeRE(s){return s.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1").replace(/\\\\u([a-fA-F0-9]{4})/g,"\\u$1")}jisonlex.yy={prepareString:function prepareString(s){s=s.replace(/\\\\/g,"\\");s=encodeRE(s);return s}}},requires:["jison/util/lex-parser"]});require.def("jison/util/set",{factory:function factory(require,exports){var typal=require("jison/util/typal").typal,setMixin={constructor:function(set,raw){this._items=[];if(set&&set.constructor===Array)this._items=raw?set:set.slice(0);else if(arguments.length)this._items=[].slice.call(arguments,0)},concat:function(setB){this._items.push.apply(this._items,setB._items||setB);return this},eq:function(set){return this._items.length===set._items.length&&this.subset(set)},indexOf:function(item){if(item&&item.eq){for(var k=0;k<this._items.length;k++){if(item.eq(this._items[k]))return k}return-1}return this._items.indexOf(item)},union:function(set){return new Set(this._items).concat(this.complement(set))},intersection:function(set){return this.filter(function(elm){return set.contains(elm)})},complement:function(set){var that=this;return set.filter(function(elm){return!that.contains(elm)})},subset:function(set){for(var cont=!0,i=0;i<this._items.length&&cont;i++){cont=cont&&set.contains(this._items[i])}return cont},superset:function(set){return set.subset(this)},joinSet:function(set){return this.concat(this.complement(set))},contains:function(item){return-1!==this.indexOf(item)},item:function(v){return this._items[v]},i:function(v){return this._items[v]},first:function(){return this._items[0]},last:function(){return this._items[this._items.length-1]},size:function(){return this._items.length},isEmpty:function(){return 0===this._items.length},copy:function(){return new Set(this._items)},toString:function(){return this._items.toString()}};"push shift unshift forEach some every join sort".split(" ").forEach(function(e){setMixin[e]=function(){return Array.prototype[e].apply(this._items,arguments)};setMixin[e].name=e});"filter slice map".split(" ").forEach(function(e){setMixin[e]=function(){return new Set(Array.prototype[e].apply(this._items,arguments),!0)};setMixin[e].name=e});var Set=typal.construct(setMixin).mix({union:function union(a,b){for(var ar={},k=a.length-1;0<=k;--k){ar[a[k]]=!0}for(var i=b.length-1;0<=i;--i){if(!ar[b[i]]){a.push(b[i])}}return a}});if("undefined"!==typeof exports)exports.Set=Set},requires:["jison/util/typal"]});require.def("jison/util/typal",{factory:function factory(require,exports){var typal=function(){var create=Object.create||function(o){function F(){}F.prototype=o;return new F},position=/^(before|after)/;function layerMethod(k,fun){var pos=k.match(position)[0],key=k.replace(position,""),prop=this[key];if("after"===pos){this[key]=function(){var ret=prop.apply(this,arguments),args=[].slice.call(arguments);args.splice(0,0,ret);fun.apply(this,args);return ret}}else if("before"===pos){this[key]=function(){fun.apply(this,arguments);var ret=prop.apply(this,arguments);return ret}}}function typal_mix(){for(var self=this,i=0,o,k;i<arguments.length;i++){o=arguments[i];if(!o)continue;if(Object.prototype.hasOwnProperty.call(o,"constructor"))this.constructor=o.constructor;if(Object.prototype.hasOwnProperty.call(o,"toString"))this.toString=o.toString;for(k in o){if(Object.prototype.hasOwnProperty.call(o,k)){if(k.match(position)&&"function"===typeof this[k.replace(position,"")])layerMethod.call(this,k,o[k]);else this[k]=o[k]}}}return this}return{mix:typal_mix,beget:function(){return arguments.length?typal_mix.apply(create(this),arguments):create(this)},construct:function(){var o=typal_mix.apply(create(this),arguments),constructor=o.constructor,Klass=o.constructor=function(){return constructor.apply(this,arguments)};Klass.prototype=o;Klass.mix=typal_mix;return Klass},constructor:function(){return this}}}();if("undefined"!==typeof exports)exports.typal=typal},requires:[]});require.def("jison/util/bnf-parser",{factory:function factory(require,exports,module){var bnf=function(){var parser={trace:function(){},yy:{},symbols_:{error:2,spec:3,declaration_list:4,"%%":5,grammar:6,optional_end_block:7,EOF:8,CODE:9,declaration:10,START:11,id:12,LEX_BLOCK:13,operator:14,ACTION:15,associativity:16,token_list:17,LEFT:18,RIGHT:19,NONASSOC:20,symbol:21,production_list:22,production:23,":":24,handle_list:25,";":26,"|":27,handle_action:28,handle:29,prec:30,action:31,expression_suffix:32,handle_sublist:33,expression:34,suffix:35,ID:36,STRING:37,"(":38,")":39,"*":40,"?":41,"+":42,PREC:43,"{":44,action_body:45,"}":46,ARROW_ACTION:47,ACTION_BODY:48,$accept:0,$end:1},terminals_:{2:"error",5:"%%",8:"EOF",9:"CODE",11:"START",13:"LEX_BLOCK",15:"ACTION",18:"LEFT",19:"RIGHT",20:"NONASSOC",24:":",26:";",27:"|",36:"ID",37:"STRING",38:"(",39:")",40:"*",41:"?",42:"+",43:"PREC",44:"{",46:"}",47:"ARROW_ACTION",48:"ACTION_BODY"},productions_:[0,[3,5],[3,6],[7,0],[7,1],[4,2],[4,0],[10,2],[10,1],[10,1],[10,1],[14,2],[16,1],[16,1],[16,1],[17,2],[17,1],[6,1],[22,2],[22,1],[23,4],[25,3],[25,1],[28,3],[29,2],[29,0],[33,3],[33,1],[32,2],[34,1],[34,1],[34,3],[35,0],[35,1],[35,1],[35,1],[30,2],[30,0],[21,1],[21,1],[12,1],[31,3],[31,1],[31,1],[31,0],[45,0],[45,1],[45,5],[45,4]],performAction:function(yytext,yyleng,yylineno,yy,yystate,$$){var $0=$$.length-1;switch(yystate){case 1:this.$=$$[$0-4];this.$[ebnf?"ebnf":"bnf"]=$$[$0-2];return this.$;break;case 2:this.$=$$[$0-5];this.$[ebnf?"ebnf":"bnf"]=$$[$0-3];yy.addDeclaration(this.$,{include:$$[$0-1]});return this.$;break;case 5:this.$=$$[$0-1];yy.addDeclaration(this.$,$$[$0]);break;case 6:this.$={};break;case 7:this.$={start:$$[$0]};break;case 8:this.$={lex:$$[$0]};break;case 9:this.$={operator:$$[$0]};break;case 10:this.$={include:$$[$0]};break;case 11:this.$=[$$[$0-1]];this.$.push.apply(this.$,$$[$0]);break;case 12:this.$="left";break;case 13:this.$="right";break;case 14:this.$="nonassoc";break;case 15:this.$=$$[$0-1];this.$.push($$[$0]);break;case 16:this.$=[$$[$0]];break;case 17:this.$=$$[$0];break;case 18:this.$=$$[$0-1];if($$[$0][0]in this.$)this.$[$$[$0][0]]=this.$[$$[$0][0]].concat($$[$0][1]);else this.$[$$[$0][0]]=$$[$0][1];break;case 19:this.$={};this.$[$$[$0][0]]=$$[$0][1];break;case 20:this.$=[$$[$0-3],$$[$0-1]];break;case 21:this.$=$$[$0-2];this.$.push($$[$0]);break;case 22:this.$=[$$[$0]];break;case 23:this.$=[$$[$0-2].length?$$[$0-2].join(" "):""];if($$[$0])this.$.push($$[$0]);if($$[$0-1])this.$.push($$[$0-1]);if(1===this.$.length)this.$=this.$[0];break;case 24:this.$=$$[$0-1];this.$.push($$[$0]);break;case 25:this.$=[];break;case 26:this.$=$$[$0-2];this.$.push($$[$0].join(" "));break;case 27:this.$=[$$[$0].join(" ")];break;case 28:this.$=$$[$0-1]+$$[$0];break;case 29:this.$=$$[$0];break;case 30:this.$=ebnf?"'"+$$[$0]+"'":$$[$0];break;case 31:this.$="("+$$[$0-1].join(" | ")+")";break;case 32:this.$="";break;case 36:this.$={prec:$$[$0]};break;case 37:this.$=null;break;case 38:this.$=$$[$0];break;case 39:this.$=yytext;break;case 40:this.$=yytext;break;case 41:this.$=$$[$0-1];break;case 42:this.$=$$[$0];break;case 43:this.$="$$ ="+$$[$0]+";";break;case 44:this.$="";break;case 45:this.$="";break;case 46:this.$=yytext;break;case 47:this.$=$$[$0-4]+$$[$0-3]+$$[$0-2]+$$[$0-1]+$$[$0];break;case 48:this.$=$$[$0-3]+$$[$0-2]+$$[$0-1]+$$[$0];break;}},table:[{3:1,4:2,5:[2,6],11:[2,6],13:[2,6],15:[2,6],18:[2,6],19:[2,6],20:[2,6]},{1:[3]},{5:[1,3],10:4,11:[1,5],13:[1,6],14:7,15:[1,8],16:9,18:[1,10],19:[1,11],20:[1,12]},{6:13,12:16,22:14,23:15,36:[1,17]},{5:[2,5],11:[2,5],13:[2,5],15:[2,5],18:[2,5],19:[2,5],20:[2,5]},{12:18,36:[1,17]},{5:[2,8],11:[2,8],13:[2,8],15:[2,8],18:[2,8],19:[2,8],20:[2,8]},{5:[2,9],11:[2,9],13:[2,9],15:[2,9],18:[2,9],19:[2,9],20:[2,9]},{5:[2,10],11:[2,10],13:[2,10],15:[2,10],18:[2,10],19:[2,10],20:[2,10]},{12:21,17:19,21:20,36:[1,17],37:[1,22]},{36:[2,12],37:[2,12]},{36:[2,13],37:[2,13]},{36:[2,14],37:[2,14]},{5:[1,24],7:23,8:[2,3]},{5:[2,17],8:[2,17],12:16,23:25,36:[1,17]},{5:[2,19],8:[2,19],36:[2,19]},{24:[1,26]},{5:[2,40],11:[2,40],13:[2,40],15:[2,40],18:[2,40],19:[2,40],20:[2,40],24:[2,40],26:[2,40],27:[2,40],36:[2,40],37:[2,40],44:[2,40],47:[2,40]},{5:[2,7],11:[2,7],13:[2,7],15:[2,7],18:[2,7],19:[2,7],20:[2,7]},{5:[2,11],11:[2,11],12:21,13:[2,11],15:[2,11],18:[2,11],19:[2,11],20:[2,11],21:27,36:[1,17],37:[1,22]},{5:[2,16],11:[2,16],13:[2,16],15:[2,16],18:[2,16],19:[2,16],20:[2,16],36:[2,16],37:[2,16]},{5:[2,38],11:[2,38],13:[2,38],15:[2,38],18:[2,38],19:[2,38],20:[2,38],26:[2,38],27:[2,38],36:[2,38],37:[2,38],44:[2,38],47:[2,38]},{5:[2,39],11:[2,39],13:[2,39],15:[2,39],18:[2,39],19:[2,39],20:[2,39],26:[2,39],27:[2,39],36:[2,39],37:[2,39],44:[2,39],47:[2,39]},{8:[1,28]},{8:[2,4],9:[1,29]},{5:[2,18],8:[2,18],36:[2,18]},{15:[2,25],25:30,26:[2,25],27:[2,25],28:31,29:32,36:[2,25],37:[2,25],38:[2,25],43:[2,25],44:[2,25],47:[2,25]},{5:[2,15],11:[2,15],13:[2,15],15:[2,15],18:[2,15],19:[2,15],20:[2,15],36:[2,15],37:[2,15]},{1:[2,1]},{8:[1,33]},{26:[1,34],27:[1,35]},{26:[2,22],27:[2,22]},{15:[2,37],26:[2,37],27:[2,37],30:36,32:37,34:39,36:[1,40],37:[1,41],38:[1,42],43:[1,38],44:[2,37],47:[2,37]},{1:[2,2]},{5:[2,20],8:[2,20],36:[2,20]},{15:[2,25],26:[2,25],27:[2,25],28:43,29:32,36:[2,25],37:[2,25],38:[2,25],43:[2,25],44:[2,25],47:[2,25]},{15:[1,46],26:[2,44],27:[2,44],31:44,44:[1,45],47:[1,47]},{15:[2,24],26:[2,24],27:[2,24],36:[2,24],37:[2,24],38:[2,24],39:[2,24],43:[2,24],44:[2,24],47:[2,24]},{12:21,21:48,36:[1,17],37:[1,22]},{15:[2,32],26:[2,32],27:[2,32],35:49,36:[2,32],37:[2,32],38:[2,32],39:[2,32],40:[1,50],41:[1,51],42:[1,52],43:[2,32],44:[2,32],47:[2,32]},{15:[2,29],26:[2,29],27:[2,29],36:[2,29],37:[2,29],38:[2,29],39:[2,29],40:[2,29],41:[2,29],42:[2,29],43:[2,29],44:[2,29],47:[2,29]},{15:[2,30],26:[2,30],27:[2,30],36:[2,30],37:[2,30],38:[2,30],39:[2,30],40:[2,30],41:[2,30],42:[2,30],43:[2,30],44:[2,30],47:[2,30]},{27:[2,25],29:54,33:53,36:[2,25],37:[2,25],38:[2,25],39:[2,25]},{26:[2,21],27:[2,21]},{26:[2,23],27:[2,23]},{44:[2,45],45:55,46:[2,45],48:[1,56]},{26:[2,42],27:[2,42]},{26:[2,43],27:[2,43]},{15:[2,36],26:[2,36],27:[2,36],44:[2,36],47:[2,36]},{15:[2,28],26:[2,28],27:[2,28],36:[2,28],37:[2,28],38:[2,28],39:[2,28],43:[2,28],44:[2,28],47:[2,28]},{15:[2,33],26:[2,33],27:[2,33],36:[2,33],37:[2,33],38:[2,33],39:[2,33],43:[2,33],44:[2,33],47:[2,33]},{15:[2,34],26:[2,34],27:[2,34],36:[2,34],37:[2,34],38:[2,34],39:[2,34],43:[2,34],44:[2,34],47:[2,34]},{15:[2,35],26:[2,35],27:[2,35],36:[2,35],37:[2,35],38:[2,35],39:[2,35],43:[2,35],44:[2,35],47:[2,35]},{27:[1,58],39:[1,57]},{27:[2,27],32:37,34:39,36:[1,40],37:[1,41],38:[1,42],39:[2,27]},{44:[1,60],46:[1,59]},{44:[2,46],46:[2,46]},{15:[2,31],26:[2,31],27:[2,31],36:[2,31],37:[2,31],38:[2,31],39:[2,31],40:[2,31],41:[2,31],42:[2,31],43:[2,31],44:[2,31],47:[2,31]},{27:[2,25],29:61,36:[2,25],37:[2,25],38:[2,25],39:[2,25]},{26:[2,41],27:[2,41]},{44:[2,45],45:62,46:[2,45],48:[1,56]},{27:[2,26],32:37,34:39,36:[1,40],37:[1,41],38:[1,42],39:[2,26]},{44:[1,60],46:[1,63]},{44:[2,48],46:[2,48],48:[1,64]},{44:[2,47],46:[2,47]}],defaultActions:{28:[2,1],33:[2,2]},parseError:function(str){throw new Error(str)},parse:function(input){var self=this,stack=[0],vstack=[null],lstack=[],table=this.table,yytext="",yylineno=0,yyleng=0,recovering=0;this.lexer.setInput(input);this.lexer.yy=this.yy;this.yy.lexer=this.lexer;this.yy.parser=this;if("undefined"==typeof this.lexer.yylloc)this.lexer.yylloc={};var yyloc=this.lexer.yylloc;lstack.push(yyloc);var ranges=this.lexer.options&&this.lexer.options.ranges;if("function"===typeof this.yy.parseError)this.parseError=this.yy.parseError;function lex(){var token=self.lexer.lex()||1;if("number"!==typeof token){token=self.symbols_[token]||token}return token}var symbol,preErrorSymbol,state,action,r,yyval={},p,len,newState,expected;while(!0){state=stack[stack.length-1];if(this.defaultActions[state]){action=this.defaultActions[state]}else{if(null===symbol||"undefined"==typeof symbol){symbol=lex()}action=table[state]&&table[state][symbol]}if("undefined"===typeof action||!action.length||!action[0]){var errStr="";if(!recovering){expected=[];for(p in table[state]){if(this.terminals_[p]&&2<p){expected.push("'"+this.terminals_[p]+"'")}}if(this.lexer.showPosition){errStr="Parse error on line "+(yylineno+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+expected.join(", ")+", got '"+(this.terminals_[symbol]||symbol)+"'"}else{errStr="Parse error on line "+(yylineno+1)+": Unexpected "+(1==symbol?"end of input":"'"+(this.terminals_[symbol]||symbol)+"'")}this.parseError(errStr,{text:this.lexer.match,token:this.terminals_[symbol]||symbol,line:this.lexer.yylineno,loc:yyloc,expected:expected})}}if(babelHelpers.instanceof(action[0],Array)&&1<action.length){throw new Error("Parse Error: multiple actions possible at state: "+state+", token: "+symbol)}switch(action[0]){case 1:stack.push(symbol);vstack.push(this.lexer.yytext);lstack.push(this.lexer.yylloc);stack.push(action[1]);symbol=null;if(!preErrorSymbol){yyleng=this.lexer.yyleng;yytext=this.lexer.yytext;yylineno=this.lexer.yylineno;yyloc=this.lexer.yylloc;if(0<recovering)recovering--}else{symbol=preErrorSymbol;preErrorSymbol=null}break;case 2:len=this.productions_[action[1]][1];yyval.$=vstack[vstack.length-len];yyval._$={first_line:lstack[lstack.length-(len||1)].first_line,last_line:lstack[lstack.length-1].last_line,first_column:lstack[lstack.length-(len||1)].first_column,last_column:lstack[lstack.length-1].last_column};if(ranges){yyval._$.range=[lstack[lstack.length-(len||1)].range[0],lstack[lstack.length-1].range[1]]}r=this.performAction.call(yyval,yytext,yyleng,yylineno,this.yy,action[1],vstack,lstack);if("undefined"!==typeof r){return r}if(len){stack=stack.slice(0,2*(-1*len));vstack=vstack.slice(0,-1*len);lstack=lstack.slice(0,-1*len)}stack.push(this.productions_[action[1]][0]);vstack.push(yyval.$);lstack.push(yyval._$);newState=table[stack[stack.length-2]][stack[stack.length-1]];stack.push(newState);break;case 3:return!0;}}return!0}},ebnf=!1,lexer=function(){var lexer={EOF:1,parseError:function(str,hash){if(this.yy.parser){this.yy.parser.parseError(str,hash)}else{throw new Error(str)}},setInput:function(input){this._input=input;this._more=this._less=this.done=!1;this.yylineno=this.yyleng=0;this.yytext=this.matched=this.match="";this.conditionStack=["INITIAL"];this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0};if(this.options.ranges)this.yylloc.range=[0,0];this.offset=0;return this},input:function(){var ch=this._input[0];this.yytext+=ch;this.yyleng++;this.offset++;this.match+=ch;this.matched+=ch;var lines=ch.match(/(?:\r\n?|\n).*/g);if(lines){this.yylineno++;this.yylloc.last_line++}else{this.yylloc.last_column++}if(this.options.ranges)this.yylloc.range[1]++;this._input=this._input.slice(1);return ch},unput:function(ch){var len=ch.length,lines=ch.split(/(?:\r\n?|\n)/g);this._input=ch+this._input;this.yytext=this.yytext.substr(0,this.yytext.length-len-1);this.offset-=len;var oldLines=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1);this.matched=this.matched.substr(0,this.matched.length-1);if(lines.length-1)this.yylineno-=lines.length-1;var r=this.yylloc.range;this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:lines?(lines.length===oldLines.length?this.yylloc.first_column:0)+oldLines[oldLines.length-lines.length].length-lines[0].length:this.yylloc.first_column-len};if(this.options.ranges){this.yylloc.range=[r[0],r[0]+this.yyleng-len]}return this},more:function(){this._more=!0;return this},less:function(n){this.unput(this.match.slice(n))},pastInput:function(){var past=this.matched.substr(0,this.matched.length-this.match.length);return(20<past.length?"...":"")+past.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var next=this.match;if(20>next.length){next+=this._input.substr(0,20-next.length)}return(next.substr(0,20)+(20<next.length?"...":"")).replace(/\n/g,"")},showPosition:function(){var pre=this.pastInput(),c=Array(pre.length+1).join("-");return pre+this.upcomingInput()+"\n"+c+"^"},next:function(){if(this.done){return this.EOF}if(!this._input)this.done=!0;var token,match,tempMatch,index,lines;if(!this._more){this.yytext="";this.match=""}for(var rules=this._currentRules(),i=0;i<rules.length;i++){tempMatch=this._input.match(this.rules[rules[i]]);if(tempMatch&&(!match||tempMatch[0].length>match[0].length)){match=tempMatch;index=i;if(!this.options.flex)break}}if(match){lines=match[0].match(/(?:\r\n?|\n).*/g);if(lines)this.yylineno+=lines.length;this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:lines?lines[lines.length-1].length-lines[lines.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+match[0].length};this.yytext+=match[0];this.match+=match[0];this.matches=match;this.yyleng=this.yytext.length;if(this.options.ranges){this.yylloc.range=[this.offset,this.offset+=this.yyleng]}this._more=!1;this._input=this._input.slice(match[0].length);this.matched+=match[0];token=this.performAction.call(this,this.yy,this,rules[index],this.conditionStack[this.conditionStack.length-1]);if(this.done&&this._input)this.done=!1;if(token)return token;else return}if(""===this._input){return this.EOF}else{return this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})}},lex:function(){var r=this.next();if("undefined"!==typeof r){return r}else{return this.lex()}},begin:function(condition){this.conditionStack.push(condition)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(condition){this.begin(condition)},options:{},performAction:function(yy,yy_,$avoiding_name_collisions,YY_START){switch($avoiding_name_collisions){case 0:this.begin("code");return 5;break;case 1:return 38;break;case 2:return 39;break;case 3:return 40;break;case 4:return 41;break;case 5:return 42;break;case 6:break;case 7:break;case 8:return yy.lexComment(this);break;case 9:return 36;break;case 10:yy_.yytext=yy_.yytext.substr(1,yy_.yyleng-2);return 37;break;case 11:yy_.yytext=yy_.yytext.substr(1,yy_.yyleng-2);return 37;break;case 12:return 24;break;case 13:return 26;break;case 14:return 27;break;case 15:this.begin(ebnf?"ebnf":"bnf");return 5;break;case 16:if(!yy.options)yy.options={};ebnf=yy.options.ebnf=!0;break;case 17:return 43;break;case 18:return 11;break;case 19:return 18;break;case 20:return 19;break;case 21:return 20;break;case 22:return 13;break;case 23:break;case 24:break;case 25:yy_.yytext=yy_.yytext.substr(2,yy_.yyleng-4);return 15;break;case 26:yy_.yytext=yy_.yytext.substr(2,yy_.yytext.length-4);return 15;break;case 27:yy.depth=0;this.begin("action");return 44;break;case 28:yy_.yytext=yy_.yytext.substr(2,yy_.yyleng-2);return 47;break;case 29:break;case 30:return 8;break;case 31:return 48;break;case 32:yy.depth++;return 44;break;case 33:0==yy.depth?this.begin(ebnf?"ebnf":"bnf"):yy.depth--;return 46;break;case 34:return 9;break;}},rules:[/^(?:%%)/,/^(?:\()/,/^(?:\))/,/^(?:\*)/,/^(?:\?)/,/^(?:\+)/,/^(?:\s+)/,/^(?:\/\/.*)/,/^(?:\/\*[^*]*\*)/,/^(?:[a-zA-Z][a-zA-Z0-9_-]*)/,/^(?:"[^"]+")/,/^(?:'[^']+')/,/^(?::)/,/^(?:;)/,/^(?:\|)/,/^(?:%%)/,/^(?:%ebnf\b)/,/^(?:%prec\b)/,/^(?:%start\b)/,/^(?:%left\b)/,/^(?:%right\b)/,/^(?:%nonassoc\b)/,/^(?:%lex[\w\W]*?\/lex\b)/,/^(?:%[a-zA-Z]+[^\n]*)/,/^(?:<[a-zA-Z]*>)/,/^(?:\{\{[\w\W]*?\}\})/,/^(?:%\{(.|\n)*?%\})/,/^(?:\{)/,/^(?:->.*)/,/^(?:.)/,/^(?:$)/,/^(?:[^{}]+)/,/^(?:\{)/,/^(?:\})/,/^(?:(.|\n)+)/],conditions:{bnf:{rules:[0,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30],inclusive:!0},ebnf:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30],inclusive:!0},action:{rules:[30,31,32,33],inclusive:!1},code:{rules:[30,34],inclusive:!1},INITIAL:{rules:[6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30],inclusive:!0}}};return lexer}();parser.lexer=lexer;function Parser(){this.yy={}}Parser.prototype=parser;parser.Parser=Parser;return new Parser}();if("undefined"!==typeof require&&"undefined"!==typeof exports){exports.parser=bnf;exports.Parser=bnf.Parser;exports.parse=function(){return bnf.parse.apply(bnf,arguments)};exports.main=function(args){if(!args[1])throw new Error("Usage: "+args[0]+" FILE");var source;if("undefined"!==typeof process){source=require("fs").readFileSync(require("path").resolve(args[1]),"utf8")}else{source=require("file").path(require("file").cwd()).join(args[1]).read({charset:"utf-8"})}return exports.parser.parse(source)};if("undefined"!==typeof module&&require.main===module){exports.main("undefined"!==typeof process?process.argv.slice(1):require("system").args)}}},requires:["fs","path","file","file","system"]});require.def("jison/util/lex-parser",{factory:function factory(require,exports,module){var jisonlex=function(){var parser={trace:function(){},yy:{},symbols_:{error:2,lex:3,definitions:4,"%%":5,rules:6,epilogue:7,EOF:8,CODE:9,definition:10,ACTION:11,NAME:12,regex:13,START_INC:14,names_inclusive:15,START_EXC:16,names_exclusive:17,START_COND:18,rule:19,start_conditions:20,action:21,"{":22,action_body:23,"}":24,ACTION_BODY:25,"<":26,name_list:27,">":28,"*":29,",":30,regex_list:31,"|":32,regex_concat:33,regex_base:34,"(":35,")":36,SPECIAL_GROUP:37,"+":38,"?":39,"/":40,"/!":41,name_expansion:42,range_regex:43,any_group_regex:44,".":45,"^":46,$:47,string:48,escape_char:49,NAME_BRACE:50,ANY_GROUP_REGEX:51,ESCAPE_CHAR:52,RANGE_REGEX:53,STRING_LIT:54,CHARACTER_LIT:55,$accept:0,$end:1},terminals_:{2:"error",5:"%%",8:"EOF",9:"CODE",11:"ACTION",12:"NAME",14:"START_INC",16:"START_EXC",18:"START_COND",22:"{",24:"}",25:"ACTION_BODY",26:"<",28:">",29:"*",30:",",32:"|",35:"(",36:")",37:"SPECIAL_GROUP",38:"+",39:"?",40:"/",41:"/!",45:".",46:"^",47:"$",50:"NAME_BRACE",51:"ANY_GROUP_REGEX",52:"ESCAPE_CHAR",53:"RANGE_REGEX",54:"STRING_LIT",55:"CHARACTER_LIT"},productions_:[0,[3,4],[7,1],[7,2],[7,3],[4,2],[4,2],[4,0],[10,2],[10,2],[10,2],[15,1],[15,2],[17,1],[17,2],[6,2],[6,1],[19,3],[21,3],[21,1],[23,0],[23,1],[23,5],[23,4],[20,3],[20,3],[20,0],[27,1],[27,3],[13,1],[31,3],[31,2],[31,1],[31,0],[33,2],[33,1],[34,3],[34,3],[34,2],[34,2],[34,2],[34,2],[34,2],[34,1],[34,2],[34,1],[34,1],[34,1],[34,1],[34,1],[34,1],[42,1],[44,1],[49,1],[43,1],[48,1],[48,1]],performAction:function(yytext,yyleng,yylineno,yy,yystate,$$){var $0=$$.length-1;switch(yystate){case 1:this.$={rules:$$[$0-1]};if($$[$0-3][0])this.$.macros=$$[$0-3][0];if($$[$0-3][1])this.$.startConditions=$$[$0-3][1];if($$[$0])this.$.moduleInclude=$$[$0];if(yy.options)this.$.options=yy.options;if(yy.actionInclude)this.$.actionInclude=yy.actionInclude;delete yy.options;delete yy.actionInclude;return this.$;break;case 2:this.$=null;break;case 3:this.$=null;break;case 4:this.$=$$[$0-1];break;case 5:this.$=$$[$0];if("length"in $$[$0-1]){this.$[0]=this.$[0]||{};this.$[0][$$[$0-1][0]]=$$[$0-1][1]}else{this.$[1]=this.$[1]||{};for(var name in $$[$0-1]){this.$[1][name]=$$[$0-1][name]}}break;case 6:yy.actionInclude+=$$[$0-1];this.$=$$[$0];break;case 7:yy.actionInclude="";this.$=[null,null];break;case 8:this.$=[$$[$0-1],$$[$0]];break;case 9:this.$=$$[$0];break;case 10:this.$=$$[$0];break;case 11:this.$={};this.$[$$[$0]]=0;break;case 12:this.$=$$[$0-1];this.$[$$[$0]]=0;break;case 13:this.$={};this.$[$$[$0]]=1;break;case 14:this.$=$$[$0-1];this.$[$$[$0]]=1;break;case 15:this.$=$$[$0-1];this.$.push($$[$0]);break;case 16:this.$=[$$[$0]];break;case 17:this.$=$$[$0-2]?[$$[$0-2],$$[$0-1],$$[$0]]:[$$[$0-1],$$[$0]];break;case 18:this.$=$$[$0-1];break;case 19:this.$=$$[$0];break;case 20:this.$="";break;case 21:this.$=yytext;break;case 22:this.$=$$[$0-4]+$$[$0-3]+$$[$0-2]+$$[$0-1]+$$[$0];break;case 23:this.$=$$[$0-3]+$$[$0-2]+$$[$0-1]+$$[$0];break;case 24:this.$=$$[$0-1];break;case 25:this.$=["*"];break;case 27:this.$=[$$[$0]];break;case 28:this.$=$$[$0-2];this.$.push($$[$0]);break;case 29:this.$=$$[$0];if(!(yy.options&&yy.options.flex)&&this.$.match(/[\w\d]$/)&&!this.$.match(/\\(b|c[A-Z]|x[0-9A-F]{2}|u[a-fA-F0-9]{4}|[0-7]{1,3})$/))this.$+="\\b";break;case 30:this.$=$$[$0-2]+"|"+$$[$0];break;case 31:this.$=$$[$0-1]+"|";break;case 33:this.$="";break;case 34:this.$=$$[$0-1]+$$[$0];break;case 36:this.$="("+$$[$0-1]+")";break;case 37:this.$=$$[$0-2]+$$[$0-1]+")";break;case 38:this.$=$$[$0-1]+"+";break;case 39:this.$=$$[$0-1]+"*";break;case 40:this.$=$$[$0-1]+"?";break;case 41:this.$="(?="+$$[$0]+")";break;case 42:this.$="(?!"+$$[$0]+")";break;case 44:this.$=$$[$0-1]+$$[$0];break;case 46:this.$=".";break;case 47:this.$="^";break;case 48:this.$="$";break;case 52:this.$=yytext;break;case 53:this.$=yytext;break;case 54:this.$=yytext;break;case 55:this.$=yy.prepareString(yytext.substr(1,yytext.length-2));break;}},table:[{3:1,4:2,5:[2,7],10:3,11:[1,4],12:[1,5],14:[1,6],16:[1,7]},{1:[3]},{5:[1,8]},{4:9,5:[2,7],10:3,11:[1,4],12:[1,5],14:[1,6],16:[1,7]},{4:10,5:[2,7],10:3,11:[1,4],12:[1,5],14:[1,6],16:[1,7]},{5:[2,33],11:[2,33],12:[2,33],13:11,14:[2,33],16:[2,33],31:12,32:[2,33],33:13,34:14,35:[1,15],37:[1,16],40:[1,17],41:[1,18],42:19,44:20,45:[1,21],46:[1,22],47:[1,23],48:24,49:25,50:[1,26],51:[1,27],52:[1,30],54:[1,28],55:[1,29]},{15:31,18:[1,32]},{17:33,18:[1,34]},{6:35,11:[2,26],19:36,20:37,22:[2,26],26:[1,38],32:[2,26],35:[2,26],37:[2,26],40:[2,26],41:[2,26],45:[2,26],46:[2,26],47:[2,26],50:[2,26],51:[2,26],52:[2,26],54:[2,26],55:[2,26]},{5:[2,5]},{5:[2,6]},{5:[2,8],11:[2,8],12:[2,8],14:[2,8],16:[2,8]},{5:[2,29],11:[2,29],12:[2,29],14:[2,29],16:[2,29],22:[2,29],32:[1,39]},{5:[2,32],11:[2,32],12:[2,32],14:[2,32],16:[2,32],22:[2,32],32:[2,32],34:40,35:[1,15],36:[2,32],37:[1,16],40:[1,17],41:[1,18],42:19,44:20,45:[1,21],46:[1,22],47:[1,23],48:24,49:25,50:[1,26],51:[1,27],52:[1,30],54:[1,28],55:[1,29]},{5:[2,35],11:[2,35],12:[2,35],14:[2,35],16:[2,35],22:[2,35],29:[1,42],32:[2,35],35:[2,35],36:[2,35],37:[2,35],38:[1,41],39:[1,43],40:[2,35],41:[2,35],43:44,45:[2,35],46:[2,35],47:[2,35],50:[2,35],51:[2,35],52:[2,35],53:[1,45],54:[2,35],55:[2,35]},{31:46,32:[2,33],33:13,34:14,35:[1,15],36:[2,33],37:[1,16],40:[1,17],41:[1,18],42:19,44:20,45:[1,21],46:[1,22],47:[1,23],48:24,49:25,50:[1,26],51:[1,27],52:[1,30],54:[1,28],55:[1,29]},{31:47,32:[2,33],33:13,34:14,35:[1,15],36:[2,33],37:[1,16],40:[1,17],41:[1,18],42:19,44:20,45:[1,21],46:[1,22],47:[1,23],48:24,49:25,50:[1,26],51:[1,27],52:[1,30],54:[1,28],55:[1,29]},{34:48,35:[1,15],37:[1,16],40:[1,17],41:[1,18],42:19,44:20,45:[1,21],46:[1,22],47:[1,23],48:24,49:25,50:[1,26],51:[1,27],52:[1,30],54:[1,28],55:[1,29]},{34:49,35:[1,15],37:[1,16],40:[1,17],41:[1,18],42:19,44:20,45:[1,21],46:[1,22],47:[1,23],48:24,49:25,50:[1,26],51:[1,27],52:[1,30],54:[1,28],55:[1,29]},{5:[2,43],11:[2,43],12:[2,43],14:[2,43],16:[2,43],22:[2,43],29:[2,43],32:[2,43],35:[2,43],36:[2,43],37:[2,43],38:[2,43],39:[2,43],40:[2,43],41:[2,43],45:[2,43],46:[2,43],47:[2,43],50:[2,43],51:[2,43],52:[2,43],53:[2,43],54:[2,43],55:[2,43]},{5:[2,45],11:[2,45],12:[2,45],14:[2,45],16:[2,45],22:[2,45],29:[2,45],32:[2,45],35:[2,45],36:[2,45],37:[2,45],38:[2,45],39:[2,45],40:[2,45],41:[2,45],45:[2,45],46:[2,45],47:[2,45],50:[2,45],51:[2,45],52:[2,45],53:[2,45],54:[2,45],55:[2,45]},{5:[2,46],11:[2,46],12:[2,46],14:[2,46],16:[2,46],22:[2,46],29:[2,46],32:[2,46],35:[2,46],36:[2,46],37:[2,46],38:[2,46],39:[2,46],40:[2,46],41:[2,46],45:[2,46],46:[2,46],47:[2,46],50:[2,46],51:[2,46],52:[2,46],53:[2,46],54:[2,46],55:[2,46]},{5:[2,47],11:[2,47],12:[2,47],14:[2,47],16:[2,47],22:[2,47],29:[2,47],32:[2,47],35:[2,47],36:[2,47],37:[2,47],38:[2,47],39:[2,47],40:[2,47],41:[2,47],45:[2,47],46:[2,47],47:[2,47],50:[2,47],51:[2,47],52:[2,47],53:[2,47],54:[2,47],55:[2,47]},{5:[2,48],11:[2,48],12:[2,48],14:[2,48],16:[2,48],22:[2,48],29:[2,48],32:[2,48],35:[2,48],36:[2,48],37:[2,48],38:[2,48],39:[2,48],40:[2,48],41:[2,48],45:[2,48],46:[2,48],47:[2,48],50:[2,48],51:[2,48],52:[2,48],53:[2,48],54:[2,48],55:[2,48]},{5:[2,49],11:[2,49],12:[2,49],14:[2,49],16:[2,49],22:[2,49],29:[2,49],32:[2,49],35:[2,49],36:[2,49],37:[2,49],38:[2,49],39:[2,49],40:[2,49],41:[2,49],45:[2,49],46:[2,49],47:[2,49],50:[2,49],51:[2,49],52:[2,49],53:[2,49],54:[2,49],55:[2,49]},{5:[2,50],11:[2,50],12:[2,50],14:[2,50],16:[2,50],22:[2,50],29:[2,50],32:[2,50],35:[2,50],36:[2,50],37:[2,50],38:[2,50],39:[2,50],40:[2,50],41:[2,50],45:[2,50],46:[2,50],47:[2,50],50:[2,50],51:[2,50],52:[2,50],53:[2,50],54:[2,50],55:[2,50]},{5:[2,51],11:[2,51],12:[2,51],14:[2,51],16:[2,51],22:[2,51],29:[2,51],32:[2,51],35:[2,51],36:[2,51],37:[2,51],38:[2,51],39:[2,51],40:[2,51],41:[2,51],45:[2,51],46:[2,51],47:[2,51],50:[2,51],51:[2,51],52:[2,51],53:[2,51],54:[2,51],55:[2,51]},{5:[2,52],11:[2,52],12:[2,52],14:[2,52],16:[2,52],22:[2,52],29:[2,52],32:[2,52],35:[2,52],36:[2,52],37:[2,52],38:[2,52],39:[2,52],40:[2,52],41:[2,52],45:[2,52],46:[2,52],47:[2,52],50:[2,52],51:[2,52],52:[2,52],53:[2,52],54:[2,52],55:[2,52]},{5:[2,55],11:[2,55],12:[2,55],14:[2,55],16:[2,55],22:[2,55],29:[2,55],32:[2,55],35:[2,55],36:[2,55],37:[2,55],38:[2,55],39:[2,55],40:[2,55],41:[2,55],45:[2,55],46:[2,55],47:[2,55],50:[2,55],51:[2,55],52:[2,55],53:[2,55],54:[2,55],55:[2,55]},{5:[2,56],11:[2,56],12:[2,56],14:[2,56],16:[2,56],22:[2,56],29:[2,56],32:[2,56],35:[2,56],36:[2,56],37:[2,56],38:[2,56],39:[2,56],40:[2,56],41:[2,56],45:[2,56],46:[2,56],47:[2,56],50:[2,56],51:[2,56],52:[2,56],53:[2,56],54:[2,56],55:[2,56]},{5:[2,53],11:[2,53],12:[2,53],14:[2,53],16:[2,53],22:[2,53],29:[2,53],32:[2,53],35:[2,53],36:[2,53],37:[2,53],38:[2,53],39:[2,53],40:[2,53],41:[2,53],45:[2,53],46:[2,53],47:[2,53],50:[2,53],51:[2,53],52:[2,53],53:[2,53],54:[2,53],55:[2,53]},{5:[2,9],11:[2,9],12:[2,9],14:[2,9],16:[2,9],18:[1,50]},{5:[2,11],11:[2,11],12:[2,11],14:[2,11],16:[2,11],18:[2,11]},{5:[2,10],11:[2,10],12:[2,10],14:[2,10],16:[2,10],18:[1,51]},{5:[2,13],11:[2,13],12:[2,13],14:[2,13],16:[2,13],18:[2,13]},{5:[1,55],7:52,8:[1,54],11:[2,26],19:53,20:37,22:[2,26],26:[1,38],32:[2,26],35:[2,26],37:[2,26],40:[2,26],41:[2,26],45:[2,26],46:[2,26],47:[2,26],50:[2,26],51:[2,26],52:[2,26],54:[2,26],55:[2,26]},{5:[2,16],8:[2,16],11:[2,16],22:[2,16],26:[2,16],32:[2,16],35:[2,16],37:[2,16],40:[2,16],41:[2,16],45:[2,16],46:[2,16],47:[2,16],50:[2,16],51:[2,16],52:[2,16],54:[2,16],55:[2,16]},{11:[2,33],13:56,22:[2,33],31:12,32:[2,33],33:13,34:14,35:[1,15],37:[1,16],40:[1,17],41:[1,18],42:19,44:20,45:[1,21],46:[1,22],47:[1,23],48:24,49:25,50:[1,26],51:[1,27],52:[1,30],54:[1,28],55:[1,29]},{12:[1,59],27:57,29:[1,58]},{5:[2,31],11:[2,31],12:[2,31],14:[2,31],16:[2,31],22:[2,31],32:[2,31],33:60,34:14,35:[1,15],36:[2,31],37:[1,16],40:[1,17],41:[1,18],42:19,44:20,45:[1,21],46:[1,22],47:[1,23],48:24,49:25,50:[1,26],51:[1,27],52:[1,30],54:[1,28],55:[1,29]},{5:[2,34],11:[2,34],12:[2,34],14:[2,34],16:[2,34],22:[2,34],29:[1,42],32:[2,34],35:[2,34],36:[2,34],37:[2,34],38:[1,41],39:[1,43],40:[2,34],41:[2,34],43:44,45:[2,34],46:[2,34],47:[2,34],50:[2,34],51:[2,34],52:[2,34],53:[1,45],54:[2,34],55:[2,34]},{5:[2,38],11:[2,38],12:[2,38],14:[2,38],16:[2,38],22:[2,38],29:[2,38],32:[2,38],35:[2,38],36:[2,38],37:[2,38],38:[2,38],39:[2,38],40:[2,38],41:[2,38],45:[2,38],46:[2,38],47:[2,38],50:[2,38],51:[2,38],52:[2,38],53:[2,38],54:[2,38],55:[2,38]},{5:[2,39],11:[2,39],12:[2,39],14:[2,39],16:[2,39],22:[2,39],29:[2,39],32:[2,39],35:[2,39],36:[2,39],37:[2,39],38:[2,39],39:[2,39],40:[2,39],41:[2,39],45:[2,39],46:[2,39],47:[2,39],50:[2,39],51:[2,39],52:[2,39],53:[2,39],54:[2,39],55:[2,39]},{5:[2,40],11:[2,40],12:[2,40],14:[2,40],16:[2,40],22:[2,40],29:[2,40],32:[2,40],35:[2,40],36:[2,40],37:[2,40],38:[2,40],39:[2,40],40:[2,40],41:[2,40],45:[2,40],46:[2,40],47:[2,40],50:[2,40],51:[2,40],52:[2,40],53:[2,40],54:[2,40],55:[2,40]},{5:[2,44],11:[2,44],12:[2,44],14:[2,44],16:[2,44],22:[2,44],29:[2,44],32:[2,44],35:[2,44],36:[2,44],37:[2,44],38:[2,44],39:[2,44],40:[2,44],41:[2,44],45:[2,44],46:[2,44],47:[2,44],50:[2,44],51:[2,44],52:[2,44],53:[2,44],54:[2,44],55:[2,44]},{5:[2,54],11:[2,54],12:[2,54],14:[2,54],16:[2,54],22:[2,54],29:[2,54],32:[2,54],35:[2,54],36:[2,54],37:[2,54],38:[2,54],39:[2,54],40:[2,54],41:[2,54],45:[2,54],46:[2,54],47:[2,54],50:[2,54],51:[2,54],52:[2,54],53:[2,54],54:[2,54],55:[2,54]},{32:[1,39],36:[1,61]},{32:[1,39],36:[1,62]},{5:[2,41],11:[2,41],12:[2,41],14:[2,41],16:[2,41],22:[2,41],29:[1,42],32:[2,41],35:[2,41],36:[2,41],37:[2,41],38:[1,41],39:[1,43],40:[2,41],41:[2,41],43:44,45:[2,41],46:[2,41],47:[2,41],50:[2,41],51:[2,41],52:[2,41],53:[1,45],54:[2,41],55:[2,41]},{5:[2,42],11:[2,42],12:[2,42],14:[2,42],16:[2,42],22:[2,42],29:[1,42],32:[2,42],35:[2,42],36:[2,42],37:[2,42],38:[1,41],39:[1,43],40:[2,42],41:[2,42],43:44,45:[2,42],46:[2,42],47:[2,42],50:[2,42],51:[2,42],52:[2,42],53:[1,45],54:[2,42],55:[2,42]},{5:[2,12],11:[2,12],12:[2,12],14:[2,12],16:[2,12],18:[2,12]},{5:[2,14],11:[2,14],12:[2,14],14:[2,14],16:[2,14],18:[2,14]},{1:[2,1]},{5:[2,15],8:[2,15],11:[2,15],22:[2,15],26:[2,15],32:[2,15],35:[2,15],37:[2,15],40:[2,15],41:[2,15],45:[2,15],46:[2,15],47:[2,15],50:[2,15],51:[2,15],52:[2,15],54:[2,15],55:[2,15]},{1:[2,2]},{8:[1,63],9:[1,64]},{11:[1,67],21:65,22:[1,66]},{28:[1,68],30:[1,69]},{28:[1,70]},{28:[2,27],30:[2,27]},{5:[2,30],11:[2,30],12:[2,30],14:[2,30],16:[2,30],22:[2,30],32:[2,30],34:40,35:[1,15],36:[2,30],37:[1,16],40:[1,17],41:[1,18],42:19,44:20,45:[1,21],46:[1,22],47:[1,23],48:24,49:25,50:[1,26],51:[1,27],52:[1,30],54:[1,28],55:[1,29]},{5:[2,36],11:[2,36],12:[2,36],14:[2,36],16:[2,36],22:[2,36],29:[2,36],32:[2,36],35:[2,36],36:[2,36],37:[2,36],38:[2,36],39:[2,36],40:[2,36],41:[2,36],45:[2,36],46:[2,36],47:[2,36],50:[2,36],51:[2,36],52:[2,36],53:[2,36],54:[2,36],55:[2,36]},{5:[2,37],11:[2,37],12:[2,37],14:[2,37],16:[2,37],22:[2,37],29:[2,37],32:[2,37],35:[2,37],36:[2,37],37:[2,37],38:[2,37],39:[2,37],40:[2,37],41:[2,37],45:[2,37],46:[2,37],47:[2,37],50:[2,37],51:[2,37],52:[2,37],53:[2,37],54:[2,37],55:[2,37]},{1:[2,3]},{8:[1,71]},{5:[2,17],8:[2,17],11:[2,17],22:[2,17],26:[2,17],32:[2,17],35:[2,17],37:[2,17],40:[2,17],41:[2,17],45:[2,17],46:[2,17],47:[2,17],50:[2,17],51:[2,17],52:[2,17],54:[2,17],55:[2,17]},{22:[2,20],23:72,24:[2,20],25:[1,73]},{5:[2,19],8:[2,19],11:[2,19],22:[2,19],26:[2,19],32:[2,19],35:[2,19],37:[2,19],40:[2,19],41:[2,19],45:[2,19],46:[2,19],47:[2,19],50:[2,19],51:[2,19],52:[2,19],54:[2,19],55:[2,19]},{11:[2,24],22:[2,24],32:[2,24],35:[2,24],37:[2,24],40:[2,24],41:[2,24],45:[2,24],46:[2,24],47:[2,24],50:[2,24],51:[2,24],52:[2,24],54:[2,24],55:[2,24]},{12:[1,74]},{11:[2,25],22:[2,25],32:[2,25],35:[2,25],37:[2,25],40:[2,25],41:[2,25],45:[2,25],46:[2,25],47:[2,25],50:[2,25],51:[2,25],52:[2,25],54:[2,25],55:[2,25]},{1:[2,4]},{22:[1,76],24:[1,75]},{22:[2,21],24:[2,21]},{28:[2,28],30:[2,28]},{5:[2,18],8:[2,18],11:[2,18],22:[2,18],26:[2,18],32:[2,18],35:[2,18],37:[2,18],40:[2,18],41:[2,18],45:[2,18],46:[2,18],47:[2,18],50:[2,18],51:[2,18],52:[2,18],54:[2,18],55:[2,18]},{22:[2,20],23:77,24:[2,20],25:[1,73]},{22:[1,76],24:[1,78]},{22:[2,23],24:[2,23],25:[1,79]},{22:[2,22],24:[2,22]}],defaultActions:{9:[2,5],10:[2,6],52:[2,1],54:[2,2],63:[2,3],71:[2,4]},parseError:function(str){throw new Error(str)},parse:function(input){var self=this,stack=[0],vstack=[null],lstack=[],table=this.table,yytext="",yylineno=0,yyleng=0,recovering=0;this.lexer.setInput(input);this.lexer.yy=this.yy;this.yy.lexer=this.lexer;this.yy.parser=this;if("undefined"==typeof this.lexer.yylloc)this.lexer.yylloc={};var yyloc=this.lexer.yylloc;lstack.push(yyloc);var ranges=this.lexer.options&&this.lexer.options.ranges;if("function"===typeof this.yy.parseError)this.parseError=this.yy.parseError;function lex(){var token=self.lexer.lex()||1;if("number"!==typeof token){token=self.symbols_[token]||token}return token}var symbol,preErrorSymbol,state,action,r,yyval={},p,len,newState,expected;while(!0){state=stack[stack.length-1];if(this.defaultActions[state]){action=this.defaultActions[state]}else{if(null===symbol||"undefined"==typeof symbol){symbol=lex()}action=table[state]&&table[state][symbol]}if("undefined"===typeof action||!action.length||!action[0]){var errStr="";if(!recovering){expected=[];for(p in table[state]){if(this.terminals_[p]&&2<p){expected.push("'"+this.terminals_[p]+"'")}}if(this.lexer.showPosition){errStr="Parse error on line "+(yylineno+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+expected.join(", ")+", got '"+(this.terminals_[symbol]||symbol)+"'"}else{errStr="Parse error on line "+(yylineno+1)+": Unexpected "+(1==symbol?"end of input":"'"+(this.terminals_[symbol]||symbol)+"'")}this.parseError(errStr,{text:this.lexer.match,token:this.terminals_[symbol]||symbol,line:this.lexer.yylineno,loc:yyloc,expected:expected})}}if(babelHelpers.instanceof(action[0],Array)&&1<action.length){throw new Error("Parse Error: multiple actions possible at state: "+state+", token: "+symbol)}switch(action[0]){case 1:stack.push(symbol);vstack.push(this.lexer.yytext);lstack.push(this.lexer.yylloc);stack.push(action[1]);symbol=null;if(!preErrorSymbol){yyleng=this.lexer.yyleng;yytext=this.lexer.yytext;yylineno=this.lexer.yylineno;yyloc=this.lexer.yylloc;if(0<recovering)recovering--}else{symbol=preErrorSymbol;preErrorSymbol=null}break;case 2:len=this.productions_[action[1]][1];yyval.$=vstack[vstack.length-len];yyval._$={first_line:lstack[lstack.length-(len||1)].first_line,last_line:lstack[lstack.length-1].last_line,first_column:lstack[lstack.length-(len||1)].first_column,last_column:lstack[lstack.length-1].last_column};if(ranges){yyval._$.range=[lstack[lstack.length-(len||1)].range[0],lstack[lstack.length-1].range[1]]}r=this.performAction.call(yyval,yytext,yyleng,yylineno,this.yy,action[1],vstack,lstack);if("undefined"!==typeof r){return r}if(len){stack=stack.slice(0,2*(-1*len));vstack=vstack.slice(0,-1*len);lstack=lstack.slice(0,-1*len)}stack.push(this.productions_[action[1]][0]);vstack.push(yyval.$);lstack.push(yyval._$);newState=table[stack[stack.length-2]][stack[stack.length-1]];stack.push(newState);break;case 3:return!0;}}return!0}},lexer=function(){var lexer={EOF:1,parseError:function(str,hash){if(this.yy.parser){this.yy.parser.parseError(str,hash)}else{throw new Error(str)}},setInput:function(input){this._input=input;this._more=this._less=this.done=!1;this.yylineno=this.yyleng=0;this.yytext=this.matched=this.match="";this.conditionStack=["INITIAL"];this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0};if(this.options.ranges)this.yylloc.range=[0,0];this.offset=0;return this},input:function(){var ch=this._input[0];this.yytext+=ch;this.yyleng++;this.offset++;this.match+=ch;this.matched+=ch;var lines=ch.match(/(?:\r\n?|\n).*/g);if(lines){this.yylineno++;this.yylloc.last_line++}else{this.yylloc.last_column++}if(this.options.ranges)this.yylloc.range[1]++;this._input=this._input.slice(1);return ch},unput:function(ch){var len=ch.length,lines=ch.split(/(?:\r\n?|\n)/g);this._input=ch+this._input;this.yytext=this.yytext.substr(0,this.yytext.length-len-1);this.offset-=len;var oldLines=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1);this.matched=this.matched.substr(0,this.matched.length-1);if(lines.length-1)this.yylineno-=lines.length-1;var r=this.yylloc.range;this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:lines?(lines.length===oldLines.length?this.yylloc.first_column:0)+oldLines[oldLines.length-lines.length].length-lines[0].length:this.yylloc.first_column-len};if(this.options.ranges){this.yylloc.range=[r[0],r[0]+this.yyleng-len]}return this},more:function(){this._more=!0;return this},less:function(n){this.unput(this.match.slice(n))},pastInput:function(){var past=this.matched.substr(0,this.matched.length-this.match.length);return(20<past.length?"...":"")+past.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var next=this.match;if(20>next.length){next+=this._input.substr(0,20-next.length)}return(next.substr(0,20)+(20<next.length?"...":"")).replace(/\n/g,"")},showPosition:function(){var pre=this.pastInput(),c=Array(pre.length+1).join("-");return pre+this.upcomingInput()+"\n"+c+"^"},next:function(){if(this.done){return this.EOF}if(!this._input)this.done=!0;var token,match,tempMatch,index,lines;if(!this._more){this.yytext="";this.match=""}for(var rules=this._currentRules(),i=0;i<rules.length;i++){tempMatch=this._input.match(this.rules[rules[i]]);if(tempMatch&&(!match||tempMatch[0].length>match[0].length)){match=tempMatch;index=i;if(!this.options.flex)break}}if(match){lines=match[0].match(/(?:\r\n?|\n).*/g);if(lines)this.yylineno+=lines.length;this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:lines?lines[lines.length-1].length-lines[lines.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+match[0].length};this.yytext+=match[0];this.match+=match[0];this.matches=match;this.yyleng=this.yytext.length;if(this.options.ranges){this.yylloc.range=[this.offset,this.offset+=this.yyleng]}this._more=!1;this._input=this._input.slice(match[0].length);this.matched+=match[0];token=this.performAction.call(this,this.yy,this,rules[index],this.conditionStack[this.conditionStack.length-1]);if(this.done&&this._input)this.done=!1;if(token)return token;else return}if(""===this._input){return this.EOF}else{return this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})}},lex:function(){var r=this.next();if("undefined"!==typeof r){return r}else{return this.lex()}},begin:function(condition){this.conditionStack.push(condition)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(condition){this.begin(condition)},options:{},performAction:function(yy,yy_,$avoiding_name_collisions,YY_START){switch($avoiding_name_collisions){case 0:return 25;break;case 1:yy.depth++;return 22;break;case 2:0==yy.depth?this.begin("trail"):yy.depth--;return 24;break;case 3:return 12;break;case 4:this.popState();return 28;break;case 5:return 30;break;case 6:return 29;break;case 7:break;case 8:this.begin("indented");break;case 9:this.begin("code");return 5;break;case 10:return 55;break;case 11:yy.options[yy_.yytext]=!0;break;case 12:this.begin("INITIAL");break;case 13:this.begin("INITIAL");break;case 14:break;case 15:return 18;break;case 16:this.begin("INITIAL");break;case 17:this.begin("INITIAL");break;case 18:break;case 19:this.begin("rules");break;case 20:yy.depth=0;this.begin("action");return 22;break;case 21:this.begin("trail");yy_.yytext=yy_.yytext.substr(2,yy_.yytext.length-4);return 11;break;case 22:yy_.yytext=yy_.yytext.substr(2,yy_.yytext.length-4);return 11;break;case 23:this.begin("rules");return 11;break;case 24:break;case 25:break;case 26:break;case 27:break;case 28:return 12;break;case 29:yy_.yytext=yy_.yytext.replace(/\\"/g,"\"");return 54;break;case 30:yy_.yytext=yy_.yytext.replace(/\\'/g,"'");return 54;break;case 31:return 32;break;case 32:return 51;break;case 33:return 37;break;case 34:return 37;break;case 35:return 37;break;case 36:return 35;break;case 37:return 36;break;case 38:return 38;break;case 39:return 29;break;case 40:return 39;break;case 41:return 46;break;case 42:return 30;break;case 43:return 47;break;case 44:this.begin("conditions");return 26;break;case 45:return 41;break;case 46:return 40;break;case 47:return 52;break;case 48:yy_.yytext=yy_.yytext.replace(/^\\/g,"");return 52;break;case 49:return 47;break;case 50:return 45;break;case 51:yy.options={};this.begin("options");break;case 52:this.begin("start_condition");return 14;break;case 53:this.begin("start_condition");return 16;break;case 54:this.begin("rules");return 5;break;case 55:return 53;break;case 56:return 50;break;case 57:return 22;break;case 58:return 24;break;case 59:break;case 60:return 8;break;case 61:return 9;break;}},rules:[/^(?:[^{}]+)/,/^(?:\{)/,/^(?:\})/,/^(?:([a-zA-Z_][a-zA-Z0-9_-]*))/,/^(?:>)/,/^(?:,)/,/^(?:\*)/,/^(?:\n+)/,/^(?:\s+)/,/^(?:%%)/,/^(?:[a-zA-Z0-9_]+)/,/^(?:([a-zA-Z_][a-zA-Z0-9_-]*))/,/^(?:\n+)/,/^(?:\s+\n+)/,/^(?:\s+)/,/^(?:([a-zA-Z_][a-zA-Z0-9_-]*))/,/^(?:\n+)/,/^(?:\s+\n+)/,/^(?:\s+)/,/^(?:.*\n+)/,/^(?:\{)/,/^(?:%\{(.|\n)*?%\})/,/^(?:%\{(.|\n)*?%\})/,/^(?:.+)/,/^(?:\/\*(.|\n|\r)*?\*\/)/,/^(?:\/\/.*)/,/^(?:\n+)/,/^(?:\s+)/,/^(?:([a-zA-Z_][a-zA-Z0-9_-]*))/,/^(?:"(\\\\|\\"|[^"])*")/,/^(?:'(\\\\|\\'|[^'])*')/,/^(?:\|)/,/^(?:\[(\\\\|\\\]|[^\]])*\])/,/^(?:\(\?:)/,/^(?:\(\?=)/,/^(?:\(\?!)/,/^(?:\()/,/^(?:\))/,/^(?:\+)/,/^(?:\*)/,/^(?:\?)/,/^(?:\^)/,/^(?:,)/,/^(?:<<EOF>>)/,/^(?:<)/,/^(?:\/!)/,/^(?:\/)/,/^(?:\\([0-7]{1,3}|[rfntvsSbBwWdD\\*+()${}|[\]\/.^?]|c[A-Z]|x[0-9A-F]{2}|u[a-fA-F0-9]{4}))/,/^(?:\\.)/,/^(?:\$)/,/^(?:\.)/,/^(?:%options\b)/,/^(?:%s\b)/,/^(?:%x\b)/,/^(?:%%)/,/^(?:\{\d+(,\s?\d+|,)?\})/,/^(?:\{([a-zA-Z_][a-zA-Z0-9_-]*)\})/,/^(?:\{)/,/^(?:\})/,/^(?:.)/,/^(?:$)/,/^(?:(.|\n)+)/],conditions:{code:{rules:[60,61],inclusive:!1},start_condition:{rules:[15,16,17,18,60],inclusive:!1},options:{rules:[11,12,13,14,60],inclusive:!1},conditions:{rules:[3,4,5,6,60],inclusive:!1},action:{rules:[0,1,2,60],inclusive:!1},indented:{rules:[20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60],inclusive:!0},trail:{rules:[19,22,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60],inclusive:!0},rules:{rules:[7,8,9,10,22,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60],inclusive:!0},INITIAL:{rules:[22,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60],inclusive:!0}}};return lexer}();parser.lexer=lexer;function Parser(){this.yy={}}Parser.prototype=parser;parser.Parser=Parser;return new Parser}();if("undefined"!==typeof require&&"undefined"!==typeof exports){exports.parser=jisonlex;exports.Parser=jisonlex.Parser;exports.parse=function(){return jisonlex.parse.apply(jisonlex,arguments)};exports.main=function(args){if(!args[1])throw new Error("Usage: "+args[0]+" FILE");var source;if("undefined"!==typeof process){source=require("fs").readFileSync(require("path").resolve(args[1]),"utf8")}else{source=require("file").path(require("file").cwd()).join(args[1]).read({charset:"utf-8"})}return exports.parser.parse(source)};if("undefined"!==typeof module&&require.main===module){exports.main("undefined"!==typeof process?process.argv.slice(1):require("system").args)}}},requires:["fs","path","file","file","system"]});return require}();</script></div><dom-module id="select-hackers"><template><style include="light-page">:host{display:flex;flex-direction:column;padding-bottom:0;height:calc(100vh - 65px);padding:0;--paper-input-container:{padding-bottom:16px;};}.invalid{color:red;}#filters{padding:0 15px;border-bottom:1px solid #eee;display:flex;align-items:center;flex-shrink:0;}#search{flex-grow:100000;}#form{width:150px;}li{margin:15px 0;}iron-list{margin:0 0;overflow-x:hidden;}table{text-align:left;width:100%;table-layout:fixed;}a{color:green;}.tag{color:green;font-weight:bold;display:inline-block;padding:5px;margin:5px;border:2px solid green;}.tag.bad{color:red;border-color:red;}.tag.warn{color:orange;border-color:orange;}.right{float:right;}.card-actions{display:flex;justify-content:space-between;}.card-actions paper-checkbox{margin-left:8px;}a{cursor:pointer;}[label="Status"]{width:100px;}[label="Response"]{width:170px;}#container{display:flex;flex-grow:10000;overflow:hidden;}#list{width:320px;flex-shrink:0;}#list[big]{flex-grow:10000;}#review{flex-grow:1000;}paper-item{cursor:pointer;}#list paper-item[selected]{background-color:#eee;}paper-input{--paper-icon-button:{height:24px;width:24px;padding:2px;};}</style><div id="filters"><paper-dropdown-menu id="form" label="Form" selected-item-label="{{form}}"><paper-listbox slot="dropdown-content"><paper-item>registration</paper-item><paper-item>mentorexpo</paper-item><paper-item>volunteer</paper-item></paper-listbox></paper-dropdown-menu>&nbsp;<paper-input id="search" label="Search" value="{{filters.search}}" minlength="3" stop-keyboard-event-propagation="" disabled="[[!lunr]]" auto-validate=""><paper-icon-button slot="suffix" on-tap="clearSearch" icon="clear" alt="clear" hidden$="[[!filters.search]]" title="clear"></paper-icon-button></paper-input>&nbsp;<paper-dropdown-menu id="form" label="Sort" selected-item-label="{{sort}}"><paper-listbox slot="dropdown-content"><template is="dom-repeat" items="[[keys(sorts)]]"><paper-item>[[item]]</paper-item></template></paper-listbox></paper-dropdown-menu>&nbsp;<div><paper-icon-button icon="[[sortIcon(sortAsc)]]" on-tap="changeSortDir"></paper-icon-button><paper-tooltip>Sort Direction</paper-tooltip></div>&nbsp;<div><paper-icon-button id="showFilters" icon="filter-list" on-tap="showFilters"></paper-icon-button><template is="dom-if" if="[[numFilters(filters, filters.*)]]"><paper-badge for="showFilters" label="[[numFilters(filters, filters.*)]]"></paper-badge></template><paper-tooltip>Filters</paper-tooltip></div>&nbsp;<div><paper-icon-button icon="file-download" on-tap="export"></paper-icon-button><paper-tooltip>Export CSV</paper-tooltip></div>&nbsp;<div><paper-icon-button icon="build" on-tap="openBulkDialog"></paper-icon-button><paper-tooltip>Bulk Actions</paper-tooltip></div>&nbsp; <span>Showing [[filteredCount]] of [[totalCount]]</span></div><div id="container"><iron-list id="list" items="{{filtered}}" big$="[[!sid]]" as="hacker"><template><div><paper-item on-tap="select" selected$="[[selected(hacker.$key, sid)]]"><paper-item-body two-line=""><div><span class="right">[[index(hacker)]]</span> [[title(hacker)]]</div><div secondary=""><template is="dom-if" if="[[hacker.criteria]]"><nw-score score="[[hacker.criteria.score]]" total="[[hacker.criteria.total]]" class="right"></nw-score></template><nw-viewing class="right" position="left" viewers="[[hacker.viewers]]" email="[[user.email]]" name="[[user.displayName]]"></nw-viewing>[[hacker.email]]</div></paper-item-body></paper-item></div></template></iron-list><review-submission hidden$="[[!sid]]" id="review" form="[[form]]" sid="[[sid]]" email="[[user.email]]" name="[[user.displayName]]" disabled="[[!isAdmin]]" questions="[[questions]]" search="[[filters.search]]" _questions="{{_questions}}"></review-submission></div><paper-dialog id="filterhelp" modal=""><h2>Filters</h2><paper-dialog-scrollable><paper-input-container always-float-label=""><label slot="label">Score</label> <span slot="input" class="paper-input-input"><paper-range-slider min="[[filterDefaults.scoreMin]]" max="[[filterDefaults.scoreMax]]" value-min="{{filters.scoreMin}}" value-max="{{filters.scoreMax}}" pin=""></paper-range-slider></span></paper-input-container><paper-dropdown-menu label="Missing Criteria" selected-item-label="{{filters.missingCriteria}}"><paper-listbox slot="dropdown-content"><paper-item></paper-item><template is="dom-repeat" items="[[_questions]]"><paper-item>[[item.slug]]</paper-item></template></paper-listbox></paper-dropdown-menu><paper-dropdown-menu label="Has Tag" selected-item-label="{{filters.tag}}"><paper-listbox slot="dropdown-content"><paper-item></paper-item><template is="dom-repeat" items="[[tags]]"><paper-item>[[item.name]]</paper-item></template></paper-listbox></paper-dropdown-menu><paper-dropdown-menu label="Doesn't Have Tag" selected-item-label="{{filters.no_tag}}"><paper-listbox slot="dropdown-content"><paper-item></paper-item><template is="dom-repeat" items="[[tags]]"><paper-item>[[item.name]]</paper-item></template></paper-listbox></paper-dropdown-menu><paper-input label="Show First N" value="{{filters.firstN}}" type="number" min="0"></paper-input><paper-toggle-button checked="{{filters.showBlacklisted}}">Show Blacklisted Entries</paper-toggle-button><paper-textarea label="Filter Expression" value="{{filters.jsEval}}" rows="3" type="text"></paper-textarea><a target="_blank" href="https://github.com/joewalnes/filtrex#expressions">Expression Documentation</a><pre class="invalid">[[jsEvalError]]</pre><h3>Date Filters</h3><p><b>Note:</b> These are the dates at midnight. Submitted before 2017-12-03 means submitted before 2017-12-03 00:00:00.</p><paper-input label="Submitted After" value="{{filters.submitted_after}}" type="date"></paper-input><paper-input label="Submitted Before" value="{{filters.submitted_before}}" type="date"></paper-input><h3>Properties</h3><p>You can filter search results by specific properties by adding <code>property:value</code> pairs.</p><div><ul><template is="dom-repeat" items="[[filterFields(fields, questions)]]"><li><p><code>[[item.name]]</code>: [[item.label]]</p><p>Type: <code>[[item.type]]</code></p></li></template></ul></div></paper-dialog-scrollable><div class="buttons"><paper-button dialog-confirm="" autofocus="">close</paper-button></div></paper-dialog><paper-dialog id="bulkactions" modal=""><h2>Bulk Actions</h2><paper-dialog-scrollable><p class="tag bad">WARNING: These changes will affect [[filteredCount]] of [[totalCount]] entries.</p><h3>Modify Tags</h3><p>Specify some tags below, and then add/remove them from all filtered entries.</p><p><nw-tags id="bulktags" tags="{{bulk_tags}}" disabled="[[!isAdmin]]"></nw-tags></p><paper-button on-tap="bulkSetTags">Add Tags</paper-button><paper-button on-tap="bulkRemoveTags">Remove Tags</paper-button></paper-dialog-scrollable><div class="buttons"><paper-button dialog-confirm="" autofocus="">close</paper-button></div></paper-dialog><firebase-query id="regs" disabled="[[!isAdmin]]" path="/form/[[form]]" data="{{registrations}}"></firebase-query><firebase-query disabled="[[!isAdmin]]" path="/admin/blacklist" data="{{blacklist}}"></firebase-query><firebase-query disabled="[[!isAdmin]]" path="/admin/tags" data="{{tags}}"></firebase-query><app-route route="{{route}}" active="{{routeActive}}" pattern="/:form/:sid" data="{{routeData}}" tail="{{subRoute}}"></app-route><iron-a11y-keys target="[[target]]" keys="j" on-keys-pressed="handleNext"></iron-a11y-keys><iron-a11y-keys target="[[target]]" keys="k" on-keys-pressed="handlePrev"></iron-a11y-keys></template><script>!function(t,e){"function"==typeof define&&define.amd?define([],e):"object"==("undefined"===typeof module?"undefined":babelHelpers.typeof(module))&&module.exports?module.exports=e():t.CSV=e()}(this,function(){"use strict";function t(t){var e=babelHelpers.typeof(t);return"function"===e||"object"===e&&!!t}function e(t){return"string"==typeof t}function n(t){return!isNaN(+t)}function i(t){return 0==t||1==t}function r(t){return null==t}function o(t){return null!=t}function c(t,e){return o(t)?t:e}function u(t,e){for(var n=0,i=t.length;i>n&&!1!==e(t[n],n);n+=1){}}function s(t){return t.replace(/"/g,"\\\"")}function a(t){return"attrs["+t+"]"}function l(t,e){return n(t)?"Number("+a(e)+")":i(t)?"Boolean("+a(e)+" == true)":"String("+a(e)+")"}function f(t,n,i,r){var o=[];return 3==arguments.length?(n?g(n)?u(i,function(i,r){e(n[r])?n[r]=n[r].toLowerCase():t[n[r]]=n[r],o.push("deserialize[cast["+r+"]]("+a(r)+")")}):u(i,function(t,e){o.push(l(t,e))}):u(i,function(t,e){o.push(a(e))}),o="return ["+o.join(",")+"]"):(n?g(n)?u(i,function(i,c){e(n[c])?n[c]=n[c].toLowerCase():t[n[c]]=n[c],o.push("\""+s(r[c])+"\": deserialize[cast["+c+"]]("+a(c)+")")}):u(i,function(t,e){o.push("\""+s(r[e])+"\": "+l(t,e))}):u(i,function(t,e){o.push("\""+s(r[e])+"\": "+a(e))}),o="return {"+o.join(",")+"}"),Function("attrs","deserialize","cast",o)}function h(t,e){var n,i=0;return u(e,function(e){var r,o=e;-1!=p.indexOf(e)&&(o="\\"+o),r=t.match(RegExp(o,"g")),r&&r.length>i&&(i=r.length,n=e)}),n||e[0]}var p=["|","^"],d=[",",";","  ","|","^"],m=["\r\n","\r","\n"],g=Array.isArray||function(t){return"[object Array]"===toString.call(t)},y=function(){function n(t,n){if(n||(n={}),g(t))this.mode="encode";else{if(!e(t))throw Error("Incompatible format!");this.mode="parse"}this.data=t,this.options={header:c(n.header,!1),cast:c(n.cast,!0)};var i=n.lineDelimiter||n.line,r=n.cellDelimiter||n.delimiter;this.isParser()?(this.options.lineDelimiter=i||h(this.data,m),this.options.cellDelimiter=r||h(this.data,d),this.data=o(this.data,this.options.lineDelimiter)):this.isEncoder()&&(this.options.lineDelimiter=i||"\r\n",this.options.cellDelimiter=r||",")}function i(t,e,n,i,r){t(new e(n,i,r))}function o(t,e){return t.slice(-e.length)!=e&&(t+=e),t}function s(n){return g(n)?"array":t(n)?"object":e(n)?"string":r(n)?"null":"primitive"}return n.prototype.set=function(t,e){return this.options[t]=e},n.prototype.isParser=function(){return"parse"==this.mode},n.prototype.isEncoder=function(){return"encode"==this.mode},n.prototype.parse=function(t){function e(){s={escaped:!1,quote:!1,cell:!0}}function n(){m.cell=""}function r(){m.line=[]}function o(t){m.line.push(s.escaped?t.slice(1,-1).replace(/""/g,"\""):t),n(),e()}function c(t){o(t.slice(0,1-p.lineDelimiter.length))}function u(){d?g(d)?(a=f(y,p.cast,m.line,d),(u=function(){i(t,a,m.line,y,p.cast)})()):d=m.line:(a||(a=f(y,p.cast,m.line)),(u=function(){i(t,a,m.line,y,p.cast)})())}if("parse"==this.mode){if(0===this.data.trim().length)return[];var s,a,l,h=this.data,p=this.options,d=p.header,m={cell:"",line:[]},y=this.deserialize;t||(l=[],t=function(_t){l.push(_t)}),1==p.lineDelimiter.length&&(c=o);var v,A,D,b=h.length,j=p.cellDelimiter.charCodeAt(0),w=p.lineDelimiter.charCodeAt(p.lineDelimiter.length-1);for(e(),v=0,A=0;b>v;v++){D=h.charCodeAt(v),s.cell&&(s.cell=!1,34==D)?s.escaped=!0:s.escaped&&34==D?s.quote=!s.quote:(s.escaped&&s.quote||!s.escaped)&&(D==j?(o(m.cell+h.slice(A,v)),A=v+1):D==w&&(c(m.cell+h.slice(A,v)),A=v+1,(1<m.line.length||""!==m.line[0])&&u(),r()))}return l?l:this}},n.prototype.deserialize={string:function string(t){return t+""},number:function number(t){return+t},boolean:function boolean(t){return!!t}},n.prototype.serialize={object:function object(t){var e=this,n=Object.keys(t),i=Array(n.length);return u(n,function(n,r){i[r]=e[s(t[n])](t[n])}),i},array:function array(t){var e=this,n=Array(t.length);return u(t,function(t,i){n[i]=e[s(t)](t)}),n},string:function string(t){return"\""+(t+"").replace(/"/g,"\"\"")+"\""},null:function _null(){return""},primitive:function primitive(t){return t}},n.prototype.encode=function(t){function n(t){return t.join(c.cellDelimiter)}if("encode"==this.mode){if(0==this.data.length)return"";var i,r,o=this.data,c=this.options,a=c.header,l=o[0],f=this.serialize,h=0;t||(r=Array(o.length),t=function(_t2,e){r[e+h]=_t2}),a&&(g(a)||(i=Object.keys(l),a=i),t(n(f.array(a)),0),h=1);var p,d=s(l);return"array"==d?(g(c.cast)?(p=Array(c.cast.length),u(c.cast,function(t,n){e(t)?p[n]=t.toLowerCase():(p[n]=t,f[t]=t)})):(p=Array(l.length),u(l,function(t,e){p[e]=s(t)})),u(o,function(e,i){var r=Array(p.length);u(e,function(t,e){r[e]=f[p[e]](t)}),t(n(r),i)})):"object"==d&&(i=Object.keys(l),g(c.cast)?(p=Array(c.cast.length),u(c.cast,function(t,n){e(t)?p[n]=t.toLowerCase():(p[n]=t,f[t]=t)})):(p=Array(i.length),u(i,function(t,e){p[e]=s(l[t])})),u(o,function(e,r){var o=Array(i.length);u(i,function(t,n){o[n]=f[p[n]](e[t])}),t(n(o),r)})),r?r.join(c.lineDelimiter):this}},n.prototype.forEach=function(t){return this[this.mode](t)},n}();return y.parse=function(t,e){return new y(t,e).parse()},y.encode=function(t,e){return new y(t,e).encode()},y.forEach=function(t,e,n){return 2==arguments.length&&(n=e),new y(t,e).forEach(n)},y});</script><script>"use strict";var categories=["applied","accepted","waitlisted","rejected"];Object.freeze(categories);var responseCategories=["no response","going","not going","need reimbursement"];Object.freeze(responseCategories);var formComponentOverride={registration:"register"};Object.freeze(formComponentOverride);var _weakSubmitted=new WeakMap,SelectHackers=function(_Polymer$Element){babelHelpers.inherits(SelectHackers,_Polymer$Element);babelHelpers.createClass(SelectHackers,null,[{key:"is",get:function get(){return"select-hackers"}},{key:"properties",get:function get(){return{hackers:{type:Array,value:[]},sid:{value:""},questions:{type:Object},form:{type:String,value:"registration"},categories:{type:Array,value:categories},bulk_tags:{type:Object,value:function value(){return{}}},filters:{type:Object,value:function value(){return{scoreMax:20,scoreMin:0,firstN:0,showBlacklisted:!1}}},filterDefaults:{type:Object,value:function value(){return{scoreMax:20,scoreMin:0,firstN:0,showBlacklisted:!1}}},sorts:{type:Object,value:function value(){return{Relevance:function Relevance(a){return a},Score:function Score(a){return a.sort(function(a,b){return(a.criteria&&a.criteria.score||0)-(b.criteria&&b.criteria.score||0)})},ID:function ID(a){a.sort(function(a,b){return a.$key<b.$key?-1:1});return a},Name:function Name(a){a.sort(function(a,b){return(a.first_name+" "+a.last_name).toLowerCase()<(b.first_name+" "+b.last_name).toLowerCase()?-1:1});return a},"Day Of Waitlist":function DayOfWaitlist(a){a.sort(function(a,b){return a.dayof_waitlist_time<b.dayof_waitlist_time?-1:1});return a}}}},sort:String,sortAsc:{type:Boolean,value:!1},isAdmin:{value:!1},responseCategories:{type:Array,value:responseCategories},route:String,routeData:Object,subRoute:String,lunr:{type:Object,value:!1}}}},{key:"observers",get:function get(){return["handleRegistrations(registrations)","handleRegistrations(registrations.*)","filter(hackers, filters, blacklist, hackers.*, filters.*, sort, sortAsc)","getQuestionMapping(form)","handleRouteData(routeData.form, routeData.sid)"]}}]);function SelectHackers(){var _this;babelHelpers.classCallCheck(this,SelectHackers);_this=babelHelpers.possibleConstructorReturn(this,(SelectHackers.__proto__||Object.getPrototypeOf(SelectHackers)).call(this));_this.sort=Object.keys(_this.sorts)[0];_this.target=document.body;return _this}babelHelpers.createClass(SelectHackers,[{key:"sortIcon",value:function sortIcon(sortAsc){return sortAsc?"arrow-upward":"arrow-downward"}},{key:"changeSortDir",value:function changeSortDir(){this.sortAsc=!this.sortAsc}},{key:"selected",value:function selected(sid1,sid2){return sid1===sid2}},{key:"handleRouteData",value:function handleRouteData(form,sid){if(!form||!sid){return}this.setProperties({form:form,sid:sid})}},{key:"cleanEmail",value:function cleanEmail(email){return(email||"").toLowerCase().trim()}},{key:"keys",value:function keys(a){return Object.keys(a)}},{key:"handleRegistrations",value:function handleRegistrations(){if(this.lastRender){clearTimeout(this.lastRender)}this.lastRender=setTimeout(this.handleRegistrationsInternal.bind(this),300)}},{key:"hasPrefix",value:function hasPrefix(a,prefix){return a.slice(0,prefix.length)===prefix}},{key:"bulkSetTags",value:function bulkSetTags(){var tags=this.$.bulktags.list().map(function(a){return a.slug||a.name}),hackers=this.filtered;if(!confirm("You are about to add tags to ".concat(hackers.length," entries.\n        Tags: ").concat(tags.join(", ")))){return}var _iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _iterator=tags[Symbol.iterator](),_step,tag;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){tag=_step.value;this.tag(tag,hackers,!1)}}catch(err){_didIteratorError=!0;_iteratorError=err}finally{try{if(!_iteratorNormalCompletion&&null!=_iterator.return){_iterator.return()}}finally{if(_didIteratorError){throw _iteratorError}}}}},{key:"bulkRemoveTags",value:function bulkRemoveTags(){var tags=this.$.bulktags.list().map(function(a){return a.slug||a.name}),hackers=this.filtered;if(!confirm("You are about to remove tags from ".concat(hackers.length," entries.\n        Tags: ").concat(tags.join(", ")))){return}var _iteratorNormalCompletion2=!0,_didIteratorError2=!1,_iteratorError2=void 0;try{for(var _iterator2=tags[Symbol.iterator](),_step2,tag;!(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done);_iteratorNormalCompletion2=!0){tag=_step2.value;this.tag(tag,hackers,!0)}}catch(err){_didIteratorError2=!0;_iteratorError2=err}finally{try{if(!_iteratorNormalCompletion2&&null!=_iterator2.return){_iterator2.return()}}finally{if(_didIteratorError2){throw _iteratorError2}}}}},{key:"tag",value:function tag(_tag,hackers,clear){var regs=this.$.regs,value=clear?null:!0,_iteratorNormalCompletion3=!0,_didIteratorError3=!1,_iteratorError3=void 0;try{for(var _iterator3=hackers[Symbol.iterator](),_step3;!(_iteratorNormalCompletion3=(_step3=_iterator3.next()).done);_iteratorNormalCompletion3=!0){var hacker=_step3.value,path="".concat(regs.path,"/").concat(hacker.$key,"/tags/").concat(_tag);regs.setStoredValue(path,value)}}catch(err){_didIteratorError3=!0;_iteratorError3=err}finally{try{if(!_iteratorNormalCompletion3&&null!=_iterator3.return){_iterator3.return()}}finally{if(_didIteratorError3){throw _iteratorError3}}}}},{key:"handleRegistrationsInternal",value:function handleRegistrationsInternal(){var _this2=this,hackers=this.registrations;hackers.forEach(function(a){a.id=a.$key});var dedup={};hackers.forEach(function(hacker,i){hacker.index=i;var email=_this2.cleanEmail(hacker.email);hacker.cleanEmail=email;var _ref=dedup[email]||{count:0},count=_ref.count;dedup[email]={last:hacker.id,count:count+1}});hackers.forEach(function(hacker){var _dedup$hacker$cleanEm=dedup[hacker.cleanEmail],last=_dedup$hacker$cleanEm.last,count=_dedup$hacker$cleanEm.count;if(1<count&&last!==hacker.id){hacker.duplicate=!0}});hackers.forEach(function(hacker){var lowerSchool=_this2.cleanEmail(hacker.school);if(0<=lowerSchool.indexOf("secondary")||0<=lowerSchool.indexOf("high")){hacker.hs=!0}if(!hacker.status){hacker.status="applied"}else if(-1===categories.indexOf(hacker.status)){hacker.status=categories[hacker.status]}});this.updateEmailIndex(hackers);this.updateLunrIndex(hackers);console.log("updated");this.hackers=hackers}},{key:"weakSubmitted",value:function weakSubmitted(hacker){if(!_weakSubmitted.has(hacker)){var submitted=moment(hacker.submitted||0);_weakSubmitted.set(hacker,submitted)}return _weakSubmitted.get(hacker)}},{key:"numFilters",value:function numFilters(filters){if(!filters){return}for(var count=0,_arr=Object.keys(filters),_i=0,filter;_i<_arr.length;_i++){filter=_arr[_i];if("search"!==filter&&filters[filter]&&this.filterDefaults[filter]!=filters[filter]){count+=1}}return count}},{key:"index",value:function index(hacker){return hacker.index}},{key:"updateEmailIndex",value:function updateEmailIndex(hackers){var emailIndex={};hackers.forEach(function(hacker){if(hacker.duplicate){return}emailIndex[hacker.cleanEmail]=hacker});this.emailIndex=emailIndex}},{key:"filterFields",value:function filterFields(fields,questions){if(!fields||!questions){return[]}var qmap={},_iteratorNormalCompletion4=!0,_didIteratorError4=!1,_iteratorError4=void 0;try{for(var _iterator4=questions[Symbol.iterator](),_step4,q;!(_iteratorNormalCompletion4=(_step4=_iterator4.next()).done);_iteratorNormalCompletion4=!0){q=_step4.value;qmap[q.name]=q}}catch(err){_didIteratorError4=!0;_iteratorError4=err}finally{try{if(!_iteratorNormalCompletion4&&null!=_iterator4.return){_iterator4.return()}}finally{if(_didIteratorError4){throw _iteratorError4}}}var display=[],_iteratorNormalCompletion5=!0,_didIteratorError5=!1,_iteratorError5=void 0;try{for(var _iterator5=fields[Symbol.iterator](),_step5;!(_iteratorNormalCompletion5=(_step5=_iterator5.next()).done);_iteratorNormalCompletion5=!0){var f=_step5.value,_q=qmap[f];if(_q){display.push(_q)}}}catch(err){_didIteratorError5=!0;_iteratorError5=err}finally{try{if(!_iteratorNormalCompletion5&&null!=_iterator5.return){_iterator5.return()}}finally{if(_didIteratorError5){throw _iteratorError5}}}return display}},{key:"updateLunrIndex",value:function updateLunrIndex(hackers){if(this.lastLunrIndexCount===hackers.length||0===hackers.length){return}this.lastLunrIndexCount=hackers.length;var fields=new Set;hackers.forEach(function(hacker){for(var _arr2=Object.keys(hacker),_i2=0;_i2<_arr2.length;_i2++){var field=_arr2[_i2],type=babelHelpers.typeof(hacker[field]);if("object"===type){continue}fields.add(field)}});var blacklist=new Set(["$key","index","id","birthday","submitted","resume","phone","emergency_phone","cleanEmail"]);this.fields=Array.from(fields).filter(function(a){return!blacklist.has(a)});var builder=new lunr.Builder;builder.pipeline.add(lunr.trimmer,lunr.stopWordFilter,lunr.stemmer);builder.searchPipeline.add(lunr.stemmer);builder.ref("index");var _iteratorNormalCompletion6=!0,_didIteratorError6=!1,_iteratorError6=void 0;try{for(var _iterator6=this.fields[Symbol.iterator](),_step6,field;!(_iteratorNormalCompletion6=(_step6=_iterator6.next()).done);_iteratorNormalCompletion6=!0){field=_step6.value;builder.field(field)}}catch(err){_didIteratorError6=!0;_iteratorError6=err}finally{try{if(!_iteratorNormalCompletion6&&null!=_iterator6.return){_iterator6.return()}}finally{if(_didIteratorError6){throw _iteratorError6}}}this.asyncBuildIndex(builder,hackers)}},{key:"asyncBuildIndex",value:function asyncBuildIndex(builder,hackers){var _this3=this;if(!hackers||0===hackers.length){this.lunr=builder.build();this.pruneIndex(this.lunr);console.log("asyncBuildIndex: done!");return}requestIdleCallback(function(){var batchSize=25;hackers.slice(0,batchSize).forEach(function(hacker){builder.add(hacker)});_this3.asyncBuildIndex(builder,hackers.slice(batchSize))},{timeout:100})}},{key:"pruneIndex",value:function pruneIndex(index){for(var empty={},handler={get:function get(target,name){return target[name]||empty}},_arr3=Object.keys(index.invertedIndex),_i3=0;_i3<_arr3.length;_i3++){for(var key=_arr3[_i3],val=index.invertedIndex[key],_arr4=Object.keys(val),_i4=0,field;_i4<_arr4.length;_i4++){field=_arr4[_i4];if("_index"===field){continue}if(0===Object.keys(val[field]).length){delete val[field]}}index.invertedIndex[key]=new Proxy(val,handler)}}},{key:"clearSearch",value:function clearSearch(){this.set("filters.search","")}},{key:"responseCat",value:function responseCat(i){return this.responseCategories[i]}},{key:"export",value:function _export(){var _this4=this,flat=this.filtered.map(function(a){return JSON.parse(JSON.stringify(_this4.flatten(a,!1)))}),csv=CSV.encode(flat,{header:!0});this.downloadFile("applicants_export.csv",csv)}},{key:"downloadFile",value:function downloadFile(filename,content){var blob=new Blob([content],{type:"text/csv;charset=utf-8"});window.saveAs(blob,filename)}},{key:"title",value:function title(hacker){return hacker.name||hacker.first_name+" "+hacker.last_name}},{key:"filter",value:function filter(hackers,filters,blacklist){var _this5=this;if(!this.sort){return}var filtered=hackers;this.totalCount=hackers.length;if(filters.search&&1<=filters.search.length){var rawResults=this.lunr.search(filters.search);filtered=rawResults.map(function(result){return hackers[result.ref]})}var blacklistEmails=new Set;blacklist.forEach(function(entry){blacklistEmails.add(_this5.cleanEmail(entry.email))});var submitted_before=moment(filters.submitted_before||0),submitted_after=moment(filters.submitted_after||0);this.jsEvalError="";var expressionFilter;if(filters.jsEval){try{expressionFilter=compileExpression(filters.jsEval)}catch(e){this.jsEvalError=e.toString()}}filtered=filtered.filter(function(hacker){if(hacker.duplicate){return!1}var valid=!0;if(filters.scoreMin!==_this5.filterDefaults.scoreMin){valid=valid&&hacker.criteria&&hacker.criteria.score>=filters.scoreMin}if(filters.scoreMax!==_this5.filterDefaults.scoreMax){valid=valid&&hacker.criteria&&hacker.criteria.score<=filters.scoreMax}if(filters.tag){valid=valid&&hacker.tags&&hacker.tags.hasOwnProperty(filters.tag)}if(filters.no_tag){valid=valid&&(!hacker.tags||!hacker.tags.hasOwnProperty(filters.no_tag))}if(filters.submitted_after){valid=valid&&_this5.weakSubmitted(hacker)>=submitted_after}if(filters.submitted_before){valid=valid&&_this5.weakSubmitted(hacker)<=submitted_before}if(filters.missingCriteria){valid=valid&&(!hacker.criteria||!hacker.criteria[filters.missingCriteria])}if(filters.jsEval&&expressionFilter){valid=valid&&expressionFilter(_this5.flatten(hacker,!0))}if(!filters.showBlacklisted){valid=valid&&!blacklistEmails.has(hacker.cleanEmail)}return valid});filtered=this.sorts[this.sort].call(this,filtered);if(this.sortAsc){filtered=filtered.reverse()}var firstN=parseInt(filters.firstN||"");if(firstN){filtered=filtered.slice(0,firstN)}hackers.forEach(function(hacker,i){hacker.index=i});var scroll=this.$.list.scrollTop;console.log("filtered");this.filtered=filtered;this.filteredCount=filtered.length;this.$.list.scroll(0,scroll);filtered.forEach(function(hacker,i){_this5.linkPaths(["filtered",i],["registrations",hacker.index])})}},{key:"flatten",value:function flatten(obj,intermediate){var to={};this._flatten(to,obj,"",intermediate);return to}},{key:"_flatten",value:function _flatten(to,obj,path,intermediate){if("object"===babelHelpers.typeof(obj)){for(var _arr5=Object.keys(obj),_i5=0,key;_i5<_arr5.length;_i5++){key=_arr5[_i5];if(path){this._flatten(to,obj[key],path+"."+key,intermediate)}else{this._flatten(to,obj[key],key,intermediate)}}if(intermediate){to[path]=!0}}else{to[path]=obj}}},{key:"handleNext",value:function handleNext(){this.selectMove(1)}},{key:"handlePrev",value:function handlePrev(){this.selectMove(-1)}},{key:"select",value:function select(e){this.setSID(e.model.hacker.$key)}},{key:"selectMove",value:function selectMove(dir){var hacker=this.hackerBySID(this.sid);if(!hacker){return}var filteredIndex=this.filtered.indexOf(hacker);if(-1===filteredIndex){return}var newIndex=(filteredIndex+dir)%this.filtered.length,newHacker=this.filtered[newIndex];if(!newHacker){return}this.setSID(newHacker.$key);var list=this.$.list;if(list.lastVisibleIndex<newIndex||list.firstVisibleIndex>newIndex){list.scrollToIndex(newIndex)}}},{key:"hackerBySID",value:function hackerBySID(sid){var _iteratorNormalCompletion7=!0,_didIteratorError7=!1,_iteratorError7=void 0;try{for(var _iterator7=this.hackers[Symbol.iterator](),_step7,hacker;!(_iteratorNormalCompletion7=(_step7=_iterator7.next()).done);_iteratorNormalCompletion7=!0){hacker=_step7.value;if(!hacker.duplicate&&hacker.$key===sid){return hacker}}}catch(err){_didIteratorError7=!0;_iteratorError7=err}finally{try{if(!_iteratorNormalCompletion7&&null!=_iterator7.return){_iterator7.return()}}finally{if(_didIteratorError7){throw _iteratorError7}}}}},{key:"setSID",value:function setSID(sid){this.sid=sid;this.set("route.path","/".concat(this.form,"/").concat(sid))}},{key:"showFilters",value:function showFilters(){this.$.filterhelp.open()}},{key:"getQuestionMapping",value:function getQuestionMapping(form){var _this6=this;form=formComponentOverride[form]||form;var elemName=form+"-form";Polymer.importHref("components/"+elemName+"/"+elemName+".html",function(){var elem=document.createElement(elemName);elem.style.display="none";document.body.append(elem);var questions=[],q=[elem];while(0<q.length){var e=q.shift();if(e.validate&&e.name){questions.push({name:e.name,type:e.tagName.toLowerCase(),label:(e.label||e.textContent.trim().split("\n")[0]).trim()})}q=Array.from(e.children).concat(q);if(e.root){q=Array.from(e.root.children).concat(q)}}_this6.questions=questions;elem.remove()},null,!0)}},{key:"openBulkDialog",value:function openBulkDialog(){this.$.bulkactions.open()}}]);return SelectHackers}(Polymer.Element);customElements.define(SelectHackers.is,SelectHackers);</script></dom-module></body></html>